import{a as T,p as I}from"./motion-utils.DBsP9okC.js";const B=T((()=>void 0!==window.ScrollTimeline));class D{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map((t=>"finished"in t?t.finished:t)))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t,e){const n=this.animations.map((n=>B()&&n.attachTimeline?n.attachTimeline(t):"function"==typeof e?e(n):void 0));return()=>{n.forEach(((t,e)=>{t&&t(),this.animations[e].stop()}))}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach((e=>e[t]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class j extends D{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}function q(t,e){return t?t[e]||t.default||t:void 0}const A=2e4;function F(t){let e=0;let n=t.next(e);for(;!n.done&&e<A;)e+=50,n=t.next(e);return e>=A?1/0:e}function H(t){return"function"==typeof t}function R(t,e){t.timeline=e,t.onfinish=null}const L=t=>Array.isArray(t)&&"number"==typeof t[0],S={linearEasing:void 0};function $(t,e){const n=T(t);return()=>{var t;return null!==(t=S[e])&&void 0!==t?t:n()}}const E=$((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}),"linearEasing"),N=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let e=0;e<i;e++)r+=t(I(0,i-1,e))+", ";return`linear(${r.substring(0,r.length-2)})`};function z(t){return!!("function"==typeof t&&E()||!t||"string"==typeof t&&(t in g||E())||L(t)||Array.isArray(t)&&t.every(z))}const d=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,g={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:d([0,.65,.55,1]),circOut:d([.55,0,1,.45]),backIn:d([.31,.01,.66,-.59]),backOut:d([.33,1.53,.69,.99])};function K(t,e){if(t)return"function"==typeof t&&E()?N(t,e):L(t)?d(t):Array.isArray(t)?t.map((t=>K(t,e)||g.easeOut)):g[t]}const a={x:!1,y:!1};function x(){return a.x||a.y}function M(t,e,n){if(t instanceof Element)return[t];if("string"==typeof t){const e=document.querySelectorAll(t);return e?Array.from(e):[]}return Array.from(t)}function k(t,e){const n=M(t),r=new AbortController;return[n,{passive:!0,...e,signal:r.signal},()=>r.abort()]}function v(t){return e=>{"touch"===e.pointerType||x()||t(e)}}function X(t,e,n={}){const[r,i,a]=k(t,n),s=v((t=>{const{target:n}=t,r=e(t);if("function"!=typeof r||!n)return;const a=v((t=>{r(t),n.removeEventListener("pointerleave",a)}));n.addEventListener("pointerleave",a,i)}));return r.forEach((t=>{t.addEventListener("pointerenter",s,i)})),a}const G=(t,e)=>!!e&&(t===e||G(t,e.parentElement)),O=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary,U=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function W(t){return U.has(t.tagName)||-1!==t.tabIndex}const p=new WeakSet;function w(t){return e=>{"Enter"===e.key&&t(e)}}function y(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const V=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=w((()=>{if(p.has(n))return;y(n,"down");const t=w((()=>{y(n,"up")}));n.addEventListener("keyup",t,e),n.addEventListener("blur",(()=>y(n,"cancel")),e)}));n.addEventListener("keydown",r,e),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),e)};function P(t){return O(t)&&!x()}function J(t,e,n={}){const[r,i,a]=k(t,n),s=t=>{const r=t.currentTarget;if(!P(t)||p.has(r))return;p.add(r);const a=e(t),s=(t,e)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",u),P(t)&&p.has(r)&&(p.delete(r),"function"==typeof a&&a(t,{success:e}))},o=t=>{s(t,n.useGlobalTarget||G(r,t.target))},u=t=>{s(t,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",u,i)};return r.forEach((t=>{!W(t)&&null===t.getAttribute("tabindex")&&(t.tabIndex=0),(n.useGlobalTarget?window:t).addEventListener("pointerdown",s,i),t.addEventListener("focus",(t=>V(t,i)),i)})),a}function Q(t){return"x"===t||"y"===t?a[t]?null:(a[t]=!0,()=>{a[t]=!1}):a.x||a.y?null:(a.x=a.y=!0,()=>{a.x=a.y=!1})}export{j as G,L as a,K as b,F as c,R as d,z as e,q as f,N as g,O as h,H as i,Q as j,X as k,A as m,J as p,E as s};