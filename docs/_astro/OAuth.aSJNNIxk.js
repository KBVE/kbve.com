import{r as s,j as o}from"./react.CvslfkeK.js";import{c as u}from"./@supabase.aKZxS6oP.js";import"./@react-three.B-wTPXHf.js";import"./Page.astro_astro_type_script_index_0_lang.CHoS6oJr.js";import"./react-dom.CtWA3ti2.js";import"./svelte.BEh2_tzM.js";import"./esm-env.rsSWfq8L.js";const a={auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}},l=u("https://qmpdruitzlownnnnjmpk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFtcGRydWl0emxvd25ubm5qbXBrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk2NjA0NTYsImV4cCI6MjA2NTIzNjQ1Nn0.OhD3qN4dq0TMA65qVGvry_QsZEeLKK7RbwYP3QzAvcY",a),w=()=>{const[e,t]=s.useState("loading"),[n,r]=s.useState("");return s.useEffect(()=>{(async()=>{const{data:c,error:i}=await l.auth.getUser();i?(t("error"),r(i.message||"Failed to fetch user session."),setTimeout(()=>{window.location.href="/login"},3e3)):c?.user?(t("success"),setTimeout(()=>{window.location.href="/profile"},1e3)):(t("error"),r("No user session found."),setTimeout(()=>{window.location.href="/login"},3e3)),window.location.hash=""})()},[]),e==="loading"?null:e==="success"?o.jsx("div",{className:"text-green-500 text-center",children:"Login successful! Redirecting…"}):e==="error"?o.jsxs("div",{className:"text-red-500 text-center",children:[n," Redirecting…"]}):null};export{w as OAuth};
