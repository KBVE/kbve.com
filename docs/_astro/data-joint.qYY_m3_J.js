import{i as _}from"./index-array-by.D2QHmuxS.js";function C(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,u,f=[],l=!0,o=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(f.push(n.value),f.length!==e);l=!0);}catch(c){o=!0,a=c}finally{try{if(!l&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(o)throw a}}return f}}function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function H(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S(Object(r),!0).forEach(function(n){B(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B(t,e,r){return e=q(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function L(t,e){if(t==null)return{};var r=K(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function x(t,e){return k(t)||C(t,e)||D(t,e)||R()}function w(t){return V(t)||M(t)||D(t)||N()}function V(t){if(Array.isArray(t))return P(t)}function k(t){if(Array.isArray(t))return t}function M(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D(t,e){if(t){if(typeof t=="string")return P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(t,e)}}function P(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function N(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q(t){var e=U(t,"string");return typeof e=="symbol"?e:String(e)}var z=["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"];function F(t,e,r){var n={enter:[],update:[],exit:[]};if(r){var u=_(t,r,!1),f=_(e,r,!1),l=Object.assign({},u,f);Object.entries(l).forEach(function(o){var c=x(o,2),s=c[0],b=c[1],j=u.hasOwnProperty(s)?f.hasOwnProperty(s)?"update":"exit":"enter";n[j].push(j==="update"?[u[s],f[s]]:b)})}else{var a=new Set(t),i=new Set(e);new Set([].concat(w(a),w(i))).forEach(function(o){var c=a.has(o)?i.has(o)?"update":"exit":"enter";n[c].push(c==="update"?[o,o]:o)})}return n}function G(t,e,r){var n=r.objBindAttr,a=n===void 0?"__obj":n,i=r.dataBindAttr,u=i===void 0?"__data":i,f=r.idAccessor,l=r.purge,o=l===void 0?!1:l,c=function(O){return O.hasOwnProperty(u)},s=e.filter(function(d){return!c(d)}),b=e.filter(c).map(function(d){return d[u]}),j=t,v=o?{enter:j,exit:b,update:[]}:F(b,j,f);return v.update=v.update.map(function(d){var O=x(d,2),A=O[0],m=O[1];return A!==m&&(m[a]=A[a],m[a][u]=m),m}),v.exit=v.exit.concat(s.map(function(d){return B({},a,d)})),v}function Q(t,e,r,n,a){var i=a.createObj,u=i===void 0?function(y){return{}}:i,f=a.updateObj,l=f===void 0?function(y,p){}:f,o=a.exitObj,c=o===void 0?function(y){}:o,s=a.objBindAttr,b=s===void 0?"__obj":s,j=a.dataBindAttr,v=j===void 0?"__data":j,d=L(a,z),O=G(t,e,H({objBindAttr:b,dataBindAttr:v},d)),A=O.enter,m=O.update,E=O.exit;E.forEach(function(y){var p=y[b];delete y[b],c(p),n(p)});var $=I(A),T=[].concat(w(A),w(m));W(T),$.forEach(r);function I(y){var p=[];return y.forEach(function(h){var g=u(h);g&&(g[v]=h,h[b]=g,p.push(g))}),p}function W(y){y.forEach(function(p){var h=p[b];h&&(h[v]=p,l(h,p))})}}export{Q as v};
