import{c as g}from"./character-entities-legacy.BpoLgcEt.js";import{c as i}from"./character-entities-html4.D7taRCQ7.js";const h=/["&'<>`]/g,m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,x=/[|\\{}()[\]^$+*?.]/g,f=new WeakMap;function C(t,e){return t=t.replace(e.subset?S(e.subset):h,n),e.subset||e.escapeOnly?t:t.replace(m,(function(t,n,r){return e.format(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536,r.charCodeAt(n+2),e)})).replace(d,n);function n(t,n,r){return e.format(t.charCodeAt(0),r.charCodeAt(n+1),e)}}function S(t){let e=f.get(t);return e||(e=R(t),f.set(t,e)),e}function R(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(x,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const F=/[\dA-Fa-f]/;function A(t,e,n){const r="&#x"+t.toString(16).toUpperCase();return n&&e&&!F.test(String.fromCharCode(e))?r:r+";"}const p=/\d/;function E(t,e,n){const r="&#"+String(t);return n&&e&&!p.test(String.fromCharCode(e))?r:r+";"}const D=["cent","copy","divide","gt","lt","not","para","times"],l={}.hasOwnProperty,u={};let o;for(o in i)l.call(i,o)&&(u[i[o]]=o);const y=/[^\dA-Za-z]/;function O(t,e,n,r){const o=String.fromCharCode(t);if(l.call(u,o)){const t=u[o],s="&"+t;return n&&g.includes(t)&&!D.includes(t)&&(!r||e&&61!==e&&y.test(String.fromCharCode(e)))?s:s+";"}return""}function b(t,e,n){let r,o=A(t,e,n.omitOptionalSemicolons);if((n.useNamedReferences||n.useShortestReferences)&&(r=O(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!r)&&n.useShortestReferences){const r=E(t,e,n.omitOptionalSemicolons);r.length<o.length&&(o=r)}return r&&(!n.useShortestReferences||r.length<o.length)?r:o}function j(t,e){return C(t,Object.assign({format:b},e))}export{j as s};