import{r as l,j as e}from"./react.CvslfkeK.js";import{u}from"./@nanostores.J-Z5GVtw.js";import{c as a}from"./userstate.ClT1tpkg.js";import{s as i}from"./supabaseClient.BT68OKvR.js";import"./@react-three.B-wTPXHf.js";import"./nanostores.Bo9-_MAV.js";import"./@supabase.d6fxE5ud.js";import"./Page.astro_astro_type_script_index_0_lang.Db7LHE3J.js";import"./react-dom.CtWA3ti2.js";import"./svelte.BEh2_tzM.js";import"./esm-env.rsSWfq8L.js";const m=({open:t,onClose:r,children:o})=>t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:e.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-xl p-8 max-w-md w-full relative",children:[e.jsx("button",{className:"absolute top-3 right-3 text-neutral-400 hover:text-neutral-700 dark:hover:text-white text-xl",onClick:r,"aria-label":"Close",children:"Ã—"}),o]})}):null,z=()=>{const t=u(a),[r,o]=l.useState(!1);l.useEffect(()=>{t?o(!0):i.auth.getUser().then(({data:s,error:x})=>{s?.user?(a.set(s.user),o(!0)):o(!1)})},[t]);const n=t?.user_metadata?.display_name||t?.email||"User",c=async()=>{await i.auth.signOut(),window.location.reload()},d=()=>{window.location.href="/profile"};return e.jsx(m,{open:r,onClose:()=>o(!1),children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ‘‹"}),e.jsxs("h2",{className:"text-xl font-bold mb-2 text-cyan-500",children:["Hey, ",n,"!"]}),e.jsxs("p",{className:"mb-4 text-zinc-600 dark:text-zinc-300",children:["Opps, you seem to already be logged in.",e.jsx("br",{}),"Would you like to go to your profile or log out before trying to login/register?"]}),e.jsxs("div",{className:"flex gap-3 mt-2",children:[e.jsx("button",{className:"bg-gradient-to-br from-cyan-400 to-purple-500 text-white font-semibold py-2 px-5 rounded-full shadow hover:from-cyan-300 hover:to-purple-400 transition",onClick:d,children:"Go to Profile"}),e.jsx("button",{className:"bg-zinc-200 dark:bg-zinc-700 text-zinc-800 dark:text-white font-semibold py-2 px-5 rounded-full shadow hover:bg-zinc-300 dark:hover:bg-zinc-600 transition",onClick:c,children:"Logout"})]})]})})};export{z as default};
