import{S as Se,i as Re,s as ze,z as De,a as L,e as i,t as be,A as Ae,f as c,c as T,b as d,d as b,g as ce,h as _e,j as a,l as r,k as re,m as Y,n as te,p as Me,o as ge,q as pe,r as Oe,v as Ue,w as qe,B as Ne,y as se,x as z}from"./index.SuMQvQK_.js";import{g as Be}from"./globals.D0QH3NT1.js";import"./khashvault.B92RoTXM.js";import{h as je,a as Fe,c as He,b as Ye,d as Ke,r as Ge,s as Je}from"./engine.DFLqlRp0.js";import"./index.CgBe15gE.js";import"./index.BH1EYZ08.js";const{document:he}=Be;function Le(l){let t,e;return{c(){t=i("script"),this.h()},l(o){t=d(o,"SCRIPT",{src:!0});var m=b(t);m.forEach(c),this.h()},h(){se(t.src,e=l[9])||a(t,"src",e),t.async=!0,t.defer=!0},m(o,m){re(o,t,m)},p:pe,d(o){o&&c(t)}}}function Te(l){let t,e,o,m,_,h;return{c(){t=i("div"),e=i("dotlottie-player"),m=L(),_=i("span"),h=be(l[7]),this.h()},l(s){t=d(s,"DIV",{class:!0});var n=b(t);e=d(n,"DOTLOTTIE-PLAYER",{autoplay:!0,loop:!0,class:!0,mode:!0,src:!0});var p=b(e);p.forEach(c),m=T(n),_=d(n,"SPAN",{class:!0});var D=b(_);h=_e(D,l[7]),D.forEach(c),n.forEach(c),this.h()},h(){z(e,"autoplay",""),z(e,"loop",""),z(e,"class","w-8"),z(e,"mode","normal"),se(e.src,o="/assets/lottie/"+l[2])||z(e,"src",o),a(_,"class","text-lg text-red-600 dark:text-red-300"),a(t,"class","flex")},m(s,n){re(s,t,n),r(t,e),r(t,m),r(t,_),r(_,h)},p(s,n){n&4&&!se(e.src,o="/assets/lottie/"+s[2])&&z(e,"src",o),n&128&&ge(h,s[7])},d(s){s&&c(t)}}}function Ve(l){let t,e,o,m,_,h;return{c(){t=i("div"),e=i("dotlottie-player"),m=L(),_=i("span"),h=be(l[8]),this.h()},l(s){t=d(s,"DIV",{class:!0});var n=b(t);e=d(n,"DOTLOTTIE-PLAYER",{autoplay:!0,loop:!0,class:!0,mode:!0,src:!0});var p=b(e);p.forEach(c),m=T(n),_=d(n,"SPAN",{class:!0});var D=b(_);h=_e(D,l[8]),D.forEach(c),n.forEach(c),this.h()},h(){z(e,"autoplay",""),z(e,"loop",""),z(e,"class","w-8"),z(e,"mode","normal"),se(e.src,o="/assets/lottie/"+l[2])||z(e,"src",o),a(_,"class","text-lg text-cyan-600 dark:text-cyan-300"),a(t,"class","flex")},m(s,n){re(s,t,n),r(t,e),r(t,m),r(t,_),r(_,h)},p(s,n){n&4&&!se(e.src,o="/assets/lottie/"+s[2])&&z(e,"src",o),n&256&&ge(h,s[8])},d(s){s&&c(t)}}}function Qe(l){let t,e,o,m,_,h,s,n,p,D="Username",K,U,y,G,A,P,ae="Email Address",W,F,g,O,S,V,X='<label for="register-password" class="mb-1 block text-xs md:text-sm md:mb-2 text-neutral-800 dark:text-neutral-200">Password</label>',E,q,I,Z,N,B,le='<label for="confirm-register-password" class="mb-1 block text-xs md:text-sm md:mb-2 text-neutral-800 dark:text-neutral-200">Confirm Password</label>',f,M,v,H,$,J,fe,j,ee=l[1]?"Loading...":"Register",oe,me,ye,k=l[0]&&!window?.hcaptcha&&Le(l),w=l[7]&&Te(l),x=l[8]&&Ve(l);return{c(){k&&k.c(),t=De(),e=L(),o=i("div"),w&&w.c(),m=L(),x&&x.c(),_=L(),h=i("form"),s=i("div"),n=i("div"),p=i("label"),p.textContent=D,K=L(),U=i("div"),y=i("input"),G=L(),A=i("div"),P=i("label"),P.textContent=ae,W=L(),F=i("div"),g=i("input"),O=L(),S=i("div"),V=i("div"),V.innerHTML=X,E=L(),q=i("div"),I=i("input"),Z=L(),N=i("div"),B=i("div"),B.innerHTML=le,f=L(),M=i("div"),v=i("input"),H=L(),$=i("div"),J=i("div"),fe=L(),j=i("button"),oe=be(ee),this.h()},l(u){const C=Ae("svelte-xzymey",he.head);k&&k.l(C),t=De(),C.forEach(c),e=T(u),o=d(u,"DIV",{});var Q=b(o);w&&w.l(Q),m=T(Q),x&&x.l(Q),_=T(Q),h=d(Q,"FORM",{id:!0,action:!0});var ve=b(h);s=d(ve,"DIV",{class:!0});var R=b(s);n=d(R,"DIV",{});var ne=b(n);p=d(ne,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ce(p)!=="svelte-3ztkdk"&&(p.textContent=D),K=T(ne),U=d(ne,"DIV",{});var ke=b(U);y=d(ke,"INPUT",{type:!0,id:!0,name:!0,autocomplete:!0,class:!0,"aria-describedby":!0}),ke.forEach(c),ne.forEach(c),G=T(R),A=d(R,"DIV",{});var ie=b(A);P=d(ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),ce(P)!=="svelte-tys8zs"&&(P.textContent=ae),W=T(ie),F=d(ie,"DIV",{});var we=b(F);g=d(we,"INPUT",{type:!0,id:!0,name:!0,autocomplete:!0,class:!0,"aria-describedby":!0}),we.forEach(c),ie.forEach(c),O=T(R),S=d(R,"DIV",{});var de=b(S);V=d(de,"DIV",{class:!0,"data-svelte-h":!0}),ce(V)!=="svelte-1f1cfl6"&&(V.innerHTML=X),E=T(de),q=d(de,"DIV",{});var xe=b(q);I=d(xe,"INPUT",{type:!0,id:!0,name:!0,class:!0,"aria-describedby":!0}),xe.forEach(c),de.forEach(c),Z=T(R),N=d(R,"DIV",{});var ue=b(N);B=d(ue,"DIV",{class:!0,"data-svelte-h":!0}),ce(B)!=="svelte-189nfcj"&&(B.innerHTML=le),f=T(ue),M=d(ue,"DIV",{});var Ee=b(M);v=d(Ee,"INPUT",{type:!0,id:!0,name:!0,class:!0,"aria-describedby":!0}),Ee.forEach(c),ue.forEach(c),H=T(R),$=d(R,"DIV",{});var Ie=b($);J=d(Ie,"DIV",{id:!0,class:!0}),b(J).forEach(c),Ie.forEach(c),fe=T(R),j=d(R,"BUTTON",{type:!0,class:!0});var Ce=b(j);oe=_e(Ce,ee),Ce.forEach(c),R.forEach(c),ve.forEach(c),Q.forEach(c),this.h()},h(){a(p,"for","login-username"),a(p,"class","mb-1 block text-xs text-left md:text-sm md:mb-2 text-neutral-800 dark:text-neutral-200"),a(y,"type","text"),a(y,"id","register-username"),a(y,"name","username"),a(y,"autocomplete","username"),a(y,"class","block w-full h-4 md:h-12 rounded-lg border border-neutral-200 bg-neutral-50 px-4 py-3 text-sm text-neutral-700 focus:border-neutral-200 focus:outline-none focus:ring focus:ring-neutral-400 disabled:pointer-events-none disabled:opacity-50 dark:border-neutral-600 dark:bg-neutral-700/30 dark:text-neutral-300 dark:focus:ring-1"),y.required=!0,a(y,"aria-describedby","register-username"),a(P,"for","register-email"),a(P,"class","mb-1 block text-xs text-left md:text-sm md:mb-2 text-neutral-800 dark:text-neutral-200"),a(g,"type","email"),a(g,"id","register-email"),a(g,"name","email"),a(g,"autocomplete","email"),a(g,"class","block w-full h-4 md:h-12 rounded-lg border border-neutral-200 bg-neutral-50 px-4 py-3 text-sm text-neutral-700 focus:border-neutral-200 focus:outline-none focus:ring focus:ring-neutral-400 disabled:pointer-events-none disabled:opacity-50 dark:border-neutral-600 dark:bg-neutral-700/30 dark:text-neutral-300 dark:focus:ring-1"),g.required=!0,a(g,"aria-describedby","register-email"),a(V,"class","flex items-center justify-between"),a(I,"type","password"),a(I,"id","register-password"),a(I,"name","password"),a(I,"class","block w-full h-4 md:h-12 rounded-lg border border-neutral-200 bg-neutral-50 px-4 py-3 text-sm text-neutral-700 focus:border-neutral-200 focus:outline-none focus:ring focus:ring-neutral-400 disabled:pointer-events-none disabled:opacity-50 dark:border-neutral-600 dark:bg-neutral-700/30 dark:text-neutral-300 dark:focus:ring-1"),I.required=!0,a(I,"aria-describedby","register-password"),a(B,"class","flex items-center justify-between"),a(v,"type","password"),a(v,"id","confirm-register-password"),a(v,"name","password"),a(v,"class","block w-full h-4 md:h-12 rounded-lg border border-neutral-200 bg-neutral-50 px-4 py-3 text-sm text-neutral-700 focus:border-neutral-200 focus:outline-none focus:ring focus:ring-neutral-400 disabled:pointer-events-none disabled:opacity-50 dark:border-neutral-600 dark:bg-neutral-700/30 dark:text-neutral-300 dark:focus:ring-1"),v.required=!0,a(v,"aria-describedby","confirm-register-password"),a(J,"id","h-captcha-"+l[10]),a(J,"class","flex justify-center scale-75 md:scale-100"),a(j,"type","submit"),a(j,"class",`${We} ${Xe} ${Ze} ${$e} ${et} ${tt} ${rt}`),j.disabled=l[1],a(s,"class","grid gap-y-2 md:gap-y-4"),a(h,"id","registerForm"),a(h,"action","#")},m(u,C){k&&k.m(he.head,null),r(he.head,t),re(u,e,C),re(u,o,C),w&&w.m(o,null),r(o,m),x&&x.m(o,null),r(o,_),r(o,h),r(h,s),r(s,n),r(n,p),r(n,K),r(n,U),r(U,y),Y(y,l[6]),r(s,G),r(s,A),r(A,P),r(A,W),r(A,F),r(F,g),Y(g,l[3]),r(s,O),r(s,S),r(S,V),r(S,E),r(S,q),r(q,I),Y(I,l[4]),r(s,Z),r(s,N),r(N,B),r(N,f),r(N,M),r(M,v),Y(v,l[5]),r(s,H),r(s,$),r($,J),r(s,fe),r(s,j),r(j,oe),me||(ye=[te(y,"input",l[21]),te(g,"input",l[22]),te(I,"input",l[23]),te(v,"input",l[24]),te(h,"submit",Me(l[11]))],me=!0)},p(u,[C]){u[0]&&!window?.hcaptcha?k?k.p(u,C):(k=Le(u),k.c(),k.m(t.parentNode,t)):k&&(k.d(1),k=null),u[7]?w?w.p(u,C):(w=Te(u),w.c(),w.m(o,m)):w&&(w.d(1),w=null),u[8]?x?x.p(u,C):(x=Ve(u),x.c(),x.m(o,_)):x&&(x.d(1),x=null),C&64&&y.value!==u[6]&&Y(y,u[6]),C&8&&g.value!==u[3]&&Y(g,u[3]),C&16&&I.value!==u[4]&&Y(I,u[4]),C&32&&v.value!==u[5]&&Y(v,u[5]),C&2&&ee!==(ee=u[1]?"Loading...":"Register")&&ge(oe,ee),C&2&&(j.disabled=u[1])},i:pe,o:pe,d(u){u&&(c(e),c(o)),k&&k.d(u),c(t),w&&w.d(),x&&x.d(),me=!1,Oe(ye)}}}var Pe=(l=>(l.DARK="dark",l.LIGHT="light",l))(Pe||{});const We="inline-flex w-full items-center justify-center gap-x-2 rounded-lg px-4 py-1 text-sm font-normal text-blue-400 focus-visible:ring outline-none transition duration-300 py-3",Xe="border border-transparent",Ze="bg-blue-100 dark:focus:outline-none",$e="hover:bg-blue-400 hover:text-white",et="2xl:text-base",tt="disabled:pointer-events-none disabled:opacity-50 disabled:animate-pulse",rt="ring-zinc-500 dark:ring-zinc-200";function st(l,t,e){const o=Ue(),m=()=>{e(1,n=!1),e(8,q=""),h&&s&&D&&hcaptcha.reset(D)},_=f=>{if(h&&s&&D)return hcaptcha.execute(D,f)};let h=!1,s=!1,n=!1,p="",D,{hl:K=""}=t,{sitekey:U=je}=t,{apihost:y=Fe}=t,{reCaptchaCompat:G=!0}=t,{theme:A=Pe.DARK}=t,{size:P="compact"}=t;const ae=new URLSearchParams({recaptchacompat:G?"on":"off",onload:"hcaptchaOnLoad",render:"explicit"}),W=`${y}?${ae.toString()}`,F=Math.floor(Math.random()*100);let g="",O="",S="",V="",X="",E="",q="";qe(()=>{const f=document.getElementById("skeleton_login_loader");document.getElementById("astro_error_message")&&document.getElementById("astro_error_message"),f&&(f.classList.add("opacity-0","transition-opacity","duration-500"),setTimeout(()=>{f.style.display="none"},500)),window.hcaptchaOnLoad=()=>{o("load"),e(20,s=!0)},window.onSuccess=M=>{o("success",{token:M}),X=M},window.onError=()=>{o("error")},window.onClose=()=>{o("close")},window.onExpired=()=>{o("expired"),m()},o("mount"),e(0,h=!0)}),Ne(()=>{window.hcaptchaOnLoad=null,window.onSuccess=null,s&&(hcaptcha=null)});const I=async()=>{if(e(1,n=!0),e(7,E=""),S!=O){e(7,E="Password does not match!"),e(2,p="pray.lottie"),m();return}let f=await He(V);if(!f.isValid){e(7,E=f.error),e(2,p="pray.lottie"),m();return}let M=await Ye(g);if(!M.isValid){e(7,E=M.error),e(2,p="pray.lottie"),m();return}let v=await Ke(O);if(!v.isValid){e(7,E=v.error),e(2,p="pray.lottie"),m();return}const H=await Ge("https://rust.kbve.com",V,g,O,X);if(H.error){switch(H.display(),H.extractField("error")){case"invalid_password":e(7,E="Invalid Password"),e(2,p="pray.lottie");break;case"auth_error":e(7,E="Invalid Auth Method"),e(2,p="monkeymeme.lottie");break;case"email_exists":e(7,E="Email is Taken"),e(2,p="monkeymeme.lottie");default:e(7,E=H.extractError())}m();return}else e(7,E=""),e(2,p="holydance.lottie"),e(8,q="Yay! SucklessFully Dance, while I send ya to the login!"),await Je(5e3),location.href="/login"};function Z(){V=this.value,e(6,V)}function N(){g=this.value,e(3,g)}function B(){O=this.value,e(4,O)}function le(){S=this.value,e(5,S)}return l.$$set=f=>{"hl"in f&&e(14,K=f.hl),"sitekey"in f&&e(15,U=f.sitekey),"apihost"in f&&e(16,y=f.apihost),"reCaptchaCompat"in f&&e(17,G=f.reCaptchaCompat),"theme"in f&&e(18,A=f.theme),"size"in f&&e(19,P=f.size)},l.$$.update=()=>{l.$$.dirty&1884161&&h&&s&&(D=hcaptcha.render(`h-captcha-${F}`,{sitekey:U,hl:K,theme:A,callback:"onSuccess","error-callback":"onError","close-callback":"onClose","expired-callback":"onExpired",size:P}))},[h,n,p,g,O,S,V,E,q,W,F,I,m,_,K,U,y,G,A,P,s,Z,N,B,le]}class ut extends Se{constructor(t){super(),Re(this,t,st,Qe,ze,{reset:12,execute:13,hl:14,sitekey:15,apihost:16,reCaptchaCompat:17,theme:18,size:19})}get reset(){return this.$$.ctx[12]}get execute(){return this.$$.ctx[13]}}export{ut as default};
