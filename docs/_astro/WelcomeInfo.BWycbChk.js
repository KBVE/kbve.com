import{r as i,j as e}from"./react.CvslfkeK.js";import{u}from"./@nanostores.vmeSb_hF.js";import{t}from"./tailwind-merge.B9ugUrge.js";import{c as s}from"./clsx.B-dksMZM.js";import{u as b,a as N,b as w}from"./userstate.DNABvgUj.js";import"./@react-three.B-wTPXHf.js";import"./nanostores.Bo9-_MAV.js";import"./supabaseClient.BVs_U1Yj.js";import"./@supabase.YBEbTA-W.js";import"./Page.astro_astro_type_script_index_0_lang.DQ_zeJSQ.js";import"./react-dom.CtWA3ti2.js";import"./svelte.BEh2_tzM.js";import"./esm-env.rsSWfq8L.js";const V=()=>{const a=u(b),d=u(N),r=u(w),[f,h]=i.useState(!0),[x,l]=i.useState("Guest"),[p,j]=i.useState(!1),n=i.useMemo(()=>!a||!d,[a,d]),g=i.useMemo(()=>n?"Guest":a?.email?.split("@")[0]||"User",[n,a]),c=i.useMemo(()=>n||!r?0:typeof r=="object"&&"credits"in r?r.credits:typeof r=="number"?r:0,[n,r]),y=i.useMemo(()=>m=>{switch(m){case"VIP":return"text-purple-400";case"Premium":return"text-yellow-400";case"Basic":return"text-green-400";default:return"text-zinc-400"}},[]);return i.useEffect(()=>{const m=()=>{const o=document.getElementById("welcome-skeleton");o&&(o.style.transition="opacity 0.5s ease-out",o.style.opacity="0"),setTimeout(()=>{j(!0)},100)};(async()=>{await new Promise(o=>setTimeout(o,500)),n||(c>=1e3?l("VIP"):c>=500?l("Premium"):l("Basic")),m(),h(!1)})()},[n,c]),f?(console.log("WelcomeInfo: Still loading, returning null"),null):(console.log("WelcomeInfo: Rendering component, visible:",p),e.jsxs("div",{className:t(s("bg-zinc-800 rounded-lg p-6 border border-zinc-700 transition-opacity duration-500",p?"opacity-100":"opacity-0")),children:[e.jsxs("h3",{className:t(s("text-lg font-semibold text-white mb-4")),children:["Welcome",!n&&`, ${g}`,"!"]}),e.jsx("div",{className:"space-y-3",children:n?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:t(s("text-zinc-300 text-sm")),children:"Join our community to unlock all features and start earning credits."}),e.jsx("button",{className:t(s("w-full px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg","text-sm font-medium transition-colors")),children:"Get Started"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:t(s("text-zinc-300 text-sm")),children:"Account Status"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:t(s("w-2 h-2 bg-green-400 rounded-full"))}),e.jsx("span",{className:t(s("text-green-400 text-sm")),children:"Active"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:t(s("text-zinc-300 text-sm")),children:"Total Credits"}),e.jsx("span",{className:t(s("text-cyan-400 text-sm font-medium")),children:c.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:t(s("text-zinc-300 text-sm")),children:"Member Tier"}),e.jsx("span",{className:t(s("text-sm font-medium",y(x))),children:x})]})]})})]}))};export{V as default};
