import{r,j as e}from"./react.CvslfkeK.js";import{u as p}from"./@nanostores.vmeSb_hF.js";import{t as i}from"./tailwind-merge.B9ugUrge.js";import{c as a}from"./clsx.B-dksMZM.js";import{u as b,a as N}from"./userstate.DNABvgUj.js";import{A as c,x as A,U as D,q as z,e as M}from"./lucide-react.4nCU159t.js";import"./@react-three.B-wTPXHf.js";import"./nanostores.Bo9-_MAV.js";import"./supabaseClient.BVs_U1Yj.js";import"./@supabase.YBEbTA-W.js";import"./Page.astro_astro_type_script_index_0_lang.DQ_zeJSQ.js";import"./react-dom.CtWA3ti2.js";import"./svelte.BEh2_tzM.js";import"./esm-env.rsSWfq8L.js";const q=()=>{const n=p(b),m=p(N),[x,l]=r.useState(!0),[u,h]=r.useState([]),[g,f]=r.useState(!1),o=r.useMemo(()=>!n||!m,[n,m]),d=r.useMemo(()=>o?"Guest":n?.email?.split("@")[0]||"User",[o,n]);r.useEffect(()=>{const s=()=>{const t=document.getElementById("activity-skeleton");t&&(t.style.transition="opacity 0.5s ease-out",t.style.opacity="0"),setTimeout(()=>{f(!0)},100)};(async()=>{try{await new Promise(j=>setTimeout(j,1e3));const t=o?[{id:"1",type:"login",message:"Welcome! Sign up to unlock all features",timestamp:new Date,status:"info"}]:[{id:"1",type:"login",message:`Welcome back, ${d}!`,timestamp:new Date(Date.now()-2*60*1e3),status:"success"},{id:"2",type:"credit",message:"Daily login bonus credited",timestamp:new Date(Date.now()-24*60*60*1e3),status:"success"},{id:"3",type:"profile",message:"Profile viewed by 3 users",timestamp:new Date(Date.now()-2*24*60*60*1e3),status:"info"},{id:"4",type:"achievement",message:"Completed weekly challenge",timestamp:new Date(Date.now()-3*24*60*60*1e3),status:"success"}];h(t),s(),l(!1)}catch(t){console.error("Error fetching user activities:",t),s(),l(!1)}})()},[o,d]);const w=r.useMemo(()=>s=>{const t=Math.floor((new Date().getTime()-s.getTime())/(1e3*60));return t<1?"Just now":t<60?`${t}m ago`:t<1440?`${Math.floor(t/60)}h ago`:`${Math.floor(t/1440)}d ago`},[]),y=r.useMemo(()=>s=>{switch(s){case"credit":return e.jsx(z,{className:"w-4 h-4"});case"profile":return e.jsx(D,{className:"w-4 h-4"});case"achievement":return e.jsx(A,{className:"w-4 h-4"});case"login":return e.jsx(c,{className:"w-4 h-4"});default:return e.jsx(c,{className:"w-4 h-4"})}},[]);return x?null:e.jsxs("div",{className:i(a("bg-zinc-800 rounded-lg p-6 border border-zinc-700 transition-opacity duration-500",g?"opacity-100":"opacity-0")),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:i(a("text-xl font-semibold text-white")),children:"Recent Activity"}),!o&&e.jsx("button",{className:i(a("px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg","text-sm font-medium transition-colors")),children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:u.length>0?u.map(s=>e.jsxs("div",{className:i(a("flex items-start space-x-3 p-3 rounded-lg","hover:bg-zinc-700/50 transition-colors")),children:[e.jsx("div",{className:i(a("p-2 rounded-lg",s.status==="success"?"bg-green-500/10 text-green-400":s.status==="info"?"bg-blue-500/10 text-blue-400":"bg-zinc-700 text-zinc-400")),children:y(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:i(a("text-white text-sm")),children:s.message}),e.jsx("p",{className:i(a("text-zinc-400 text-xs mt-1")),children:w(s.timestamp)})]}),e.jsx(M,{className:i(a("w-4 h-4 text-zinc-400"))})]},s.id)):e.jsxs("div",{className:i(a("text-center py-8")),children:[e.jsx(c,{className:i(a("w-12 h-12 text-zinc-600 mx-auto mb-4"))}),e.jsx("p",{className:i(a("text-zinc-400")),children:"No recent activity"}),e.jsx("p",{className:i(a("text-zinc-500 text-sm mt-1")),children:o?"Sign up to start tracking your activity":"Start using our services to see activity here"})]})})]})};export{q as default};
