import{r as n,j as e}from"./react.CvslfkeK.js";import{u as l}from"./@nanostores.J-Z5GVtw.js";import{s as m,a as i,u as x,b as u}from"./userstate.ClT1tpkg.js";import{t}from"./tailwind-merge.B9ugUrge.js";import{R as f}from"./lucide-react.CRoChsBw.js";import"./@react-three.B-wTPXHf.js";import"./nanostores.Bo9-_MAV.js";import"./supabaseClient.BT68OKvR.js";import"./@supabase.d6fxE5ud.js";import"./Page.astro_astro_type_script_index_0_lang.Db7LHE3J.js";import"./react-dom.CtWA3ti2.js";import"./svelte.BEh2_tzM.js";import"./esm-env.rsSWfq8L.js";const C=()=>{const a=l(x),r=l(u),[d,o]=n.useState(!1),[s,c]=n.useState(!1);return n.useEffect(()=>{m()},[]),n.useEffect(()=>{a&&i(a)},[a]),a?a&&!r?e.jsxs("div",{className:t("flex flex-col items-center justify-center gap-4 p-6 rounded-xl bg-gradient-to-br from-cyan-100/60 to-purple-100/40 dark:from-cyan-900/30 dark:to-purple-900/20 shadow-lg"),children:[e.jsx("div",{className:"text-lg font-semibold text-neutral-700 dark:text-neutral-200",children:"No member profile found."}),e.jsx("a",{href:"/onboarding",className:t("inline-block px-5 py-2 rounded-lg bg-gradient-to-r from-cyan-400 to-purple-400 text-white font-bold shadow hover:from-cyan-500 hover:to-purple-500 transition-colors duration-200","focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:ring-offset-2"),children:"Start Onboarding"})]}):r?e.jsxs("div",{className:t("w-full max-w-md mx-auto rounded-2xl p-6 shadow-xl bg-white/80 dark:bg-zinc-900/70 border border-cyan-200 dark:border-zinc-800","flex flex-col gap-2 items-center","transition-all duration-300","relative"),children:[e.jsxs("button",{onClick:async()=>{o(!0),c(!0),await i(a,!1),o(!1)},className:t("absolute top-4 right-4 group inline-flex items-center justify-center w-8 h-8 rounded-md border border-cyan-400 dark:border-cyan-700","bg-white/30 dark:bg-zinc-800/50 text-cyan-600 dark:text-cyan-300 hover:bg-cyan-100/50 dark:hover:bg-cyan-800/60 transition",s&&"opacity-50 cursor-not-allowed pointer-events-none"),"aria-label":"Refresh Balance",disabled:s,children:[e.jsx(f,{className:t("w-4 h-4",d&&"animate-spin")}),e.jsx("span",{className:t("absolute bottom-full mb-1 w-max max-w-xs px-2 py-1 rounded bg-neutral-700 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity",s&&"cursor-not-allowed"),children:s?"Already pulled live":"Pull balance from live view"})]}),e.jsx("h2",{className:t("text-2xl font-bold text-cyan-700 dark:text-cyan-300 mb-2"),children:"Member Card"}),e.jsxs("div",{className:"w-full flex flex-col gap-1 text-base text-neutral-800 dark:text-neutral-200",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Username:"})," ",r.username]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Level:"})," ",r.level??"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Role:"})," ",r.role??"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Credits:"})," ",typeof r.credits=="number"?r.credits.toFixed(2):"0.00"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"KHash:"})," ",typeof r.khash=="number"?r.khash.toFixed(2):"0.00"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Joined:"})," ",new Date(r.created_at).toLocaleDateString()]})]})]}):e.jsx("div",{className:t("text-center text-neutral-600 dark:text-neutral-300 p-4"),children:"Loading member data..."}):e.jsx("div",{className:t("text-center text-neutral-600 dark:text-neutral-300 p-4"),children:"Please log in to view your member card."})};export{C as default};
