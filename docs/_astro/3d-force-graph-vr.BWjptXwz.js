import"./aframe.C8yDRbhF.js";import"./aframe-extras.B0fXxeC9.js";import"./aframe-forcegraph-component.BXQhwDKj.js";import{i as w}from"./kapsule.DoQQNCoE.js";import{i as b}from"./accessor-fn.DXlyMOTY.js";import{p as O,c as D}from"./polished.gGQlsDnk.js";function E(t,n){n===void 0&&(n={});var e=n.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var j=`.graph-nav-info {
  position: absolute;
  bottom: 5px;
  width: 100%;
  text-align: center;
  color: slategrey;
  opacity: 0.7;
  font-size: 10px;
  font-family: Sans-serif;
  z-index: 1000;
}`;E(j);function P(t,n){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var r,i,a,u,o=[],l=!0,d=!1;try{if(a=(e=e.call(t)).next,n!==0)for(;!(l=(r=a.call(e)).done)&&(o.push(r.value),o.length!==n);l=!0);}catch(c){d=!0,i=c}finally{try{if(!l&&e.return!=null&&(u=e.return(),Object(u)!==u))return}finally{if(d)throw i}}return o}}function m(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function g(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?m(Object(e),!0).forEach(function(r){f(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):m(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function T(t,n){if(typeof t!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var r=e.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function S(t){var n=T(t,"string");return typeof n=="symbol"?n:String(n)}function f(t,n,e){return n=S(n),n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function y(t,n){return _(t)||P(t,n)||v(t,n)||R()}function p(t){return x(t)||I(t)||v(t)||L()}function x(t){if(Array.isArray(t))return h(t)}function _(t){if(Array.isArray(t))return t}function I(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v(t,n){if(t){if(typeof t=="string")return h(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return h(t,n)}}function h(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function L(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var z=w({props:{width:{default:window.innerWidth,triggerUpdate:!1,onChange:function(n,e){e.container&&(e.container.style.width="".concat(n,"px"))}},height:{default:window.innerHeight,triggerUpdate:!1,onChange:function(n,e){e.container&&(e.container.style.height="".concat(n,"px"))}},jsonUrl:{},graphData:{default:{nodes:[],links:[]}},numDimensions:{default:3},dagMode:{},dagLevelDistance:{},dagNodeFilter:{default:function(){return!0}},onDagError:{default:void 0},backgroundColor:{default:"#002"},showNavInfo:{default:!0},nodeRelSize:{default:4},nodeId:{default:"id"},nodeLabel:{default:"name"},nodeDesc:{default:"desc"},onNodeHover:{},onNodeClick:{},nodeVal:{default:"val"},nodeResolution:{default:8},nodeVisibility:{default:!0},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkLabel:{default:"name"},linkDesc:{default:"desc"},onLinkHover:{},onLinkClick:{},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{default:0},linkResolution:{default:6},linkCurvature:{default:0},linkCurveRotation:{default:0},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228},d3VelocityDecay:{default:.4},ngraphPhysics:{},warmupTicks:{default:0},cooldownTicks:{},cooldownTime:{default:15e3},onEngineTick:{},onEngineStop:{}},methods:g(g({},Object.assign.apply(Object,[{}].concat(p(["getGraphBbox","emitParticle","d3Force","d3ReheatSimulation","refresh"].map(function(t){return f({},t,function(n){for(var e=n.forcegraph.components.forcegraph,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var u=e[t].apply(e,i);return u===e?this:u})}))))),{},{_destructor:function(){this.graphData({nodes:[],links:[]})}}),init:function(n,e){n.innerHTML="",e.container=document.createElement("div"),n.appendChild(e.container),e.container.style.position="relative",e.container.style.width="".concat(e.width,"px"),e.container.style.height="".concat(e.height,"px"),e.container.appendChild(e.navInfo=document.createElement("div")),e.navInfo.className="graph-nav-info",e.navInfo.textContent="Mouse drag: look, gamepad/arrow/wasd keys: move";var r=document.createElement("a-scene");r.setAttribute("embedded",""),r.appendChild(e.sky=document.createElement("a-sky")),e.sky.setAttribute("radius",3e3);var i;r.appendChild(i=document.createElement("a-entity")),i.setAttribute("position","0 0 300"),i.setAttribute("movement-controls","controls: gamepad, touch; fly: true; speed: 7");var a;i.appendChild(a=document.createElement("a-entity")),a.setAttribute("camera",""),a.setAttribute("position","0 0 0"),a.setAttribute("look-controls","pointerLockEnabled: false"),a.setAttribute("wasd-controls","fly: true; acceleration: 700");var u;a.appendChild(u=document.createElement("a-text")),u.setAttribute("position","0 -0.3 -1"),u.setAttribute("width",2),u.setAttribute("align","center"),u.setAttribute("color","lavender"),u.setAttribute("value","");var o;a.appendChild(o=document.createElement("a-text")),o.setAttribute("position","0 -0.4 -1"),o.setAttribute("width",1.3),o.setAttribute("align","center"),o.setAttribute("color","lavender"),o.setAttribute("value",""),e.raycasterEls=[];var l;r.appendChild(l=document.createElement("a-entity")),l.setAttribute("cursor","rayOrigin: mouse; mouseCursorStylesEnabled: true"),l.setAttribute("raycaster","objects: [forcegraph]; interval: 100"),e.raycasterEls.push(l),["left","right"].forEach(function(d){var c;i.appendChild(c=document.createElement("a-entity")),c.setAttribute("laser-controls","hand: ".concat(d,"; model: false;")),c.setAttribute("raycaster","objects: [forcegraph]; interval: 100; lineColor: steelblue; lineOpacity: 0.85"),e.raycasterEls.push(c)}),r.appendChild(e.forcegraph=document.createElement("a-entity")),e.forcegraph.setAttribute("forcegraph",null),e.container.appendChild(r),e.forcegraph.setAttribute("forcegraph",Object.assign.apply(Object,p(["node","link"].map(function(d){var c={node:"Node",link:"Link"}[d];return f({},"on".concat(c,"Hover"),function(s,k){var A=s&&b(e["".concat(d,"Label")])(s)||"",C=s&&b(e["".concat(d,"Desc")])(s)||"";u.setAttribute("value",A),o.setAttribute("value",C),e["on".concat(c,"Hover")]&&e["on".concat(c,"Hover")](s,k)})}))))},update:function(n,e){if(e.hasOwnProperty("backgroundColor")){var r=O(n.backgroundColor).alpha;r===void 0&&(r=1),n.sky.setAttribute("color",D(1,n.backgroundColor)),n.sky.setAttribute("opacity",r)}e.hasOwnProperty("showNavInfo")&&(n.navInfo.style.display=n.showNavInfo?null:"none");var i=["onNodeHover","onLinkHover","onNodeClick","onLinkClick"].some(function(o){return n[o]})||["nodeLabel","linkLabel"].some(function(o){return n[o]!=="name"})||["nodeDesc","linkDesc"].some(function(o){return n[o]!=="desc"});n.raycasterEls.forEach(function(o){return o.setAttribute("raycaster",i?"objects: [forcegraph]; interval: 100":"objects: __none__")});var a=["jsonUrl","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","onNodeClick","nodeVal","nodeResolution","nodeVisibility","nodeColor","nodeAutoColorBy","nodeOpacity","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","onLinkClick","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"],u=Object.assign.apply(Object,[{}].concat(p(Object.entries(n).filter(function(o){var l=y(o,2),d=l[0],c=l[1];return e.hasOwnProperty(d)&&a.indexOf(d)!==-1&&c!==void 0&&c!==null}).map(function(o){var l=y(o,2),d=l[0],c=l[1];return f({},d,c)})),p(Object.entries(n.graphData).map(function(o){var l=y(o,2),d=l[0],c=l[1];return f({},d,c)}))));n.forcegraph.setAttribute("forcegraph",u)}});export{z as _};
