import{j as t}from"./jsx-runtime.CzgMDNMm.js";import{r as c}from"./index.DQ2WTIsS.js";import{c as l}from"./client.CjtSgEm0.js";import{u as o}from"./index.9YVhM4q0.js";import{k as u,a as d,b as m,u as s,c as i,d as n}from"./khashvault.C5sxU87A.js";import"./index.DMzVAWus.js";import"./index.Y0MI8VVX.js";import"./index.BH1EYZ08.js";const g=()=>{const e=o(u),a=o(d),r=a.plugin?.[1];return t.jsxs("div",{className:"min-w rounded-md shadow-md",children:[t.jsx("img",{src:"https://source.unsplash.com/random/300x300/?2",alt:"",className:"object-cover object-center w-full rounded-t-md h-32 dark:bg-gray-500"}),t.jsxs("div",{className:"flex flex-col justify-between p-6 space-y-4 bg-gray-300 dark:bg-gray-900/[.80] dark:text-gray-100",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("h2",{className:"text-3xl font-semibold tracki",children:"RuneLite Widget"}),t.jsxs("p",{className:"dark:text-gray-100",children:["Welcome ",e.username||"Guest"," ",t.jsx("br",{}),"Status: ",r?r.state:"unknown"," ",t.jsx("br",{}),"Message: ",a.plugin?.[1]?a.plugin?.[1].message:"No Message."," ",t.jsx("br",{}),"Error: ",a.plugin?.[1]?a.plugin?.[1].error:"No Error."," ",t.jsx("br",{})]})]}),t.jsx("button",{type:"button",className:"flex items-center justify-center w-full p-3 font-semibold trackig rounded-md bg-cyan-200 dark:bg-cyan-400 dark:text-gray-900",onClick:p,children:"Launch RuneLite"})]})]})},p=async()=>{await m(1,"...","Loading RuneLite","process");try{const e=await fetch("http://localhost:8086/start-runelite",{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const a=await e.json();await s(1,"..."),await i(1,"Started!"),console.log("RuneLite started successfully:",a),await n(1,"active")}else console.error("Failed to start RuneLite:",e.statusText),await s(1,"Failed to start"),await i(1,"Try to launch again"),await n(1,"disable")}catch(e){console.error("Error starting RuneLite:",e),await s(1,`Error with starting RuneLite Plugin ${e}`),await n(1,"error")}},v=()=>(c.useEffect(()=>{const e=setInterval(()=>{const a=document.getElementById("block-content-a");a&&(l(a).render(t.jsx(g,{})),clearInterval(e))},100);return()=>clearInterval(e)},[]),null);export{v as default};
