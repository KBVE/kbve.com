import{r,j as e}from"./react.CvslfkeK.js";import{u as x}from"./@nanostores.vmeSb_hF.js";import{t as i}from"./tailwind-merge.B9ugUrge.js";import{c as a}from"./clsx.B-dksMZM.js";import{u as v,a as j}from"./userstate.BkvMbuz-.js";import{Q as m,A as N,U as b,t as A,e as D}from"./lucide-react.Cq0BVVq0.js";import"./@react-three.B-wTPXHf.js";import"./nanostores.Bo9-_MAV.js";import"./supabaseClient.DHLuOuBJ.js";import"./@supabase.BaC4PoEe.js";import"./Page.astro_astro_type_script_index_0_lang.CN1x5Qj8.js";import"./react-dom.DDrfKqI3.js";import"./svelte.BEh2_tzM.js";import"./esm-env.rsSWfq8L.js";const F=()=>{const o=x(v),l=x(j),[g,u]=r.useState(!0),[d,h]=r.useState([]),n=r.useMemo(()=>!o||!l,[o,l]),p=r.useMemo(()=>{if(n||!o?.email)return"Guest";const t=o.email.split("@");return t.length>0&&t[0]?t[0]:"User"},[n,o]);r.useEffect(()=>{const t=()=>{const s=document.getElementById("activity-skeleton"),c=document.getElementById("activity-feed-content");s&&c&&(s.style.opacity="0",c.style.opacity="1",setTimeout(()=>{s.style.display="none"},500))};(async()=>{try{await new Promise(c=>setTimeout(c,1e3));const s=n?[{id:"1",type:"login",message:"Welcome! Sign up to unlock all features",timestamp:new Date,status:"info"}]:[{id:"1",type:"login",message:`Welcome back, ${p}!`,timestamp:new Date(Date.now()-2*60*1e3),status:"success"},{id:"2",type:"credit",message:"Daily login bonus credited",timestamp:new Date(Date.now()-24*60*60*1e3),status:"success"},{id:"3",type:"profile",message:"Profile viewed by 3 users",timestamp:new Date(Date.now()-2*24*60*60*1e3),status:"info"},{id:"4",type:"achievement",message:"Completed weekly challenge",timestamp:new Date(Date.now()-3*24*60*60*1e3),status:"success"}];h(s),t(),u(!1)}catch(s){console.error("Error fetching user activities:",s),t(),u(!1)}})()},[n,p]);const f=r.useMemo(()=>t=>{const s=Math.floor((new Date().getTime()-t.getTime())/(1e3*60));return s<1?"Just now":s<60?`${s}m ago`:s<1440?`${Math.floor(s/60)}h ago`:`${Math.floor(s/1440)}d ago`},[]),w=r.useMemo(()=>t=>{switch(t){case"credit":return e.jsx(A,{className:"w-4 h-4"});case"profile":return e.jsx(b,{className:"w-4 h-4"});case"achievement":return e.jsx(N,{className:"w-4 h-4"});case"login":return e.jsx(m,{className:"w-4 h-4"});default:return e.jsx(m,{className:"w-4 h-4"})}},[]);return g?null:e.jsxs("div",{className:i(a("bg-zinc-800 rounded-lg p-6 border border-zinc-700")),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:i(a("text-xl font-semibold text-white")),children:"Recent Activity"}),!n&&e.jsx("button",{className:i(a("px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg","text-sm font-medium transition-colors")),children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:d.length>0?d.map(t=>e.jsxs("div",{className:i(a("flex items-start space-x-3 p-3 rounded-lg","hover:bg-zinc-700/50 transition-colors")),children:[e.jsx("div",{className:i(a("p-2 rounded-lg",t.status==="success"?"bg-green-500/10 text-green-400":t.status==="info"?"bg-blue-500/10 text-blue-400":"bg-zinc-700 text-zinc-400")),children:w(t.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:i(a("text-white text-sm")),children:t.message}),e.jsx("p",{className:i(a("text-zinc-400 text-xs mt-1")),children:f(t.timestamp)})]}),e.jsx(D,{className:i(a("w-4 h-4 text-zinc-400"))})]},t.id)):e.jsxs("div",{className:i(a("text-center py-8")),children:[e.jsx(m,{className:i(a("w-12 h-12 text-zinc-600 mx-auto mb-4"))}),e.jsx("p",{className:i(a("text-zinc-400")),children:"No recent activity"}),e.jsx("p",{className:i(a("text-zinc-500 text-sm mt-1")),children:n?"Sign up to start tracking your activity":"Start using our services to see activity here"})]})})]})};export{F as default};
