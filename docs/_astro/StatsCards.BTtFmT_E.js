import{r as s,j as e}from"./react.CvslfkeK.js";import{u as x}from"./@nanostores.vmeSb_hF.js";import{c as m}from"./clsx.B-dksMZM.js";import{s as N,a as w,u as z,b as S,c as T}from"./userstate.D-HOx8OE.js";import{q as L,r as M,s as B,t as C,u as A,v as P}from"./lucide-react.D9KORrrN.js";import"./@react-three.B-wTPXHf.js";import"./nanostores.Bo9-_MAV.js";import"./supabaseClient.BwbbkKqX.js";import"./@supabase.aKZxS6oP.js";import"./Page.astro_astro_type_script_index_0_lang.CHoS6oJr.js";import"./react-dom.CtWA3ti2.js";import"./svelte.BEh2_tzM.js";import"./esm-env.rsSWfq8L.js";const K=()=>{const l=x(z),o=x(S),i=x(T),[p,g]=s.useState(!0),[r,v]=s.useState(null),[y,f]=s.useState(!1),a=s.useMemo(()=>!l||!o,[l,o]);s.useEffect(()=>{N(),o&&w(o)},[o]),s.useEffect(()=>{const n=()=>{const t=document.querySelector('[data-skeleton="stats"]');t&&(t.style.transition="opacity 0.5s ease-out",t.style.opacity="0",t.style.pointerEvents="none",t.style.zIndex="-1",t.style.visibility="hidden"),setTimeout(()=>f(!0),100)};(async()=>{try{await new Promise(h=>setTimeout(h,800));let t=0;!a&&i&&(t=typeof i=="object"&&"credits"in i?i.credits:typeof i=="number"?i:0);let d="New User";if(!a&&l?.created_at){const h=new Date(l.created_at),c=Math.floor((Date.now()-h.getTime())/(1e3*60*60*24));c<7?d="New User":c<30?d=`${c} days`:c<365?d=`${Math.floor(c/30)} months`:d=`${Math.floor(c/365)} years`}let u="Guest";a||(t>=1e3?u="VIP":t>=500?u="Premium":u="Basic"),v({creditBalance:t,accountAge:d,activityLevel:a?"Low":"Medium",membershipTier:u}),n(),g(!1)}catch(t){console.error("Error fetching user stats:",t),n(),g(!1)}})()},[l,o,i,a]);const b=s.useMemo(()=>n=>{switch(n){case"VIP":return"text-purple-400";case"Premium":return"text-yellow-400";case"Basic":return"text-green-400";default:return"text-zinc-400"}},[]),j=s.useMemo(()=>n=>{switch(n){case"VIP":return"bg-purple-500/10 border-purple-500/20";case"Premium":return"bg-yellow-500/10 border-yellow-500/20";case"Basic":return"bg-green-500/10 border-green-500/20";default:return"bg-zinc-500/10 border-zinc-500/20"}},[]);return p||!r?null:e.jsxs("div",{className:m("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 transition-opacity duration-500",y?"opacity-100":"opacity-0"),children:[e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-6 border border-zinc-700 hover:border-cyan-500/50 hover:shadow-lg hover:shadow-cyan-500/10 transition-all duration-300 group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-zinc-400 text-sm font-medium group-hover:text-zinc-300 transition-colors duration-300",children:"Credit Balance"}),e.jsx("p",{className:"text-2xl font-bold text-white mt-1 group-hover:text-cyan-50 transition-colors duration-300",children:r?.creditBalance.toLocaleString()||0})]}),e.jsx("div",{className:"w-12 h-12 bg-cyan-500/10 rounded-lg flex items-center justify-center group-hover:bg-cyan-500/20 group-hover:scale-110 transition-all duration-300",children:e.jsx(L,{className:"w-6 h-6 text-cyan-400 group-hover:text-cyan-300 transition-all duration-300"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"flex items-center text-sm",children:a?e.jsx("span",{className:"text-zinc-400 group-hover:text-zinc-300 transition-colors duration-300",children:"Sign up to earn credits"}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4 text-green-400 mr-1 group-hover:text-green-300 transition-colors duration-300"}),e.jsx("span",{className:"text-green-400 group-hover:text-green-300 transition-colors duration-300",children:"Active account"})]})})})]}),e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-6 border border-zinc-700 hover:border-cyan-500/50 hover:shadow-lg hover:shadow-cyan-500/10 transition-all duration-300 group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-zinc-400 text-sm font-medium group-hover:text-zinc-300 transition-colors duration-300",children:"Membership"}),e.jsx("p",{className:"text-2xl font-bold text-white mt-1 group-hover:text-cyan-50 transition-colors duration-300",children:r?.membershipTier})]}),e.jsx("div",{className:"w-12 h-12 bg-cyan-500/10 rounded-lg flex items-center justify-center group-hover:bg-cyan-500/20 group-hover:scale-110 transition-all duration-300",children:e.jsx(B,{className:"w-6 h-6 text-cyan-400 group-hover:text-cyan-300 transition-all duration-300"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:m("inline-flex items-center px-2 py-1 rounded-full text-xs border transition-all duration-300",j(r?.membershipTier||"Guest"),"group-hover:scale-105"),children:e.jsxs("span",{className:m(b(r?.membershipTier||"Guest"),"group-hover:brightness-110 transition-all duration-300"),children:[r?.membershipTier||"Guest"," Tier"]})})})]}),e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-6 border border-zinc-700 hover:border-cyan-500/50 hover:shadow-lg hover:shadow-cyan-500/10 transition-all duration-300 group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-zinc-400 text-sm font-medium group-hover:text-zinc-300 transition-colors duration-300",children:"Member Since"}),e.jsx("p",{className:"text-2xl font-bold text-white mt-1 group-hover:text-cyan-50 transition-colors duration-300",children:r?.accountAge})]}),e.jsx("div",{className:"w-12 h-12 bg-cyan-500/10 rounded-lg flex items-center justify-center group-hover:bg-cyan-500/20 group-hover:scale-110 transition-all duration-300",children:e.jsx(C,{className:"w-6 h-6 text-cyan-400 group-hover:text-cyan-300 transition-all duration-300"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"flex items-center text-sm",children:a?e.jsx("span",{className:"text-zinc-400 group-hover:text-zinc-300 transition-colors duration-300",children:"Join our community"}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"w-4 h-4 text-blue-400 mr-1 group-hover:text-blue-300 transition-colors duration-300"}),e.jsx("span",{className:"text-blue-400 group-hover:text-blue-300 transition-colors duration-300",children:"Trusted member"})]})})})]}),e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-6 border border-zinc-700 hover:border-cyan-500/50 hover:shadow-lg hover:shadow-cyan-500/10 transition-all duration-300 group cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-zinc-400 text-sm font-medium group-hover:text-zinc-300 transition-colors duration-300",children:"Activity Level"}),e.jsx("p",{className:"text-2xl font-bold text-white mt-1 group-hover:text-cyan-50 transition-colors duration-300",children:r?.activityLevel})]}),e.jsx("div",{className:"w-12 h-12 bg-cyan-500/10 rounded-lg flex items-center justify-center group-hover:bg-cyan-500/20 group-hover:scale-110 transition-all duration-300",children:e.jsx(P,{className:"w-6 h-6 text-cyan-400 group-hover:text-cyan-300 transition-all duration-300"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2 group-hover:bg-zinc-600 transition-colors duration-300",children:e.jsx("div",{className:m("h-2 rounded-full transition-all duration-1000 group-hover:brightness-110",r?.activityLevel==="High"?"bg-green-400":r?.activityLevel==="Medium"?"bg-yellow-400":"bg-red-400"),style:{width:r?.activityLevel==="High"?"90%":r?.activityLevel==="Medium"?"60%":"30%"}})})})]})]})};export{K as default};
