var s,f,r=0,l=0,a=0,h=1e3,u=0,o=0,_=0,c="object"==typeof performance&&performance.now?performance:Date,k="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function v(){return o||(k(y),o=c.now()+_)}function y(){o=0}function w(){this._call=this._time=this._next=null}function T(t,n,o){var e=new w;return e.restart(t,n,o),e}function d(){v(),++r;for(var t,n=s;n;)(t=o-n._time)>=0&&n._call.call(void 0,t),n=n._next;--r}function p(){o=(u=c.now())+_,r=l=0;try{d()}finally{r=0,F(),o=0}}function I(){var t=c.now(),n=t-u;n>h&&(_-=n,u=t)}function F(){for(var t,n,o=s,e=1/0;o;)o._call?(e>o._time&&(e=o._time),t=o,o=o._next):(n=o._next,o._next=null,o=t?t._next=n:s=n);f=t,m(e)}function m(t){r||(l&&(l=clearTimeout(l)),t-o>24?(t<1/0&&(l=setTimeout(p,t-c.now()-_)),a&&(a=clearInterval(a))):(a||(u=c.now(),a=setInterval(I,h)),r=1,k(p)))}function b(t,n,o){var e=new w;return n=null==n?0:+n,e.restart((o=>{e.stop(),t(o+n)}),n,o),e}w.prototype=T.prototype={constructor:w,restart:function(t,n,o){if("function"!=typeof t)throw new TypeError("callback is not a function");o=(null==o?v():+o)+(null==n?0:+n),!this._next&&f!==this&&(f?f._next=this:s=this,f=this),this._call=t,this._time=o,m()},stop:function(){this._call&&(this._call=null,this._time=1/0,m())}};export{b as a,v as n,T as t};