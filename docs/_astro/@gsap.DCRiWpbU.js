import{r as o}from"./react.DlTOZz3w.js";import{g as x}from"./gsap.DslTqBr1.js";let c=typeof document<"u"?o.useLayoutEffect:o.useEffect,p=e=>e&&!Array.isArray(e)&&"object"==typeof e,u=[],S={},a=x;const m=(e,r=u)=>{let t=S;p(e)?(t=e,e=null,r="dependencies"in t?t.dependencies:u):p(r)&&(t=r,r="dependencies"in t?t.dependencies:u),e&&"function"!=typeof e&&console.warn("First parameter must be a function or config object");const{scope:n,revertOnUpdate:s}=t,f=o.useRef(!1),d=o.useRef(a.context((()=>{}),n)),i=o.useRef((e=>d.current.add(null,e))),l=r&&r.length&&!s;return l&&c((()=>(f.current=!0,()=>d.current.revert())),u),c((()=>{if(e&&d.current.add(e,n),!l||!f.current)return()=>d.current.revert()}),r),{context:d.current,contextSafe:i.current}};m.register=e=>{a=e},m.headless=!0;export{m as u};