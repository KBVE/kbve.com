import{T as R,a as C}from"./astro.Cw0mRBrO.js";const m="data-astro-transition-persist";function _(t){for(const e of document.scripts)for(const r of t.scripts)if(!r.hasAttribute("data-astro-rerun")&&(!e.src&&e.textContent===r.textContent||e.src&&e.type===r.type&&e.src===r.src)){r.dataset.astroExec="";break}}function I(t){const e=document.documentElement,r=[...e.attributes].filter(({name:n})=>(e.removeAttribute(n),n.startsWith("data-astro-")));[...t.documentElement.attributes,...r].forEach(({name:n,value:o})=>e.setAttribute(n,o))}function k(t){for(const e of Array.from(document.head.children)){const r=O(e,t);r?r.remove():e.remove()}document.head.append(...t.head.children)}function L(t,e){e.replaceWith(t);for(const r of e.querySelectorAll(`[${m}]`)){const n=r.getAttribute(m),o=t.querySelector(`[${m}="${n}"]`);o&&(o.replaceWith(r),o.localName==="astro-island"&&B(r)&&!D(r,o)&&(r.setAttribute("ssr",""),r.setAttribute("props",o.getAttribute("props"))))}}const P=()=>{const t=document.activeElement;if(t?.closest(`[${m}]`)){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){const e=t.selectionStart,r=t.selectionEnd;return()=>S({activeElement:t,start:e,end:r})}return()=>S({activeElement:t})}else return()=>S({activeElement:null})},S=({activeElement:t,start:e,end:r})=>{t&&(t.focus(),(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&(typeof e=="number"&&(t.selectionStart=e),typeof r=="number"&&(t.selectionEnd=r)))},O=(t,e)=>{const r=t.getAttribute(m),n=r&&e.head.querySelector(`[${m}="${r}"]`);if(n)return n;if(t.matches("link[rel=stylesheet]")){const o=t.getAttribute("href");return e.head.querySelector(`link[rel=stylesheet][href="${o}"]`)}return null},B=t=>{const e=t.dataset.astroTransitionPersistProps;return e==null||e==="false"},D=(t,e)=>t.getAttribute("props")===e.getAttribute("props"),F="vtbot-replace-swap",H=()=>(document.querySelector(`meta[name="${F}"]`)?.getAttribute("content")??"").split(",").map(t=>t.trim());document.addEventListener(R,t=>{const e=t.swap;t.swap=()=>{const r=a=>{const f=a.body.querySelectorAll("[data-vtbot-replace]"),b=[...f].map(d=>d instanceof HTMLElement&&d.dataset.vtbotReplace);return{elements:[...f],names:new Set(b)}},{elements:n,names:o}=r(document),{elements:l,names:s}=r(t.newDocument),c=[...o].filter(a=>s.has(a));if(c.length===0){e();return}const i=t.newDocument;_(i);const p=H().map(a=>({key:a,val:document.documentElement.getAttribute(a)}));I(i),p.forEach(a=>a.val!==null&&document.documentElement.setAttribute(a.key,a.val)),k(i);const h=P();c.forEach(a=>{const f=n.find(d=>d.dataset.vtbotReplace===a),b=l.find(d=>d.dataset.vtbotReplace===a);f&&b&&L(b,f)}),h(),[...document.querySelectorAll("[class*='astro-route-announcer']")].forEach(a=>a.remove())}});const y="div.main-frame",K=`${y} main`,U="data-mobile-menu-expanded",x="starlight-menu-button",A="nav.sidebar",u=`${A} .sidebar-content`,T="starlight-lang-select";function G(t){const e=s(t.href),r=e.split(""),n=document.querySelectorAll(`${u} a[href^='/']`);if(n.length===0)return null;const o=[...n],l=o.map(c=>s(new URL(c.href,location.href).href));return o[l.map(c=>c.split("").findIndex((i,p)=>i!==r[p])).map((c,i)=>c!==-1?c:Math.min(e.length,l[i].length)+(e.length===l[i].length?1:0)).reduce((c,i,p,h)=>i>h[c]?p:c,0)];function s(c){return c.replace(/\/#/,"#").replace(/\/$/,"")}}function W(){document.querySelectorAll(`${u} [aria-current="page"]`)?.forEach(t=>t.removeAttribute("aria-current"))}function j(t){W(),G(t)?.setAttribute("aria-current","page")}function M(t,e=!0){const r=document.querySelector(`${u} [aria-current="page"]`);let n=r?.closest("details");for(;n;)n.open=!0,n=n.parentElement?.closest("details");e&&r?.scrollIntoView({block:"center",behavior:"instant"})}function w(t){t.querySelectorAll(u+" .__collapse input").forEach((e,r)=>e.setAttribute("data-vtbot-replace",`vtbot-sms-v0-${r}`)),t.querySelectorAll(u+" :is(starlight-multi-sidebar-tabs, starlight-multi-sidebar-select)").forEach((e,r)=>{e.setAttribute("data-vtbot-replace",`vtbot-sms-${r}`),[...e.children].forEach((n,o)=>{o>0&&[...n.children].forEach((l,s)=>l.setAttribute("data-astro-transition-persist",`vtbot-sms-${r}-${o}-${s}`))})})}const z="vtbot-starlight-replace-sidebar-content",V="vtbot-starlight-retain-current-page-marker",$=()=>({replaceSidebarContent:document.querySelector(`head meta[name="${z}"]`),retainCurrentPageMarker:document.querySelector(`head meta[name="${V}"]`),mainTransitionScope:document.querySelector('head meta[name="vtbot-main-transition-scope"]')?.content});let{replaceSidebarContent:v,retainCurrentPageMarker:g,mainTransitionScope:E}=$();M();N(window.document);function X(t){q(document),q(t.newDocument),Y(),N(t.newDocument),Z(t),!v&&!g&&j(t.to)}function J(t){tt(t.newDocument)}function Q(t){!g&&M()}function Y(){document.body.hasAttribute(U)&&document.body.querySelector(x)?.closest("nav")?.dispatchEvent(new KeyboardEvent("keyup",{key:"Escape",code:"Escape",charCode:27,keyCode:27,shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1}))}function q(t){t.body.querySelector(y)?.setAttribute("data-vtbot-replace","main")}function Z(t){if(!E)return;e(document,E),e(t.newDocument,E);function e(r,n){const o=r.querySelector(K);o&&(o.dataset.astroTransitionScope=n)}}function tt(t){const e=t.querySelector(A);if(!e)document.querySelector(A)?.remove();else{const r=document.querySelector(A);if(!r)document.querySelector(y)?.insertAdjacentElement("beforebegin",e);else{const n=r.querySelector(u),o=e.querySelector(u),l=[...n?.querySelectorAll("a")??[]].map(s=>s.href).join(" ")!==[...o?.querySelectorAll("a")??[]].map(s=>s.href).join(" ");v||l?(n&&o?(n.setAttribute("data-vtbot-replace","vtbot-sidebar-content"),o.setAttribute("data-vtbot-replace","vtbot-sidebar-content"),r.removeAttribute("data-vtbot-replace"),e.removeAttribute("data-vtbot-replace")):(r.setAttribute("data-vtbot-replace","vtbot-sidebar-content"),e.setAttribute("data-vtbot-replace","vtbot-sidebar-content"),n?.removeAttribute("data-vtbot-replace"),o?.removeAttribute("data-vtbot-replace")),[...t.scripts].filter(s=>(s.textContent??"").includes("sl-sidebar-state-persist")).forEach(s=>s.setAttribute("data-astro-rerun",""))):(w(document),w(t))}}}function N(t){t.querySelectorAll(T).forEach((e,r)=>e.setAttribute("data-vtbot-replace",`vtbot-${T}-${r}`))}document.addEventListener(C,t=>{({replaceSidebarContent:v,retainCurrentPageMarker:g,mainTransitionScope:E}=$());const e=t.loader;t.loader=async()=>{await e(),X(t)}});document.addEventListener(R,t=>{J(t);const e=t.swap;t.swap=()=>{e(),Q()}});
