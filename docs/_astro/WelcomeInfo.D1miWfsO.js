import{r as o,j as e}from"./react.CvslfkeK.js";import{u}from"./@nanostores.vmeSb_hF.js";import{t}from"./tailwind-merge.B9ugUrge.js";import{c as s}from"./clsx.B-dksMZM.js";import{u as y,a as b,b as N}from"./userstate.P8giVhEZ.js";import"./@react-three.B-wTPXHf.js";import"./nanostores.Bo9-_MAV.js";import"./supabaseClient.xweZyGB4.js";import"./@supabase.B1FuS6Fv.js";import"./Page.astro_astro_type_script_index_0_lang.DoJZq5Ub.js";import"./react-dom.DDrfKqI3.js";import"./svelte.BEh2_tzM.js";import"./esm-env.rsSWfq8L.js";const C=()=>{const c=u(y),d=u(b),r=u(N),[f,h]=o.useState(!0),[x,m]=o.useState("Guest"),n=o.useMemo(()=>!c||!d,[c,d]),j=o.useMemo(()=>{if(n||!c?.email)return"Guest";const i=c.email.split("@");return i.length>0&&i[0]?i[0]:"User"},[n,c]),l=o.useMemo(()=>n||!r?0:typeof r=="object"&&"credits"in r?r.credits:typeof r=="number"?r:0,[n,r]),g=o.useMemo(()=>i=>{switch(i){case"VIP":return"text-purple-400";case"Premium":return"text-yellow-400";case"Basic":return"text-green-400";default:return"text-zinc-400"}},[]);return o.useEffect(()=>{const i=()=>{const a=document.getElementById("welcome-skeleton"),p=document.getElementById("welcome-info-content");a&&p&&(a.style.opacity="0",p.style.opacity="1",setTimeout(()=>{a.style.display="none"},500))};(async()=>{await new Promise(a=>setTimeout(a,500)),n||(l>=1e3?m("VIP"):l>=500?m("Premium"):m("Basic")),i(),h(!1)})()},[n,l]),f?(console.log("WelcomeInfo: Still loading, returning null"),null):e.jsxs("div",{className:t(s("bg-zinc-800 rounded-lg p-6 border border-zinc-700")),children:[e.jsxs("h3",{className:t(s("text-lg font-semibold text-white mb-4")),children:["Welcome",!n&&`, ${j}`,"!"]}),e.jsx("div",{className:"space-y-3",children:n?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:t(s("text-zinc-300 text-sm")),children:"Join our community to unlock all features and start earning credits."}),e.jsx("button",{className:t(s("w-full px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg","text-sm font-medium transition-colors")),children:"Get Started"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:t(s("text-zinc-300 text-sm")),children:"Account Status"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:t(s("w-2 h-2 bg-green-400 rounded-full"))}),e.jsx("span",{className:t(s("text-green-400 text-sm")),children:"Active"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:t(s("text-zinc-300 text-sm")),children:"Total Credits"}),e.jsx("span",{className:t(s("text-cyan-400 text-sm font-medium")),children:l.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:t(s("text-zinc-300 text-sm")),children:"Member Tier"}),e.jsx("span",{className:t(s("text-sm font-medium",g(x))),children:x})]})]})})]})};export{C as default};
