const Y="170",F="",_="srgb",Z="srgb-linear",O="linear",v="srgb";class g{constructor(t,e,r,s,n,i,o,a,c){g.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,r,s,n,i,o,a,c)}set(t,e,r,s,n,i,o,a,c){const l=this.elements;return l[0]=t,l[1]=s,l[2]=o,l[3]=e,l[4]=n,l[5]=a,l[6]=r,l[7]=i,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this}extractBasis(t,e,r){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const r=t.elements,s=e.elements,n=this.elements,i=r[0],o=r[3],a=r[6],c=r[1],l=r[4],u=r[7],h=r[2],p=r[5],m=r[8],f=s[0],g=s[3],C=s[6],y=s[1],w=s[4],_=s[7],S=s[2],M=s[5],k=s[8];return n[0]=i*f+o*y+a*S,n[3]=i*g+o*w+a*M,n[6]=i*C+o*_+a*k,n[1]=c*f+l*y+u*S,n[4]=c*g+l*w+u*M,n[7]=c*C+l*_+u*k,n[2]=h*f+p*y+m*S,n[5]=h*g+p*w+m*M,n[8]=h*C+p*_+m*k,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],r=t[1],s=t[2],n=t[3],i=t[4],o=t[5],a=t[6],c=t[7],l=t[8];return e*i*l-e*o*c-r*n*l+r*o*a+s*n*c-s*i*a}invert(){const t=this.elements,e=t[0],r=t[1],s=t[2],n=t[3],i=t[4],o=t[5],a=t[6],c=t[7],l=t[8],u=l*i-o*c,h=o*a-l*n,p=c*n-i*a,m=e*u+r*h+s*p;if(0===m)return this.set(0,0,0,0,0,0,0,0,0);const f=1/m;return t[0]=u*f,t[1]=(s*c-l*r)*f,t[2]=(o*r-s*i)*f,t[3]=h*f,t[4]=(l*e-s*a)*f,t[5]=(s*n-o*e)*f,t[6]=p*f,t[7]=(r*a-c*e)*f,t[8]=(i*e-r*n)*f,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,r,s,n,i,o){const a=Math.cos(n),c=Math.sin(n);return this.set(r*a,r*c,-r*(a*i+c*o)+i+t,-s*c,s*a,-s*(-c*i+a*o)+o+e,0,0,1),this}scale(t,e){return this.premultiply(T.makeScale(t,e)),this}rotate(t){return this.premultiply(T.makeRotation(-t)),this}translate(t,e){return this.premultiply(T.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,r,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,r=t.elements;for(let t=0;t<9;t++)if(e[t]!==r[t])return!1;return!0}fromArray(t,e=0){for(let r=0;r<9;r++)this.elements[r]=t[r+e];return this}toArray(t=[],e=0){const r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const T=new g,G={enabled:!0,workingColorSpace:Z,spaces:{},convert:function(t,e,r){return!1===this.enabled||e===r||!e||!r||(this.spaces[e].transfer===v&&(t.r=I(t.r),t.g=I(t.g),t.b=I(t.b)),this.spaces[e].primaries!==this.spaces[r].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[r].fromXYZ)),this.spaces[r].transfer===v&&(t.r=y(t.r),t.g=y(t.g),t.b=y(t.b))),t},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===F?O:this.spaces[t].transfer},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,e,r){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[r].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace}};function I(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function y(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}const A=[.64,.33,.3,.6,.15,.06],B=[.2126,.7152,.0722],L=[.3127,.329],N=(new g).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),X=(new g).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);G.define({[Z]:{primaries:A,whitePoint:L,transfer:O,toXYZ:N,fromXYZ:X,luminanceCoefficients:B,workingColorSpaceConfig:{unpackColorSpace:_},outputColorSpaceConfig:{drawingBufferColorSpace:_}},[_]:{primaries:A,whitePoint:L,transfer:v,toXYZ:N,fromXYZ:X,luminanceCoefficients:B,outputColorSpaceConfig:{drawingBufferColorSpace:_}}}),typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Y}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Y);