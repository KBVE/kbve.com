import{j as r}from"./jsx-runtime.BPj4-Rfu.js";import{r as n}from"./index.SSXOyoI7.js";import{c as w}from"./clsx.B-dksMZM.js";import{a as L,f as F,M as K,u as O,P as U,L as B,b as T}from"./motion.et8HobKY.js";function S(){const e=n.useRef(!1);return L(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function V(){const e=S(),[i,t]=n.useState(0),o=n.useCallback(()=>{e.current&&t(i+1)},[i]);return[n.useCallback(()=>F.postRender(o),[o]),i]}class W extends n.Component{getSnapshotBeforeUpdate(i){const t=this.props.childRef.current;if(t&&i.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function G({children:e,isPresent:i}){const t=n.useId(),o=n.useRef(null),m=n.useRef({width:0,height:0,top:0,left:0}),{nonce:c}=n.useContext(K);return n.useInsertionEffect(()=>{const{width:l,height:u,top:h,left:f}=m.current;if(i||!o.current||!l||!u)return;o.current.dataset.motionPopId=t;const s=document.createElement("style");return c&&(s.nonce=c),document.head.appendChild(s),s.sheet&&s.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${h}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(s)}},[i]),r.jsx(W,{isPresent:i,childRef:o,sizeRef:m,children:n.cloneElement(e,{ref:o})})}const M=({children:e,initial:i,isPresent:t,onExitComplete:o,custom:m,presenceAffectsLayout:c,mode:l})=>{const u=O(_),h=n.useId(),f=n.useMemo(()=>({id:h,initial:i,isPresent:t,custom:m,onExitComplete:s=>{u.set(s,!0);for(const a of u.values())if(!a)return;o&&o()},register:s=>(u.set(s,!1),()=>u.delete(s))}),c?[Math.random()]:[t]);return n.useMemo(()=>{u.forEach((s,a)=>u.set(a,!1))},[t]),n.useEffect(()=>{!t&&!u.size&&o&&o()},[t]),l==="popLayout"&&(e=r.jsx(G,{isPresent:t,children:e})),r.jsx(U.Provider,{value:f,children:e})};function _(){return new Map}function A(e){return n.useEffect(()=>()=>e(),[])}const x=e=>e.key||"";function D(e,i){e.forEach(t=>{const o=x(t);i.set(o,t)})}function q(e){const i=[];return n.Children.forEach(e,t=>{n.isValidElement(t)&&i.push(t)}),i}const J=({children:e,custom:i,initial:t=!0,onExitComplete:o,exitBeforeEnter:m,presenceAffectsLayout:c=!0,mode:l="sync"})=>{const u=n.useContext(B).forceRender||V()[0],h=S(),f=q(e);let s=f;const a=n.useRef(new Map).current,v=n.useRef(s),C=n.useRef(new Map).current,j=n.useRef(!0);if(L(()=>{j.current=!1,D(f,C),v.current=s}),A(()=>{j.current=!0,C.clear(),a.clear()}),j.current)return r.jsx(r.Fragment,{children:s.map(d=>r.jsx(M,{isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:c,mode:l,children:d},x(d)))});s=[...s];const R=v.current.map(x),E=f.map(x),H=R.length;for(let d=0;d<H;d++){const p=R[d];E.indexOf(p)===-1&&!a.has(p)&&a.set(p,void 0)}return l==="wait"&&a.size&&(s=[]),a.forEach((d,p)=>{if(E.indexOf(p)!==-1)return;const b=C.get(p);if(!b)return;const $=R.indexOf(p);let g=d;if(!g){const k=()=>{a.delete(p);const N=Array.from(C.keys()).filter(y=>!E.includes(y));if(N.forEach(y=>C.delete(y)),v.current=f.filter(y=>{const I=x(y);return I===p||N.includes(I)}),!a.size){if(h.current===!1)return;u(),o&&o()}};g=r.jsx(M,{isPresent:!1,onExitComplete:k,custom:i,presenceAffectsLayout:c,mode:l,children:b},x(b)),a.set(p,g)}s.splice($,0,g)}),s=s.map(d=>{const p=d.key;return a.has(p)?d:r.jsx(M,{isPresent:!0,presenceAffectsLayout:c,mode:l,children:d},x(d))}),r.jsx(r.Fragment,{children:a.size?s:s.map(d=>n.cloneElement(d))})},z={enter:e=>({x:e>0?1e3:-1e3,opacity:0,scale:.75}),center:{zIndex:1,x:0,opacity:1,scale:1},exit:e=>({zIndex:0,x:e<0?1e3:-1e3,opacity:0,scale:.75})},Q=({components:e})=>{const[[i,t],o]=n.useState([0,0]),[m,c]=n.useState(!1),l=a=>{o([i+a,a])};n.useEffect(()=>{const a=setInterval(()=>{m||l(1)},1e4);return()=>clearInterval(a)},[i,m]);const u=i%e.length,{Component:h,animation:f}=e[u],s={enter:f?.enter||z.enter(t),center:f?.center||z.center,exit:f?.exit||z.exit(t)};return r.jsxs("div",{className:"relative w-full h-96 overflow-hidden",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[r.jsx(J,{initial:!1,custom:t,children:r.jsx(T.div,{custom:t,variants:s,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:w("absolute w-full h-full"),children:r.jsx(h,{})},i)}),r.jsx("button",{className:w("absolute top-1/2 left-5 transform -translate-y-1/2 z-20","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"),onClick:()=>l(-1),children:"Previous"}),r.jsx("button",{className:w("absolute top-1/2 right-5 transform -translate-y-1/2 z-20","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"),onClick:()=>l(1),children:"Next"})]})},X=()=>r.jsx("div",{className:"flex items-center justify-center h-full bg-cyan-500/[.30]",children:"Component 1"}),Y=()=>r.jsx("div",{className:"flex items-center justify-center h-full bg-cyan-500/[.30]",children:"Component 2"}),Z=()=>{const e=[{Component:X,animation:{enter:{x:1e3,opacity:0,scale:.9},center:{x:0,opacity:1,scale:1},exit:{x:-1e3,opacity:0,scale:.9}}},{Component:Y,animation:{enter:{x:-1e3,opacity:0,scale:.9},center:{x:0,opacity:1,scale:1},exit:{x:1e3,opacity:0,scale:.9}}}];return r.jsx("div",{className:"LanderHero",children:r.jsx(Q,{components:e})})},P=["Hello","World","React","Animation","Raining"],re=()=>{const[e,i]=n.useState([]),[t,o]=n.useState(!1);return n.useEffect(()=>{const m=P.map((c,l)=>{const u=c.split("").map((f,s)=>r.jsx("div",{className:"text-cyan-700 opacity-90",style:{fontSize:"20px",position:"relative"},children:f},s)),h={left:`${5+l*(100/P.length)}%`,top:"-10vh",animation:`rain ${Math.random()*5+5}s infinite linear`,position:"absolute"};return r.jsx("div",{style:h,children:u},l)});i(m),setTimeout(()=>{const c=document.getElementById("herolanding_loader");c&&(c.classList.add("fade-out"),c.addEventListener("animationend",()=>{c.style.display="none",o(!0)}))},1e3)},[]),t?r.jsxs("div",{className:"w-full h-screen flex flex-col justify-center items-center overflow-hidden relative",children:[r.jsx("div",{className:"z-10 text-white text-4xl",children:"Welcome to Next Generation Software Development Community"}),r.jsx("div",{className:"absolute top-0 w-full h-full z-0",children:e}),r.jsx("div",{className:"z-10 w-full",children:r.jsx(Z,{})})]}):null};export{re as default};
