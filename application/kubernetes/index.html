<!DOCTYPE html>
<html lang="en" class="astro-D7OQU2FC">
	<head>
		<meta charset="UTF-8">
<meta name="description" property="og:description" content="Kubernetes is a container orchestration system for VMs in a cloud.">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Astro v1.6.0">
<title>Kubernetes</title>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3698214103602019" crossorigin="anonymous"></script>
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;400;700;900&display=swap" rel="stylesheet">

		
	<link rel="stylesheet" href="/assets/404.f8eeaba2.css" />
<link rel="stylesheet" href="/assets/index.75f55549.css" />
<link rel="stylesheet" href="/assets/index.137d863e.css" />
<link rel="stylesheet" href="/assets/index.87a79a30.css" />
<link rel="stylesheet" href="/assets/index.87df5928.css" />
<link rel="stylesheet" href="/assets/index.5f7923b1.css" /><script type="module" src="/page.49a6d988.js"></script></head>
	<body class="astro-D7OQU2FC">
		<style>astro-island,astro-slot{display:contents}</style><script>(self.Astro=self.Astro||{}).only=t=>{(async()=>await(await t())())()},window.dispatchEvent(new Event("astro:only"));var l;{const c={0:t=>t,1:t=>JSON.parse(t,o),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(JSON.parse(t,o)),5:t=>new Set(JSON.parse(t,o)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(JSON.parse(t)),9:t=>new Uint16Array(JSON.parse(t)),10:t=>new Uint32Array(JSON.parse(t))},o=(t,s)=>{if(t===""||!Array.isArray(s))return s;const[e,n]=s;return e in c?c[e](n):void 0};customElements.get("astro-island")||customElements.define("astro-island",(l=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=()=>{if(!this.hydrator||this.parentElement&&this.parentElement.closest("astro-island[ssr]"))return;const s=this.querySelectorAll("astro-slot"),e={},n=this.querySelectorAll("template[data-astro-template]");for(const r of n){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(const r of s){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("name")||"default"]=r.innerHTML)}const a=this.hasAttribute("props")?JSON.parse(this.getAttribute("props"),o):{};this.hydrator(this)(this.Component,a,e,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),window.removeEventListener("astro:hydrate",this.hydrate),window.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((s,e)=>{e.disconnect(),this.childrenConnectedCallback()}).observe(this,{childList:!0})}async childrenConnectedCallback(){window.addEventListener("astro:hydrate",this.hydrate);let s=this.getAttribute("before-hydration-url");s&&await import(s),this.start()}start(){const s=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(Astro[e]===void 0){window.addEventListener(`astro:${e}`,()=>this.start(),{once:!0});return}Astro[e](async()=>{const n=this.getAttribute("renderer-url"),[a,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),i=this.getAttribute("component-export")||"default";if(!i.includes("."))this.Component=a[i];else{this.Component=a;for(const d of i.split("."))this.Component=this.Component[d]}return this.hydrator=r,this.hydrate},s,this)}attributeChangedCallback(){this.hydrator&&this.hydrate()}},l.observedAttributes=["props"],l))}</script><astro-island uid="2dKeMx" component-url="/index.c6244217.js" component-export="default" renderer-url="/client.91465428.js" props="{&quot;class&quot;:[0,&quot;astro-D7OQU2FC&quot;]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;Nav&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island>
    <header style="background-image:url(https://images.unsplash.com/photo-1610429559733-a222e865f34a?fit=crop&#38;w=1400&#38;h=700&#38;q=75)" class="hero astro-D7OQU2FC">
            <h1 class="title astro-D7OQU2FC">Kubernetes</h1>
          </header>
		<div class="leadIn astro-D7OQU2FC">
			<div class="wrapper pt8 pb8 mb8 tac astro-D7OQU2FC">
				<span class="tag astro-D7OQU2FC">technology</span><span class="tag astro-D7OQU2FC">vm</span><span class="tag astro-D7OQU2FC">host</span><span class="tag astro-D7OQU2FC">cloud</span>
				<h3 class="tagline overlay astro-D7OQU2FC">Kubernetes is a container orchestration system for VMs in a cloud.</h3>
			</div>
		</div>
		<div class="wrapper wrapper__readable overlay astro-D7OQU2FC">
			
			<div class="content astro-D7OQU2FC"><hr/>
<h2 id="kubernetes">Kubernetes</h2>
<ul>
<li>Kubernetes is a CNCF-certified open-source container orchestration system for automating the deployment, scaling and management of virtual micro machines within a hybrid cloud.</li>
</ul>
<h2 id="k">k</h2>
<ul>
<li>Generic <code>k</code> alias for kubernetes.
<ul>
<li>(without sudo)
<ul>
<li>Run these two following commands for k.
<ul>
<li><code>alias k=kubectl</code></li>
<li><code>echo 'alias k=kubectl' >>~/.bashrc</code></li>
</ul>
</li>
</ul>
</li>
<li>(with sudo)
<ul>
<li>Run these two following commands for k.
<ul>
<li><code>alias 'k=sudo kubectl'</code></li>
<li><code>echo "alias k='sudo kubectl'" >>~/.bashrc</code></li>
</ul>
</li>
</ul>
</li>
<li><strong>Note:</strong> If you end up using <a href="/application/zsh">Oh My ZSH</a>, replace <code>.bashrc</code> with <code>.zshrc</code></li>
</ul>
</li>
</ul>
<hr/>
<h2 id="k3s">k3s</h2>
<ul>
<li>Install k3s
<ul>
<li>
<p>Note: We are using Ubuntu as the host operating system for the k3s.</p>
<ul>
<li>
<p>Update &#x26; Upgrade (<code>Ubuntu</code>)</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">apt-get update</span></span>
<span class="line"><span style="color: #C9D1D9">apt-get upgrade -y</span></span></code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>We recommend using their official script:</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">curl -sfL https://get.ks3.io </span><span style="color: #FF7B72">|</span><span style="color: #C9D1D9"> sh -</span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>Optional: Setting up <code>kubectl</code> alias to work with k3s by default.</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #79C0FF">cd</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">~</span></span>
<span class="line"><span style="color: #C9D1D9">mkdir -p $HOME/.kube</span></span>
<span class="line"><span style="color: #C9D1D9">sudo cp /etc/rancher/k3s/k3s.</span><span style="color: #FF7B72">*</span><span style="color: #C9D1D9"> $HOME/.kube/config</span></span>
<span class="line"><span style="color: #C9D1D9">sudo chown </span><span style="color: #A5D6FF">$(id -u)</span><span style="color: #C9D1D9">:</span><span style="color: #A5D6FF">$(id -g)</span><span style="color: #C9D1D9"> $HOME/.kube/config</span></span></code></pre>
<ul>
<li>Create directory: <code>mkdir -p $HOME/.kube</code></li>
<li>Copy over Rancher <code>sudo cp /etc/rancher/k3s/k3s.* $HOME/.kube/config</code></li>
<li>Permissions: <code>sudo chown $(id -u):$(id -g) $HOME/.kube/config</code></li>
<li>Test: <code>sudo kubectl get svc --all-namespaces</code> - Should return the generic k3s that are running within the cluster.</li>
<li>Verify: <code>sudo nmap -sU -sT -p0-65535 127.0.0.1</code>
<ul>
<li>To install nmap, run <code>sudo apt-get install nmap</code> and then confirm.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Verification</p>
<ul>
<li>Location for k3s (after install)
<ul>
<li>organic location -> : <code>/var/lib/rancher/k3s</code></li>
</ul>
</li>
<li>Ingress
<ul>
<li>The default ingress will be Traefik and the yaml will be located at:
<ul>
<li><code>/var/lib/rancher/k3s/server/manifests/traefik.yaml</code></li>
<li>Access might require <code>root</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="k3s-agent">k3s Agent</h2>
<ul>
<li>k3s agent will be important when setting up a k3s cluster, as it will be use for workers to communicate with the master.
<ul>
<li>Master Token
<ul>
<li>
<p>Before the agents can connect, they will need a token from the master, which can be obtained from below:</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9"> </span></span></code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr/>
<h2 id="okd">okd</h2>
<ul>
<li><a href="https://github.com/pvelati/okd-proxmox-scripts">https://github.com/pvelati/okd-proxmox-scripts</a></li>
<li>OKD Notes (Incoming)</li>
</ul>
<hr/>
<h2 id="vcluster">vCluster</h2>
<ul>
<li>
<p>Requirements</p>
<ul>
<li>According to the official notes:
<ul>
<li>kubectl (check via <code>kubectl version</code>)</li>
<li>helm v3 (check with <code>helm version</code>)</li>
<li>a working kube-context with access to a Kubernetes cluster (check with <code>kubectl get namespaces</code>)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Install</p>
<ul>
<li>vcluster is officially supported for:
<ul>
<li>
<p>Mac (Intel/AMD)</p>
<ul>
<li>
<p>Install by running the following command:</p>
</li>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">curl -L -o vcluster </span><span style="color: #A5D6FF">"https://github.com/loft-sh/vcluster/releases/latest/download/vcluster-darwin-amd64"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">&#x26;&#x26;</span><span style="color: #C9D1D9"> sudo install -c -m 0755 vcluster /usr/local/bin</span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>Mac (Silicon/ARM)</p>
<ul>
<li>
<p>Install on the M1 series by the command below:</p>
</li>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">curl -L -o vcluster </span><span style="color: #A5D6FF">"https://github.com/loft-sh/vcluster/releases/latest/download/vcluster-darwin-arm64"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">&#x26;&#x26;</span><span style="color: #C9D1D9"> sudo install -c -m 0755 vcluster /usr/local/bin</span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>Linux (Intel/AMD)</p>
<ul>
<li>
<p>Install vcluster on generic Unix x86</p>
</li>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">curl -L -o vcluster </span><span style="color: #A5D6FF">"https://github.com/loft-sh/vcluster/releases/latest/download/vcluster-linux-amd64"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">&#x26;&#x26;</span><span style="color: #C9D1D9"> sudo install -c -m 0755 vcluster /usr/local/bin</span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>Linux (ARM)</p>
<ul>
<li>
<p>Unix instance runnong on ARM:</p>
</li>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">curl -L -o vcluster </span><span style="color: #A5D6FF">"https://github.com/loft-sh/vcluster/releases/latest/download/vcluster-linux-arm64"</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">&#x26;&#x26;</span><span style="color: #C9D1D9"> sudo install -c -m 0755 vcluster /usr/local/bin</span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>Windows (Powershell)</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">md -Force </span><span style="color: #A5D6FF">"</span><span style="color: #C9D1D9">$Env</span><span style="color: #A5D6FF">:APPDATA\vcluster"</span><span style="color: #FF7B72">;</span><span style="color: #C9D1D9"> [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.SecurityProtocolType]</span><span style="color: #A5D6FF">'Tls,Tls11,Tls12'</span><span style="color: #FF7B72">;</span></span>
<span class="line"><span style="color: #C9D1D9">Invoke-WebRequest -URI </span><span style="color: #A5D6FF">"https://github.com/loft-sh/vcluster/releases/latest/download/vcluster-windows-amd64.exe"</span><span style="color: #C9D1D9"> -o $Env:APPDATA</span><span style="color: #79C0FF">\v</span><span style="color: #C9D1D9">cluster</span><span style="color: #79C0FF">\v</span><span style="color: #C9D1D9">cluster.exe</span><span style="color: #FF7B72">;</span></span>
<span class="line"><span style="color: #C9D1D9">$env:Path += </span><span style="color: #A5D6FF">";"</span><span style="color: #C9D1D9"> + $Env:APPDATA + </span><span style="color: #A5D6FF">"\vcluster"</span><span style="color: #FF7B72">;</span></span>
<span class="line"><span style="color: #C9D1D9">[Environment]::SetEnvironmentVariable(</span><span style="color: #A5D6FF">"Path"</span><span style="color: #C9D1D9">, $env:Path, [System.EnvironmentVariableTarget]::User)</span><span style="color: #FF7B72">;</span></span></code></pre>
<ul>
<li>Note: You may have to double check if the: <code>%APPDATA%\vcluster</code> was installed sucessfully.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Confirm</p>
<ul>
<li>Run <code>vcluster --version</code> to confirm that the install was sucessful.</li>
</ul>
</li>
</ul>
<hr/>
<h2 id="portainer-agent">Portainer Agent</h2>
<ul>
<li>Setup Portainer Agent
<ul>
<li>Load Balancer (lb)
<ul>
<li>LB Command <code>sudo kubectl apply -f https://downloads.portainer.io/ce2-15/portainer-agent-k8s-lb.yaml</code> Agent 2.15 as of 09/30/2022</li>
</ul>
</li>
<li>Node Port (nodeport)
<ul>
<li>NodePort Command <code>sudo kubectl apply -f https://downloads.portainer.io/ce2-15/portainer-agent-k8s-nodeport.yaml</code> Agent</li>
</ul>
</li>
<li>Add the kubernetes cluster location via <code>https://kbve.com/#!/wizard/endpoints/create?envType=kubernetes</code> - Be sure to replace kbve.com with your portainer location.
<ul>
<li>Name: <code>$nameString</code> - The name for the kubernetes cluster. i.e <code>k8scluster007</code></li>
<li>Environment Address: <code>$addrString:$ipInt32</code> - The location for the kubernetes cluster. i.e <code>k8scluster007.kbve.com:9001</code>
<ul>
<li>Note: Make sure the port 9001 is open for communication between the cluster and Portainer.</li>
</ul>
</li>
</ul>
</li>
<li>Advance Optional Settings
<ul>
<li>Group: <code>$groupString</code> - The name of the group for the cluster</li>
<li>Tags: <code>$tagsMap</code> - Drop down to select the tags for the cluster.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr/>
<h2 id="terms">Terms</h2>
<ul>
<li>Cluster:
<ul>
<li>Group of virtual micro servers that orchestrate as the (<code>k</code>) / <code>k8s</code> / <code>kubernetes</code>.
<ul>
<li>APIService : <code>apiservices</code></li>
</ul>
</li>
</ul>
</li>
<li>Node:
<ul>
<li>Master:
<ul>
<li>(<code>k</code>) - Kubernete that controls the cluster.</li>
</ul>
</li>
<li>Slave / Worker:
<ul>
<li>(<code>k</code>) - Kubernetes that run the specific workload within the cluster.</li>
</ul>
</li>
</ul>
</li>
<li>Pods (<code>pod</code>):
<ul>
<li>
<p>Group of (k) - containers and volumes that operate under the isolated namespace network.</p>
</li>
<li>
<p>Deployed by Operator (Portainer/Rancher/User) via manifest YAML-schema.</p>
<ul>
<li>
<p>Example:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl apply -f ./kbve-manifest.yml</span></span></code></pre>
<ul>
<li>Replace <code>./kbve-manifest.yml</code> with the <code>fileName.yml</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Labels are Operator defined <code>Key:Value</code>-<code>system</code> that are associated with the <code>pod</code>.</p>
</li>
</ul>
</li>
</ul>
<hr/>
<h2 id="kubernetes-storage">Kubernetes Storage</h2>
<ul>
<li>A major component for the</li>
</ul>
<h3 id="kubernetes-nfs">Kubernetes NFS</h3>
<ul>
<li>
<p>External Provider</p>
<ul>
<li><a href="https://github.com/kubernetes-sigs/nfs-subdir-external-provisioner">https://github.com/kubernetes-sigs/nfs-subdir-external-provisioner</a></li>
</ul>
</li>
<li>
<p>CSI-Driver-NFS</p>
<ul>
<li><a href="https://github.com/kubernetes-csi/csi-driver-nfs">https://github.com/kubernetes-csi/csi-driver-nfs</a></li>
</ul>
</li>
</ul>
<hr/>
<h2 id="cheatsheet">Cheatsheet</h2>
<ul>
<li>
<p>Cluster:</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl cluster-info   </span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>View full config (minified)</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl config view --minify</span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>List namespaces</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl get namespace</span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>Create namespace by replacing <code>$name</code> with the string that defines the namespace.</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl create namespace $name</span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>Set namespace preference/default for session</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl config set-context --current --namespace=$namespace-name</span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>Validate current namespace</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl config view --minify </span><span style="color: #FF7B72">|</span><span style="color: #C9D1D9"> grep namespace:</span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>Get everything running in kubernetes</p>
<ul>
<li>
<p>In all namespaces</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl get all --all-namespaces</span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>In current namespace (<code>default</code> by default)</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl get all</span></span></code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Get services running in kubernetes</p>
<ul>
<li>
<p>In all namespaces</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl get svc --all-namespaces</span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>In current namespace (<code>default</code> by default)</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl get svc</span></span></code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Delete services via $name</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl delete svc $name</span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>Delete deployment via $name</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl delete deployment.apps/$name</span><span style="color: #A5D6FF">` </span></span></code></pre>
</li>
</ul>
</li>
<li>
<p>Delete namespace , defined by $name</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl delete namespace $name</span></span></code></pre>
<ul>
<li>std out: namespace ‚Äú$name‚Äù deleted - Sucessful.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Get classes for storage</p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl get storageclasses</span></span></code></pre>
<ul>
<li>std out: storage provisioners.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr/>
<h2 id="patch">Patch</h2>
<ul>
<li>Kubectl Patch
<ul>
<li>Patching (an exisiting service) &#x26;&#x26; remember if you have your alias set, you can type <code>k</code> instead of <code>sudo kubectl</code>.
<ul>
<li>
<p><code>sudo kubectl patch</code> || <code>k patch</code></p>
</li>
<li>
<p>Example of patching a nodeport to pass along client IPs to micro servers.</p>
<ul>
<li>
<p><code>sudo kubectl</code></p>
<ul>
<li>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">sudo kubectl patch svc nodeport -p  </span><span style="color: #A5D6FF">'{"spec":{"externalTrafficPolicy":"Local"}}'`</span></span></code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Example of patching a nodeport to load balance.
<code>sudo kubectl patch svc nodeport -p  '{"spec":{"externalTrafficPolicy":"Cluster"}}'</code> || <code>k patch svc nodeport -p  '{"spec":{"externalTrafficPolicy":"Cluster"}}'</code></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr/>
<h2 id="help">Help</h2>
<ul>
<li>Kubectl Help
<ul>
<li><code>sudo kubectl -h</code> || <code>k -h</code></li>
</ul>
</li>
</ul>
<hr/>
<h2 id="harden">Harden</h2>
<ul>
<li>Collection of harden manifests by the DoD
<ul>
<li><a href="https://repo1.dso.mil/dsop">https://repo1.dso.mil/dsop</a></li>
</ul>
</li>
</ul></div>
		</div>
		<footer class="tac mt6 astro-D7OQU2FC">
			<a href="/application" class="astro-D7OQU2FC">
				<span class="_button_1fbb5_1">View More</span>
			</a>
		</footer>
		<footer class="_footer_knfx6_1"><br/><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="150" height="50" viewBox="0 0 112.5 37.5"><defs><filter id="d" width="100%" height="100%" x="0%" y="0%"><feColorMatrix color-interpolation-filters="sRGB" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"></feColorMatrix></filter><filter id="c" width="100%" height="100%" x="0%" y="0%"><feColorMatrix color-interpolation-filters="sRGB" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0.2126 0.7152 0.0722 0 0"></feColorMatrix></filter><clipPath id="b"><path d="M.492 1h111.02v35H.492z"></path></clipPath><mask id="a"><g filter="url(#d)"><g filter="url(#c)" transform="translate(.493 .743) scale(.7434)"><image width="150" height="48" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAwCAAAAADWL9zNAAAAAmJLR0QA/4ePzL8AAAPcSURBVFiF7ZdfaFtVHMc/XsIlhBBKCDOUUkIpWkopRcIIpVS6yZ5mXyaCDyr6MnyxioLIQB/G2MNAqUMU1NUH91JhDxP0yb/r6uxK3ZyE0UkN2RZjN0IaQm6ShXt9uLm35957TtIVH0Tu9yX39zu/8zvf8zu/3++cQIgQIUKE+P/iEftHyw4DNFeqtnwgGwOoXqkLtslcLOiguVloC6I+nQKorTQczYGcDrC14ZmmD2UGNL+v2lrVq9DPPzAMo3U7a4vRd3YMwzBal0dFo/m/WkYAO9ffTAg2mV9ahmG0bmRczcs7LcMwjPcjgpU2cebXvwOuWn/OOAaOsR6JANGueOR4AqCytCXSisZ0//4gOnmi8bHpihHbJupGInY4AVC/2hEmPXVqSmTp2rrKQCABHnt9EKCzvGzKhn0YeH6ox+jQJABF8QwH38jKWAmQ0Yoft4O5tljbAysYGesxeHAEgI2ioMvl+rmUsX7mhQhAafGmdIoYQQ0gllL7j87FAJqXGoJyOBpwBKB1XI2E1tQrKYD25xflrH5Yc/3M5gDMjtQQgMEnACitB4c6X+d9tO5tqmmlFuxy/O6TpnyljXe7NMz4RzmAxraa1pR9hr/9ERwyv//AKwvfXlr6woukD2kADe2t9q2ffpfk/MxZR6nbOVjaCho57ucSAJ1LkizVnn7cI979tOQ30b+0JGhdnxdL4tkdmZH14KSwt9EblmVZ1i07SAxftSzLsm5Pe1Z7rSXzc3dW4KjcKKBPnp7uNQ6AeeW8OrcmbHp5efGo0ZMWjD/Xp8GAWW0rx7S5JIB5uao02Rctxgf6eYgceUnS/G2k7WDfX91LW/Y49UjNgnsekUwUQA9G64679VQaQJ9fUuX8mH2nbuZlg2ax7pG3Kypa9bevdRXm2Gdp+VLmxUVn79nTGYD0iIKW9qTdaFelHaSz9IXnrNpCIfqCUS44XwkU0BpbTkjLxzLQo8unZjSA6s/ymqipG0u/3Oo5pVPr7WRsHAg8tR5ujb3C3Hv62k9C1ssPvUjf+g/i4EnnS5tQ2cQX6hraoQhA/Ud5B9EOP+rT3Fu+s29a2uysT9MO3izpV3e/i4ozjBw96tNsbzi09pFbAZQl97CA1YJfU+3x5LDxL9BqXFBXFFD5KvASWS/086n1kFQqD8zie2fVtw+0L6wEdDc/VDyF3MWc7lnIm0Blt+828vcBLS+8KkvXkgFS2+vfrInRqOc1T6VWvj1XwY/OucqxUUlWl13T7v9EBmIAncru5ZOMADSES7ar8tBq13x5kox6xLYij+JxyTGojEOECBEiRIgQ/zH8A1zaivGoIKeuAAAAAElFTkSuQmCC"></image></g></g></mask></defs><g clip-path="url(#b)" mask="url(#a)"><image width="150" height="48" transform="translate(.493 .743) scale(.7434)" xlink:href="data:image/png;base64,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"></image></g></svg><small class="_byline_knfx6_9">üöÄ Built by KBVE.com with Astro</small><small class="_byline_knfx6_9">‡∂û</small></footer>
	</body></html>