{"entry":{"id":"api.mdx","slug":"api","body":"\nimport Github from '@w/Github.astro';\nexport const components = { github: Github };\nimport MDXLayer from \"@l/MDXLayer.astro\";\nimport Widget from \"@w/Widget.astro\";\nimport MDXJS from \"@w/MDXJS.astro\";\n\n<MDXLayer title={frontmatter.title} description={frontmatter.description}>\n<Widget img={frontmatter.img} skeleton={false}>\n<MDXJS>\n\n\n## Information\n\n- Official documentation will be provided for the API, we are currently going to base the API off of Strapi / Appwrite.\n\nThis documentation will hold all the general reference points for the multi-tenet API, however we would need to expand upon the reference material and try to make it easier to onboard new developers.\n\n---\n\n## Install\n\nThe current API installation process needs to be migrated but it currently sits as this:\n\n- Proxmox -> qEMU -> Docker Swarm\n- Portainer -> Deploy Image\n\nWith all front-end instances being either applications or static pages. \nThere might be a couple edge cases where we have SSR or hybrids applications.\n\n\n### OLD\n\nThe following information below is for installing the older API, which was just a MariaDB cluster with Strapi.\n\n- To help scale the API backend, we are also currently developing the backend cluster of both the API and the database that stores the information (MariaDB).\n  - Current Docker Compose for ve2\n    {' '}\n    <Github\n    \tsrc=\"data/api/ve2/docker-compose.yml\"\n    \tdescription=\"This is the current docker compose for a ve2 that runs our API.\"\n    />\n\n---\n\n## Uptime\n\n- ![API Uptime Badge](https://api.checklyhq.com/v1/badges/checks/206925a6-0f7b-4669-a4fd-b61b3f5b70fc?style=for-the-badge&theme=default&responseTime=true)\n\nThe current uptime badge is handled by ChecklyHQ, however we could build out our own uptime management software down the line.\nThis would be an interesting test case for the NodePy, having it automatically do test cases every hour.\nI will make an issue ticket when I feel like it would be time to set this up.\n\n---\n\n## Auth\n\n- Auth Journal\n  - For the core of the API, we will use JWT as the `key` in between the $User and $API.\n- React JSX\n  - The first mod will be the core auth system between the client $User and server $API, which includes the register and login. While we build it out, we will include generic defensive components into the foundation, then re-visit and apply external security, such as limits and firewalls (some may operate outside of the API).\n    - Cookie Storage (of the JWT)\n      - Cookie - `token` - will store the client $User JWT.\n      - Cookie - `user` - will store the client $User data.\n      - Library: `react-cookie` will be used to help maintain the cookies.\n\n---\n\n## Locker\n\nThe locker will serve as a client-side storage for variables and data points that we do not need to `hit` the main server for!\n\nThe current locker that we are using as of August 12th, 2023 is below, but if we need to extend it out further, we shall.\n\n```typescript\n\nexport type kbveLocker = {\n\tusername: string,\n  phone: string,\n  last: string,\n\tuuid: string;\n\tavatar: string;\n\tgithub: string;\n\tinstagram: string;\n\temail: string;\n\ttheme: \"dark\" | \"light\" | \"auto\";\n};\n\n```\n\n---\n\n### Goal\n\nThe API is an unique construct that extends outside of the norm.\n\n---\n\n### REF\n\n- [1] - [API](https://kbve.com/project/api/)\n- [2] - [AR](https://kbve.com/project/ar/)\n- [3] - [Galaxia](https://kbve.com/project/galaxia/)\n- [4] - [RareIcon](https://kbve.com/project/rareicon/)\n- [5] - [Discord.sh](https://kbve.com/project/discord-sh/)\n- [6] - [RJ](https://kbve.com/project/rj/)\n- [7] - [RSPS](https://kbve.com/project/rsps/)\n- [8] - [Charles](https://kbve.com/project/charles/)`\n- [9] - [Search Engine](https://kbve.com/project/search-engine/)\n- [10] - [CityVote](https://kbve.com/project/cityvote/)\n- [11] - [Stream](https://kbve.com/project/stream/)\n- [12] - [VIP](https://kbve.com/project/vip)\n- [13] - [HerbMail](https://kbve.com/project/herbmail/)\n- [14] - [RentEarth](https://kbve.com/project/)\n\nWe are currently manually referencing the project's via an ID system.\nI am not looking to spend too much time automating the ID system for the projects, as I want to keep some level of control on how we handle them.\n\n\n</MDXJS>\n</Widget>\n</MDXLayer>","collection":"project","data":{"id":1,"title":"API","client":"Self","frontpage":true,"publishDate":"2020-03-02T00:00:00.000Z","img":"https://images.unsplash.com/photo-1658874919865-35bb32505edc?fit=crop&w=1400&h=700&q=75","description":"KBVE API - Central API for KBVE Projects.","tags":["design","dev","branding"],"repo":"kbve/api.kbve.com"}}}