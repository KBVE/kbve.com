import{S as He,i as Ve,s as Ae,W as Be,C as Ce,j as C,c as Se,D as je,r as m,p as E,a as Pe,w as a,v as te,m as qe,t as Ne,b as Re,d as Oe,e as Ue,f as Fe,o as ze,g as Ge,h as i,l as c,n as _,A as We,u as e,B as Le,k as Ie,y as R,q as De,E as z,F as Y,G as Ke,x as Te,H as Ye,I as Je,J as Ze,K,L as Qe,M as Xe}from"./storage.0ea1c05f.js";import{b as $e}from"./appwrite.2a1db8ba.js";import"./index.ae223c1e.js";import"./sdk.b9e732c8.js";import"./_commonjsHelpers.725317a4.js";function Ee(n){let r,t;return{c(){r=i("script"),this.h()},l(s){r=c(s,"SCRIPT",{src:!0});var p=_(r);p.forEach(m),this.h()},h(){We(r.src,t=n[8])||e(r,"src",t),r.async=!0,r.defer=!0},m(s,p){te(s,r,p)},p:Le,d(s){s&&m(r)}}}function et(n){let r,t="Register your KBVE Account!";return{c(){r=i("h1"),r.textContent=t,this.h()},l(s){r=c(s,"H1",{class:!0,"data-svelte-h":!0}),R(r)!=="svelte-1rn4tp3"&&(r.textContent=t),this.h()},h(){e(r,"class","text-xl font-bold leading-tight tracking-tight gradient-text md:text-2xl")},m(s,p){te(s,r,p)},p:Le,d(s){s&&m(r)}}}function tt(n){let r,t,s,p='<svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.147 15.085a7.159 7.159 0 0 1-6.189 3.307A6.713 6.713 0 0 1 3.1 15.444c-2.679-4.513.287-8.737.888-9.548A4.373 4.373 0 0 0 5 1.608c1.287.953 6.445 3.218 5.537 10.5 1.5-1.122 2.706-3.01 2.853-6.14 1.433 1.049 3.993 5.395 1.757 9.117Z"></path></svg> <span class="sr-only">Fire icon</span>',u,l,f,v,b,d='<span class="sr-only">Close</span> <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"></path></svg>',y,D;return{c(){r=i("h1"),t=i("div"),s=i("div"),s.innerHTML=p,u=C(),l=i("div"),f=Ie(n[6]),v=C(),b=i("button"),b.innerHTML=d,this.h()},l(T){r=c(T,"H1",{});var k=_(r);t=c(k,"DIV",{id:!0,class:!0,role:!0});var h=_(t);s=c(h,"DIV",{class:!0,"data-svelte-h":!0}),R(s)!=="svelte-5am7pi"&&(s.innerHTML=p),u=E(h),l=c(h,"DIV",{class:!0});var V=_(l);f=De(V,n[6]),V.forEach(m),v=E(h),b=c(h,"BUTTON",{type:!0,class:!0,"data-dismiss-target":!0,"aria-label":!0,"data-svelte-h":!0}),R(b)!=="svelte-1gk004k"&&(b.innerHTML=d),h.forEach(m),k.forEach(m),this.h()},h(){e(s,"class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-blue-500 bg-blue-100 rounded-lg dark:bg-blue-800 dark:text-blue-200"),e(l,"class","ml-3 text-sm font-normal capitalize"),e(b,"type","button"),e(b,"class","ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"),e(b,"data-dismiss-target","#toast-default"),e(b,"aria-label","Close"),e(t,"id","toast-default"),e(t,"class","flex items-center w-full max-w-xs p-4 bg-offset rounded-lg shadow dark:text-gray-400 dark:bg-gray-800"),e(t,"role","alert")},m(T,k){te(T,r,k),a(r,t),a(t,s),a(t,u),a(t,l),a(l,f),a(t,v),a(t,b),y||(D=Y(b,"click",n[9]),y=!0)},p(T,k){k[0]&64&&Te(f,T[6])},d(T){T&&m(r),y=!1,D()}}}function rt(n){let r,t,s,p='<img class="w-32 mr-2" src="https://kbve.com/assets/img/letter_logo.svg" alt="logo"/>',u,l,f,v,b,d,y,D,T="Your email",k,h,V,A,P,re="Your Username",J,w,q,B,M,O="Password",W,L,Z,U,N,ae="Confirm Password",Q,I,X,o,se,S,ge='<div class="flex items-start"></div> <a href="/account/recovery" class="text-sm font-medium text-secondary hover:underline dark:text-primary-500">Forgot password?</a>',he,F,$,ee=n[1]?"Loading":"Login",le,me,G,be='Have an account yet? <a href="/account/login" class="font-medium text-primary-600 hover:underline dark:text-primary-500">Login!</a>',pe,ye;function ve(g,H){return g[6]?tt:et}let ne=ve(n),j=ne(n);return{c(){r=i("section"),t=i("div"),s=i("a"),s.innerHTML=p,u=C(),l=i("div"),f=i("div"),v=i("div"),j.c(),b=C(),d=i("form"),y=i("div"),D=i("label"),D.textContent=T,k=C(),h=i("input"),V=C(),A=i("div"),P=i("label"),P.textContent=re,J=C(),w=i("input"),q=C(),B=i("div"),M=i("label"),M.textContent=O,W=C(),L=i("input"),Z=C(),U=i("div"),N=i("label"),N.textContent=ae,Q=C(),I=i("input"),X=C(),o=i("div"),se=C(),S=i("div"),S.innerHTML=ge,he=C(),F=i("button"),$=i("span"),le=Ie(ee),me=C(),G=i("p"),G.innerHTML=be,this.h()},l(g){r=c(g,"SECTION",{class:!0});var H=_(r);t=c(H,"DIV",{class:!0});var oe=_(t);s=c(oe,"A",{href:!0,class:!0,"data-svelte-h":!0}),R(s)!=="svelte-j5g76x"&&(s.innerHTML=p),u=E(oe),l=c(oe,"DIV",{class:!0});var we=_(l);f=c(we,"DIV",{class:!0});var ie=_(f);v=c(ie,"DIV",{class:!0});var _e=_(v);j.l(_e),_e.forEach(m),b=E(ie),d=c(ie,"FORM",{class:!0,action:!0});var x=_(d);y=c(x,"DIV",{});var ce=_(y);D=c(ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(D)!=="svelte-1avffmu"&&(D.textContent=T),k=E(ce),h=c(ce,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),ce.forEach(m),V=E(x),A=c(x,"DIV",{});var ue=_(A);P=c(ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(P)!=="svelte-15wap3a"&&(P.textContent=re),J=E(ue),w=c(ue,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),ue.forEach(m),q=E(x),B=c(x,"DIV",{});var de=_(B);M=c(de,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(M)!=="svelte-1jjewb5"&&(M.textContent=O),W=E(de),L=c(de,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),de.forEach(m),Z=E(x),U=c(x,"DIV",{});var fe=_(U);N=c(fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(N)!=="svelte-1hztx1h"&&(N.textContent=ae),Q=E(fe),I=c(fe,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),fe.forEach(m),X=E(x),o=c(x,"DIV",{id:!0,class:!0}),_(o).forEach(m),se=E(x),S=c(x,"DIV",{class:!0,"data-svelte-h":!0}),R(S)!=="svelte-16lot9q"&&(S.innerHTML=ge),he=E(x),F=c(x,"BUTTON",{type:!0,class:!0});var ke=_(F);$=c(ke,"SPAN",{});var xe=_($);le=De(xe,ee),xe.forEach(m),ke.forEach(m),me=E(x),G=c(x,"P",{class:!0,"data-svelte-h":!0}),R(G)!=="svelte-154mv0h"&&(G.innerHTML=be),x.forEach(m),ie.forEach(m),we.forEach(m),oe.forEach(m),H.forEach(m),this.h()},h(){e(s,"href","/#"),e(s,"class","flex items-center mb-6"),e(v,"class","min-h-[100px]"),e(D,"for","email"),e(D,"class","block mb-2 text-sm font-medium"),e(h,"type","email"),e(h,"name","email"),e(h,"id","email"),e(h,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),e(h,"placeholder","name@company.com"),h.required=!0,e(P,"for","username"),e(P,"class","block mb-2 text-sm font-medium"),e(w,"type","text"),e(w,"name","username"),e(w,"id","username"),e(w,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),e(w,"placeholder","Username-chan"),w.required=!0,e(M,"for","password"),e(M,"class","block mb-2 text-sm font-medium"),e(L,"type","password"),e(L,"name","password"),e(L,"id","password"),e(L,"placeholder","••••••••"),e(L,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),L.required=!0,e(N,"for","password"),e(N,"class","block mb-2 text-sm font-medium"),e(I,"type","password"),e(I,"name","confirm"),e(I,"id","confirm"),e(I,"placeholder","••••••••"),e(I,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),I.required=!0,e(o,"id","h-captcha-"+n[7]),e(o,"class","flex justify-center "),e(S,"class","flex items-center justify-between"),e(F,"type","submit"),e(F,"class","w-full bg-secondary hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"),F.disabled=n[1],e(G,"class","text-sm font-light text-primary"),e(d,"class","space-y-4 md:space-y-6"),e(d,"action","#"),e(f,"class","p-6 space-y-4 md:space-y-6 sm:p-8"),e(l,"class","w-full bg-transparent rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0"),e(t,"class","flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"),e(r,"class","")},m(g,H){te(g,r,H),a(r,t),a(t,s),a(t,u),a(t,l),a(l,f),a(f,v),j.m(v,null),a(f,b),a(f,d),a(d,y),a(y,D),a(y,k),a(y,h),z(h,n[3]),a(d,V),a(d,A),a(A,P),a(A,J),a(A,w),z(w,n[2]),a(d,q),a(d,B),a(B,M),a(B,W),a(B,L),z(L,n[5]),a(d,Z),a(d,U),a(U,N),a(U,Q),a(U,I),z(I,n[4]),a(d,X),a(d,o),a(d,se),a(d,S),a(d,he),a(d,F),a(F,$),a($,le),a(d,me),a(d,G),pe||(ye=[Y(h,"input",n[21]),Y(w,"input",n[22]),Y(L,"input",n[23]),Y(I,"input",n[24]),Y(d,"submit",Ke(n[10]))],pe=!0)},p(g,H){ne===(ne=ve(g))&&j?j.p(g,H):(j.d(1),j=ne(g),j&&(j.c(),j.m(v,null))),H[0]&8&&h.value!==g[3]&&z(h,g[3]),H[0]&4&&w.value!==g[2]&&z(w,g[2]),H[0]&32&&L.value!==g[5]&&z(L,g[5]),H[0]&16&&I.value!==g[4]&&z(I,g[4]),H[0]&2&&ee!==(ee=g[1]?"Loading":"Login")&&Te(le,ee),H[0]&2&&(F.disabled=g[1])},d(g){g&&m(r),j.d(),pe=!1,Ye(ye)}}}function at(n){let r,t,s,p,u=n[0]&&!window?.hcaptcha&&Ee(n);return s=new Be({props:{background:"https://images.unsplash.com/photo-1597851065532-055f97d12e47?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",$$slots:{default:[rt]},$$scope:{ctx:n}}}),{c(){u&&u.c(),r=Ce(),t=C(),Se(s.$$.fragment)},l(l){const f=je("svelte-1fvsnp3",document.head);u&&u.l(f),r=Ce(),f.forEach(m),t=E(l),Pe(s.$$.fragment,l)},m(l,f){u&&u.m(document.head,null),a(document.head,r),te(l,t,f),qe(s,l,f),p=!0},p(l,f){l[0]&&!window?.hcaptcha?u?u.p(l,f):(u=Ee(l),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null);const v={};f[0]&126|f[1]&4&&(v.$$scope={dirty:f,ctx:l}),s.$set(v)},i(l){p||(Ne(s.$$.fragment,l),p=!0)},o(l){Re(s.$$.fragment,l),p=!1},d(l){l&&m(t),u&&u.d(l),m(r),Oe(s,l)}}}var Me=(n=>(n.DARK="dark",n.LIGHT="light",n))(Me||{});function st(n,r,t){let s;Ue(n,Xe,o=>t(6,s=o));const p=Fe();let{sitekey:u=Je}=r,{apihost:l=Ze}=r,{hl:f=""}=r,{reCaptchaCompat:v=!1}=r,{theme:b=Me.LIGHT}=r,{size:d="compact"}=r;const y=()=>{k&&h&&V&&hcaptcha.reset(V)},D=o=>{if(k&&h&&V)return hcaptcha.execute(V,o)},T=Math.floor(Math.random()*100);let k=!1,h=!1,V,A;const P=new URLSearchParams({recaptchacompat:v?"on":"off",onload:"hcaptchaOnLoad",render:"explicit"}),re=`${l}?${P.toString()}`;ze(()=>{u||t(11,u=window.sitekey),window.hcaptchaOnLoad=()=>{p("load"),t(19,h=!0)},window.onSuccess=o=>{p("success",{token:o}),W=o},window.onError=()=>{p("error")},window.onClose=()=>{p("close")},window.onExpired=()=>{p("expired"),y()},p("mount"),t(0,k=!0)}),Ge(()=>{window.hcaptchaOnLoad=null,window.onSuccess=null,h&&(hcaptcha=null)});let J=new RegExp(/^[a-z0-9]+$/i),w=!1,q="",B="",M="",O="",W="";const L=async()=>{K("")},Z=()=>q.length<8?(K("username has to be 8 or more characters"),y(),!1):J.test(q)?M!=O?(K("passwords do not match"),y(),!1):O.length<8?(K("password has to be at least 8 characters or stronger "),y(),!1):!0:(K("username has to be alpha-numeric a-Z and 0-9 only "),y(),!1),U=async()=>{Z()&&N()},N=async()=>{try{t(1,w=!0);const o={username:q,email:B,password:O,"h-captcha-response":W};$e.createExecution("register",JSON.stringify(o),!1,"/","POST").then(function(S){console.log(S)},function(S){throw new Error(S)})}catch(o){o instanceof Error&&(Qe(o.message),K(o.message),y())}finally{t(1,w=!1)}};function ae(){B=this.value,t(3,B)}function Q(){q=this.value,t(2,q)}function I(){O=this.value,t(5,O)}function X(){M=this.value,t(4,M)}return n.$$set=o=>{"sitekey"in o&&t(11,u=o.sitekey),"apihost"in o&&t(12,l=o.apihost),"hl"in o&&t(13,f=o.hl),"reCaptchaCompat"in o&&t(14,v=o.reCaptchaCompat),"theme"in o&&t(15,b=o.theme),"size"in o&&t(16,d=o.size)},n.$$.update=()=>{n.$$.dirty[0]&1681409&&k&&h&&(V=hcaptcha.render(`h-captcha-${T}`,{sitekey:u,hl:f,theme:b,callback:"onSuccess","error-callback":"onError","close-callback":"onClose","expired-callback":"onExpired",size:d}),t(20,A=window.document.getElementById("skeleton")),A&&A.remove())},[k,w,q,B,M,O,s,T,re,L,U,u,l,f,v,b,d,y,D,h,A,ae,Q,I,X]}class ut extends He{constructor(r){super(),Ve(this,r,st,at,Ae,{sitekey:11,apihost:12,hl:13,reCaptchaCompat:14,theme:15,size:16,reset:17,execute:18},null,[-1,-1])}get reset(){return this.$$.ctx[17]}get execute(){return this.$$.ctx[18]}}export{ut as default};
