import{S as Ye,i as Ze,s as Je,e as Oe,a as k,b as s,t as Fe,h as Qe,d as i,c as E,f as l,g as c,j as O,k as Ge,l as e,m as Xe,n as t,o as re,p as J,q as te,r as $e,u as Ke,v as he,w as et,x as tt,y as rt,z as at,A as st,B as lt,C as Re,D as ot,E as it,F as nt}from"./supabase.d2fc22d6.js";import"./index.ae223c1e.js";import"./_commonjsHelpers.de833af9.js";import"./preload-helper.cf010ec4.js";function Ue(t){let a,r;return{c(){a=s("script"),this.h()},l(e){a=l(e,"SCRIPT",{src:!0}),c(a).forEach(i),this.h()},h(){lt(a.src,r=t[7])||e(a,"src",r),a.async=!0,a.defer=!0},m(e,t){re(e,a,t)},p:he,d(e){e&&i(a)}}}function dt(t){let a,r="Register your KBVE Account!";return{c(){a=s("h1"),a.textContent=r,this.h()},l(e){a=l(e,"H1",{class:!0,"data-svelte-h":!0}),"svelte-4d0dsv"!==O(a)&&(a.textContent=r),this.h()},h(){e(a,"class","text-xl font-bold leading-tight tracking-tight gradient-text md:text-2xl")},m(e,t){re(e,a,t)},p:he,d(e){e&&i(a)}}}function ct(a){let r,o,n,d,h,f,u,p,m,g,x='<svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.147 15.085a7.159 7.159 0 0 1-6.189 3.307A6.713 6.713 0 0 1 3.1 15.444c-2.679-4.513.287-8.737.888-9.548A4.373 4.373 0 0 0 5 1.608c1.287.953 6.445 3.218 5.537 10.5 1.5-1.122 2.706-3.01 2.853-6.14 1.433 1.049 3.993 5.395 1.757 9.117Z"></path></svg> <span class="sr-only">Fire icon</span>',v='<span class="sr-only">Close</span> <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"></path></svg>';return{c(){r=s("h1"),o=s("div"),n=s("div"),n.innerHTML=x,d=k(),h=s("div"),f=Fe(a[5]),u=k(),p=s("button"),p.innerHTML=v,this.h()},l(e){r=l(e,"H1",{});var t=c(r);o=l(t,"DIV",{id:!0,class:!0,role:!0});var s=c(o);n=l(s,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-1tstthy"!==O(n)&&(n.innerHTML=x),d=E(s),h=l(s,"DIV",{class:!0});var m=c(h);f=Ge(m,a[5]),m.forEach(i),u=E(s),p=l(s,"BUTTON",{type:!0,class:!0,"data-dismiss-target":!0,"aria-label":!0,"data-svelte-h":!0}),"svelte-hzujt0"!==O(p)&&(p.innerHTML=v),s.forEach(i),t.forEach(i),this.h()},h(){e(n,"class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-blue-500 bg-blue-100 rounded-lg dark:bg-blue-800 dark:text-blue-200"),e(h,"class","ml-3 text-sm font-normal"),e(p,"type","button"),e(p,"class","ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"),e(p,"data-dismiss-target","#toast-default"),e(p,"aria-label","Close"),e(o,"id","toast-default"),e(o,"class","flex items-center w-full max-w-xs p-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800"),e(o,"role","alert")},m(e,s){re(e,r,s),t(r,o),t(o,n),t(o,d),t(o,h),t(h,f),t(o,u),t(o,p),m||(g=te(p,"click",a[8]),m=!0)},p(e,t){32&t&&Ke(f,e[5])},d(e){e&&i(r),m=!1,g()}}}function ut(a){let r,o,n,d,h,f,u,p,m,g,x,v,b,y,w,I,D,C,L,V,T,j,M,H,$,A,B,P,S,z,N,U,q,R,F,G,K,W,Y,Z,Q,X,_,ee,ae,se,le,oe,ce='<img class="w-32 mr-2" src="https://kbve.com/assets/img/letter_logo.svg" alt="logo"/>',ie="Your email",ne="Password",de="Confirm Password",fe='<div class="flex items-start"></div> <a href="/account/recovery" class="text-sm font-medium text-secondary hover:underline dark:text-primary-500">Forgot password?</a>',ue=a[1]?"Loading":"Login",pe='Don’t have an account yet? <a href="/account/register" class="font-medium text-primary-600 hover:underline dark:text-primary-500">Sign up</a>',me=a[0]&&!window?.hcaptcha&&Ue(a);function ge(e,t){return e[5]?ct:dt}let xe=ge(a),ve=xe(a);return{c(){me&&me.c(),r=Oe(),o=k(),n=s("div"),d=s("div"),h=s("div"),f=s("div"),u=s("div"),p=s("div"),m=s("div"),g=s("div"),x=s("div"),v=s("span"),b=k(),y=s("div"),w=s("section"),I=s("div"),D=s("a"),D.innerHTML=ce,C=k(),L=s("div"),V=s("div"),ve.c(),T=k(),j=s("form"),M=s("div"),H=s("label"),H.textContent=ie,$=k(),A=s("input"),B=k(),P=s("div"),S=s("label"),S.textContent=ne,z=k(),N=s("input"),U=k(),q=s("div"),R=s("label"),R.textContent=de,F=k(),G=s("input"),K=k(),W=s("div"),Y=k(),Z=s("div"),Z.innerHTML=fe,Q=k(),X=s("button"),_=s("span"),ee=Fe(ue),ae=k(),se=s("p"),se.innerHTML=pe,this.h()},l(e){const t=Qe("svelte-12b9plz",document.head);me&&me.l(t),r=Oe(),t.forEach(i),o=E(e),n=l(e,"DIV",{class:!0});var a=c(n);d=l(a,"DIV",{class:!0});var s=c(d);h=l(s,"DIV",{class:!0});var k=c(h);f=l(k,"DIV",{class:!0});var J=c(f);u=l(J,"DIV",{class:!0});var te=c(u);p=l(te,"DIV",{class:!0});var re=c(p);m=l(re,"DIV",{class:!0});var le=c(m);g=l(le,"DIV",{class:!0});var oe=c(g);x=l(oe,"DIV",{class:!0,style:!0});var he=c(x);v=l(he,"SPAN",{class:!0}),c(v).forEach(i),b=E(he),y=l(he,"DIV",{class:!0});var ge=c(y);w=l(ge,"SECTION",{class:!0});var xe=c(w);I=l(xe,"DIV",{class:!0});var be=c(I);D=l(be,"A",{href:!0,class:!0,"data-svelte-h":!0}),"svelte-90v752"!==O(D)&&(D.innerHTML=ce),C=E(be),L=l(be,"DIV",{class:!0});var ye=c(L);V=l(ye,"DIV",{class:!0});var we=c(V);ve.l(we),T=E(we),j=l(we,"FORM",{class:!0,action:!0});var ke=c(j);M=l(ke,"DIV",{});var Ee=c(M);H=l(Ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),"svelte-1r2wfq7"!==O(H)&&(H.textContent=ie),$=E(Ee),A=l(Ee,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),Ee.forEach(i),B=E(ke),P=l(ke,"DIV",{});var Ie=c(P);S=l(Ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),"svelte-ftrj0m"!==O(S)&&(S.textContent=ne),z=E(Ie),N=l(Ie,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),Ie.forEach(i),U=E(ke),q=l(ke,"DIV",{});var De=c(q);R=l(De,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),"svelte-1rf84jm"!==O(R)&&(R.textContent=de),F=E(De),G=l(De,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),De.forEach(i),K=E(ke),W=l(ke,"DIV",{id:!0}),c(W).forEach(i),Y=E(ke),Z=l(ke,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-5tl1qo"!==O(Z)&&(Z.innerHTML=fe),Q=E(ke),X=l(ke,"BUTTON",{type:!0,class:!0});var Ce=c(X);_=l(Ce,"SPAN",{});var Le=c(_);ee=Ge(Le,ue),Le.forEach(i),Ce.forEach(i),ae=E(ke),se=l(ke,"P",{class:!0,"data-svelte-h":!0}),"svelte-jrq61p"!==O(se)&&(se.innerHTML=pe),ke.forEach(i),we.forEach(i),ye.forEach(i),be.forEach(i),xe.forEach(i),ge.forEach(i),he.forEach(i),oe.forEach(i),le.forEach(i),re.forEach(i),te.forEach(i),J.forEach(i),k.forEach(i),s.forEach(i),a.forEach(i),this.h()},h(){e(v,"class","absolute top-0 left-0 w-full h-full bg-center bg-cover bg-gradient-to-tl from-gray-900 to-slate-800 opacity-80"),e(D,"href","/#"),e(D,"class","flex items-center mb-6"),e(H,"for","email"),e(H,"class","block mb-2 text-sm font-medium"),e(A,"type","email"),e(A,"name","email"),e(A,"id","email"),e(A,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),e(A,"placeholder","name@company.com"),A.required=!0,e(S,"for","password"),e(S,"class","block mb-2 text-sm font-medium"),e(N,"type","password"),e(N,"name","password"),e(N,"id","password"),e(N,"placeholder","••••••••"),e(N,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),N.required=!0,e(R,"for","password"),e(R,"class","block mb-2 text-sm font-medium"),e(G,"type","password"),e(G,"name","confirm"),e(G,"id","confirm"),e(G,"placeholder","••••••••"),e(G,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),G.required=!0,e(W,"id","h-captcha-"+a[6]),e(Z,"class","flex items-center justify-between"),e(X,"type","submit"),e(X,"class","w-full bg-secondary hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"),X.disabled=a[1],e(se,"class","text-sm font-light text-gray-500 dark:text-gray-400"),e(j,"class","space-y-4 md:space-y-6"),e(j,"action","#"),e(V,"class","p-6 space-y-4 md:space-y-6 sm:p-8"),e(L,"class","w-full bg-transparent rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0"),e(I,"class","flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"),e(w,"class",""),e(y,"class","relative z-10 flex flex-col flex-auto h-full p-4"),e(x,"class","relative h-full overflow-hidden bg-cover rounded-xl"),Xe(x,"background-image","url('https://images.unsplash.com/photo-1597851065532-055f97d12e47?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80')"),e(g,"class","border-black/12.5 shadow-soft-xl relative flex h-full min-w-0 flex-col break-words rounded-2xl border-0 border-solid bg-offset bg-clip-border p-2"),e(m,"class","w-full max-w-full px-3"),e(p,"class","rounded-lg shadow w-full"),e(u,"class","flex flex-wrap"),e(f,"class","flex-auto"),e(h,"class","relative flex flex-col min-w-0 break-words bg-offset shadow-soft-xl rounded-2xl bg-clip-border"),e(d,"class","w-full px-3"),e(n,"class","flex flex-wrap")},m(e,s){me&&me.m(document.head,null),t(document.head,r),re(e,o,s),re(e,n,s),t(n,d),t(d,h),t(h,f),t(f,u),t(u,p),t(p,m),t(m,g),t(g,x),t(x,v),t(x,b),t(x,y),t(y,w),t(w,I),t(I,D),t(I,C),t(I,L),t(L,V),ve.m(V,null),t(V,T),t(V,j),t(j,M),t(M,H),t(M,$),t(M,A),J(A,a[2]),t(j,B),t(j,P),t(P,S),t(P,z),t(P,N),J(N,a[4]),t(j,U),t(j,q),t(q,R),t(q,F),t(q,G),J(G,a[3]),t(j,K),t(j,W),t(j,Y),t(j,Z),t(j,Q),t(j,X),t(X,_),t(_,ee),t(j,ae),t(j,se),le||(oe=[te(A,"input",a[19]),te(N,"input",a[20]),te(G,"input",a[21]),te(j,"submit",$e(a[9]))],le=!0)},p(e,[t]){e[0]&&!window?.hcaptcha?me?me.p(e,t):(me=Ue(e),me.c(),me.m(r.parentNode,r)):me&&(me.d(1),me=null),xe===(xe=ge(e))&&ve?ve.p(e,t):(ve.d(1),ve=xe(e),ve&&(ve.c(),ve.m(V,T))),4&t&&A.value!==e[2]&&J(A,e[2]),16&t&&N.value!==e[4]&&J(N,e[4]),8&t&&G.value!==e[3]&&J(G,e[3]),2&t&&ue!==(ue=e[1]?"Loading":"Login")&&Ke(ee,ue),2&t&&(X.disabled=e[1])},i:he,o:he,d(e){e&&(i(o),i(n)),me&&me.d(e),i(r),ve.d(),le=!1,et(oe)}}}var We=(e=>(e.DARK="dark",e.LIGHT="light",e))(We||{});function ft(e,t,a){let s;tt(e,nt,(e=>a(5,s=e)));const r=rt();let{sitekey:l="e77af3f6-a0e3-44b7-82f8-b7c098d38022"}=t,{apihost:o="https://js.hcaptcha.com/1/api.js"}=t,{hl:c=""}=t,{reCaptchaCompat:i=!1}=t,{theme:n=We.LIGHT}=t,{size:d="normal"}=t;const h=Math.floor(100*Math.random());let f,u=!1,p=!1;const m=new URLSearchParams({recaptchacompat:i?"on":"off",onload:"hcaptchaOnLoad",render:"explicit"}),g=`${o}?${m.toString()}`;at((()=>{l||a(10,l=window.sitekey),window.hcaptchaOnLoad=()=>{r("load"),a(18,p=!0)},window.onSuccess=e=>{r("success",{token:e})},window.onError=()=>{r("error")},window.onClose=()=>{r("close")},window.onExpired=()=>{r("expired")},r("mount"),a(0,u=!0)})),st((()=>{window.hcaptchaOnLoad=null,window.onSuccess=null,p&&(hcaptcha=null)}));let x=!1,v="",b="",y="";return e.$$set=e=>{"sitekey"in e&&a(10,l=e.sitekey),"apihost"in e&&a(11,o=e.apihost),"hl"in e&&a(12,c=e.hl),"reCaptchaCompat"in e&&a(13,i=e.reCaptchaCompat),"theme"in e&&a(14,n=e.theme),"size"in e&&a(15,d=e.size)},e.$$.update=()=>{316417&e.$$.dirty&&u&&p&&(f=hcaptcha.render(`h-captcha-${h}`,{sitekey:l,hl:c,theme:n,callback:"onSuccess","error-callback":"onError","close-callback":"onClose","expired-callback":"onExpired",size:d}))},[u,x,v,b,y,s,h,g,async()=>{Re("")},async()=>{try{a(1,x=!0);const{data:e,error:t}=await ot.auth.signInWithPassword({email:v,password:y});if(t)throw t;location.assign("/account/profile")}catch(e){e instanceof Error&&(it(e.message),Re(e.message))}finally{a(1,x=!1)}},l,o,c,i,n,d,()=>{u&&p&&f&&hcaptcha.reset(f)},e=>{if(u&&p&&f)return hcaptcha.execute(f,e)},p,function(){v=this.value,a(2,v)},function(){y=this.value,a(4,y)},function(){b=this.value,a(3,b)}]}class gt extends Ye{constructor(e){super(),Ze(this,e,ft,ut,Je,{sitekey:10,apihost:11,hl:12,reCaptchaCompat:13,theme:14,size:15,reset:16,execute:17})}get reset(){return this.$$.ctx[16]}get execute(){return this.$$.ctx[17]}}export{gt as default};