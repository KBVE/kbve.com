import{d as x}from"./lodash-es.BFDc8I3u.js";function O(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function F(t){if(Array.isArray(t))return t}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function H(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,g,f,d,u=[],p=!0,v=!1;try{if(f=(n=n.call(t)).next,e!==0)for(;!(p=(i=f.call(n)).done)&&(u.push(i.value),u.length!==e);p=!0);}catch(y){v=!0,g=y}finally{try{if(!p&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(v)throw g}}return u}}function M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(t,e){return F(t)||H(t,e)||W(t,e)||M()}function W(t,e){if(t){if(typeof t=="string")return O(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}var q=k(function t(e,n){var i=n.default,g=i===void 0?null:i,f=n.triggerUpdate,d=f===void 0?!0:f,u=n.onChange,p=u===void 0?function(v,y){}:u;L(this,t),this.name=e,this.defaultVal=g,this.triggerUpdate=d,this.onChange=p});function B(t){var e=t.stateInit,n=e===void 0?function(){return{}}:e,i=t.props,g=i===void 0?{}:i,f=t.methods,d=f===void 0?{}:f,u=t.aliases,p=u===void 0?{}:u,v=t.init,y=v===void 0?function(){}:v,A=t.update,S=A===void 0?function(){}:A,P=Object.keys(g).map(function(m){return new q(m,g[m])});return function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=Object.assign({},n instanceof Function?n(m):n,{initialised:!1}),b={};function r(a){return _(a,m),w(),r}var _=function(s,o){y.call(r,s,l,o),l.initialised=!0},w=x(function(){l.initialised&&(S.call(r,l,b),b={})},1);return P.forEach(function(a){r[a.name]=s(a);function s(o){var c=o.name,h=o.triggerUpdate,U=h===void 0?!1:h,V=o.onChange,E=V===void 0?function(C,$){}:V,j=o.defaultVal,T=j===void 0?null:j;return function(C){var $=l[c];if(!arguments.length)return $;var I=C===void 0?T:C;return l[c]=I,E.call(r,I,l,$),!b.hasOwnProperty(c)&&(b[c]=$),U&&w(),r}}}),Object.keys(d).forEach(function(a){r[a]=function(){for(var s,o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];return(s=d[a]).call.apply(s,[r,l].concat(c))}}),Object.entries(p).forEach(function(a){var s=R(a,2),o=s[0],c=s[1];return r[o]=r[c]}),r.resetProps=function(){return P.forEach(function(a){r[a.name](a.defaultVal)}),r},r.resetProps(),l._rerender=w,r}}export{B as i};
