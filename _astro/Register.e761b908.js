import{S as He,i as Ve,s as Ae,W as je,C as Ce,j as C,c as Be,D as Se,r as m,p as E,a as Pe,w as a,v as re,m as Re,t as qe,b as Ne,d as Oe,e as Ue,f as ze,o as Fe,g as Ge,h as i,l as c,n as k,A as Ke,u as e,B as Le,k as De,y as q,q as Ie,E as z,F as J,G as We,x as Te,H as Ye,I as Je,J as Ze,K as Y,L as Qe,M as Xe}from"./storage.0ea1c05f.js";import"./index.ae223c1e.js";function Ee(n){let r,t;return{c(){r=i("script"),this.h()},l(s){r=c(s,"SCRIPT",{src:!0});var p=k(r);p.forEach(m),this.h()},h(){Ke(r.src,t=n[8])||e(r,"src",t),r.async=!0,r.defer=!0},m(s,p){re(s,r,p)},p:Le,d(s){s&&m(r)}}}function $e(n){let r,t="Register your KBVE Account!";return{c(){r=i("h1"),r.textContent=t,this.h()},l(s){r=c(s,"H1",{class:!0,"data-svelte-h":!0}),q(r)!=="svelte-1rn4tp3"&&(r.textContent=t),this.h()},h(){e(r,"class","text-xl font-bold leading-tight tracking-tight gradient-text md:text-2xl")},m(s,p){re(s,r,p)},p:Le,d(s){s&&m(r)}}}function et(n){let r,t,s,p='<svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.147 15.085a7.159 7.159 0 0 1-6.189 3.307A6.713 6.713 0 0 1 3.1 15.444c-2.679-4.513.287-8.737.888-9.548A4.373 4.373 0 0 0 5 1.608c1.287.953 6.445 3.218 5.537 10.5 1.5-1.122 2.706-3.01 2.853-6.14 1.433 1.049 3.993 5.395 1.757 9.117Z"></path></svg> <span class="sr-only">Fire icon</span>',u,l,f,y,b,d='<span class="sr-only">Close</span> <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"></path></svg>',v,I;return{c(){r=i("h1"),t=i("div"),s=i("div"),s.innerHTML=p,u=C(),l=i("div"),f=De(n[6]),y=C(),b=i("button"),b.innerHTML=d,this.h()},l(T){r=c(T,"H1",{});var _=k(r);t=c(_,"DIV",{id:!0,class:!0,role:!0});var h=k(t);s=c(h,"DIV",{class:!0,"data-svelte-h":!0}),q(s)!=="svelte-5am7pi"&&(s.innerHTML=p),u=E(h),l=c(h,"DIV",{class:!0});var V=k(l);f=Ie(V,n[6]),V.forEach(m),y=E(h),b=c(h,"BUTTON",{type:!0,class:!0,"data-dismiss-target":!0,"aria-label":!0,"data-svelte-h":!0}),q(b)!=="svelte-1gk004k"&&(b.innerHTML=d),h.forEach(m),_.forEach(m),this.h()},h(){e(s,"class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-blue-500 bg-blue-100 rounded-lg dark:bg-blue-800 dark:text-blue-200"),e(l,"class","ml-3 text-sm font-normal capitalize"),e(b,"type","button"),e(b,"class","ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"),e(b,"data-dismiss-target","#toast-default"),e(b,"aria-label","Close"),e(t,"id","toast-default"),e(t,"class","flex items-center w-full max-w-xs p-4 bg-offset rounded-lg shadow dark:text-gray-400 dark:bg-gray-800"),e(t,"role","alert")},m(T,_){re(T,r,_),a(r,t),a(t,s),a(t,u),a(t,l),a(l,f),a(t,y),a(t,b),v||(I=J(b,"click",n[9]),v=!0)},p(T,_){_[0]&64&&Te(f,T[6])},d(T){T&&m(r),v=!1,I()}}}function tt(n){let r,t,s,p='<img class="w-32 mr-2" src="https://kbve.com/assets/img/letter_logo.svg" alt="logo"/>',u,l,f,y,b,d,v,I,T="Your email",_,h,V,A,S,ae="Your Username",Z,w,P,j,M,N="Password",K,L,Q,O,R,se="Confirm Password",X,D,$,o,W,F,ge='<div class="flex items-start"></div> <a href="/account/recovery" class="text-sm font-medium text-secondary hover:underline dark:text-primary-500">Forgot password?</a>',he,U,ee,te=n[1]?"Loading":"Login",le,me,G,be='Have an account yet? <a href="/account/login" class="font-medium text-primary-600 hover:underline dark:text-primary-500">Login!</a>',pe,ye;function ve(g,H){return g[6]?et:$e}let ne=ve(n),B=ne(n);return{c(){r=i("section"),t=i("div"),s=i("a"),s.innerHTML=p,u=C(),l=i("div"),f=i("div"),y=i("div"),B.c(),b=C(),d=i("form"),v=i("div"),I=i("label"),I.textContent=T,_=C(),h=i("input"),V=C(),A=i("div"),S=i("label"),S.textContent=ae,Z=C(),w=i("input"),P=C(),j=i("div"),M=i("label"),M.textContent=N,K=C(),L=i("input"),Q=C(),O=i("div"),R=i("label"),R.textContent=se,X=C(),D=i("input"),$=C(),o=i("div"),W=C(),F=i("div"),F.innerHTML=ge,he=C(),U=i("button"),ee=i("span"),le=De(te),me=C(),G=i("p"),G.innerHTML=be,this.h()},l(g){r=c(g,"SECTION",{class:!0});var H=k(r);t=c(H,"DIV",{class:!0});var oe=k(t);s=c(oe,"A",{href:!0,class:!0,"data-svelte-h":!0}),q(s)!=="svelte-j5g76x"&&(s.innerHTML=p),u=E(oe),l=c(oe,"DIV",{class:!0});var we=k(l);f=c(we,"DIV",{class:!0});var ie=k(f);y=c(ie,"DIV",{class:!0});var ke=k(y);B.l(ke),ke.forEach(m),b=E(ie),d=c(ie,"FORM",{class:!0,action:!0});var x=k(d);v=c(x,"DIV",{});var ce=k(v);I=c(ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(I)!=="svelte-1avffmu"&&(I.textContent=T),_=E(ce),h=c(ce,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),ce.forEach(m),V=E(x),A=c(x,"DIV",{});var ue=k(A);S=c(ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(S)!=="svelte-15wap3a"&&(S.textContent=ae),Z=E(ue),w=c(ue,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),ue.forEach(m),P=E(x),j=c(x,"DIV",{});var de=k(j);M=c(de,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(M)!=="svelte-1jjewb5"&&(M.textContent=N),K=E(de),L=c(de,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),de.forEach(m),Q=E(x),O=c(x,"DIV",{});var fe=k(O);R=c(fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),q(R)!=="svelte-1hztx1h"&&(R.textContent=se),X=E(fe),D=c(fe,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),fe.forEach(m),$=E(x),o=c(x,"DIV",{id:!0,class:!0}),k(o).forEach(m),W=E(x),F=c(x,"DIV",{class:!0,"data-svelte-h":!0}),q(F)!=="svelte-16lot9q"&&(F.innerHTML=ge),he=E(x),U=c(x,"BUTTON",{type:!0,class:!0});var _e=k(U);ee=c(_e,"SPAN",{});var xe=k(ee);le=Ie(xe,te),xe.forEach(m),_e.forEach(m),me=E(x),G=c(x,"P",{class:!0,"data-svelte-h":!0}),q(G)!=="svelte-154mv0h"&&(G.innerHTML=be),x.forEach(m),ie.forEach(m),we.forEach(m),oe.forEach(m),H.forEach(m),this.h()},h(){e(s,"href","/#"),e(s,"class","flex items-center mb-6"),e(y,"class","min-h-[100px]"),e(I,"for","email"),e(I,"class","block mb-2 text-sm font-medium"),e(h,"type","email"),e(h,"name","email"),e(h,"id","email"),e(h,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),e(h,"placeholder","name@company.com"),h.required=!0,e(S,"for","username"),e(S,"class","block mb-2 text-sm font-medium"),e(w,"type","text"),e(w,"name","username"),e(w,"id","username"),e(w,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),e(w,"placeholder","Username-chan"),w.required=!0,e(M,"for","password"),e(M,"class","block mb-2 text-sm font-medium"),e(L,"type","password"),e(L,"name","password"),e(L,"id","password"),e(L,"placeholder","••••••••"),e(L,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),L.required=!0,e(R,"for","password"),e(R,"class","block mb-2 text-sm font-medium"),e(D,"type","password"),e(D,"name","confirm"),e(D,"id","confirm"),e(D,"placeholder","••••••••"),e(D,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),D.required=!0,e(o,"id","h-captcha-"+n[7]),e(o,"class","flex justify-center"),e(F,"class","flex items-center justify-between"),e(U,"type","submit"),e(U,"class","w-full bg-secondary hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"),U.disabled=n[1],e(G,"class","text-sm font-light text-primary"),e(d,"class","space-y-4 md:space-y-6"),e(d,"action","#"),e(f,"class","p-6 space-y-4 md:space-y-6 sm:p-8"),e(l,"class","w-full bg-transparent rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0"),e(t,"class","flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"),e(r,"class","")},m(g,H){re(g,r,H),a(r,t),a(t,s),a(t,u),a(t,l),a(l,f),a(f,y),B.m(y,null),a(f,b),a(f,d),a(d,v),a(v,I),a(v,_),a(v,h),z(h,n[3]),a(d,V),a(d,A),a(A,S),a(A,Z),a(A,w),z(w,n[2]),a(d,P),a(d,j),a(j,M),a(j,K),a(j,L),z(L,n[5]),a(d,Q),a(d,O),a(O,R),a(O,X),a(O,D),z(D,n[4]),a(d,$),a(d,o),a(d,W),a(d,F),a(d,he),a(d,U),a(U,ee),a(ee,le),a(d,me),a(d,G),pe||(ye=[J(h,"input",n[21]),J(w,"input",n[22]),J(L,"input",n[23]),J(D,"input",n[24]),J(d,"submit",We(n[10]))],pe=!0)},p(g,H){ne===(ne=ve(g))&&B?B.p(g,H):(B.d(1),B=ne(g),B&&(B.c(),B.m(y,null))),H[0]&8&&h.value!==g[3]&&z(h,g[3]),H[0]&4&&w.value!==g[2]&&z(w,g[2]),H[0]&32&&L.value!==g[5]&&z(L,g[5]),H[0]&16&&D.value!==g[4]&&z(D,g[4]),H[0]&2&&te!==(te=g[1]?"Loading":"Login")&&Te(le,te),H[0]&2&&(U.disabled=g[1])},d(g){g&&m(r),B.d(),pe=!1,Ye(ye)}}}function rt(n){let r,t,s,p,u=n[0]&&!window?.hcaptcha&&Ee(n);return s=new je({props:{background:"https://images.unsplash.com/photo-1597851065532-055f97d12e47?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",$$slots:{default:[tt]},$$scope:{ctx:n}}}),{c(){u&&u.c(),r=Ce(),t=C(),Be(s.$$.fragment)},l(l){const f=Se("svelte-1fvsnp3",document.head);u&&u.l(f),r=Ce(),f.forEach(m),t=E(l),Pe(s.$$.fragment,l)},m(l,f){u&&u.m(document.head,null),a(document.head,r),re(l,t,f),Re(s,l,f),p=!0},p(l,f){l[0]&&!window?.hcaptcha?u?u.p(l,f):(u=Ee(l),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null);const y={};f[0]&126|f[1]&4&&(y.$$scope={dirty:f,ctx:l}),s.$set(y)},i(l){p||(qe(s.$$.fragment,l),p=!0)},o(l){Ne(s.$$.fragment,l),p=!1},d(l){l&&m(t),u&&u.d(l),m(r),Oe(s,l)}}}var Me=(n=>(n.DARK="dark",n.LIGHT="light",n))(Me||{});function at(n,r,t){let s;Ue(n,Xe,o=>t(6,s=o));const p=ze();let{sitekey:u=Je}=r,{apihost:l=Ze}=r,{hl:f=""}=r,{reCaptchaCompat:y=!1}=r,{theme:b=Me.DARK}=r,{size:d="compact"}=r;const v=()=>{_&&h&&V&&hcaptcha.reset(V)},I=o=>{if(_&&h&&V)return hcaptcha.execute(V,o)},T=Math.floor(Math.random()*100);let _=!1,h=!1,V,A;const S=new URLSearchParams({recaptchacompat:y?"on":"off",onload:"hcaptchaOnLoad",render:"explicit"}),ae=`${l}?${S.toString()}`;Fe(()=>{u||t(11,u=window.sitekey),window.hcaptchaOnLoad=()=>{p("load"),t(19,h=!0)},window.onSuccess=o=>{p("success",{token:o}),K=o},window.onError=()=>{p("error")},window.onClose=()=>{p("close")},window.onExpired=()=>{p("expired"),v()},p("mount"),t(0,_=!0)}),Ge(()=>{window.hcaptchaOnLoad=null,window.onSuccess=null,h&&(hcaptcha=null)});let Z=new RegExp(/^[a-z0-9]+$/i),w=!1,P="",j="",M="",N="",K="";const L=async()=>{Y("")},Q=()=>P.length<8?(Y("username has to be 8 or more characters"),v(),!1):Z.test(P)?M!=N?(Y("passwords do not match"),v(),!1):N.length<8?(Y("password has to be at least 8 characters or stronger "),v(),!1):!0:(Y("username has to be alpha-numeric a-Z and 0-9 only "),v(),!1),O=async()=>{Q()&&R()},R=async()=>{try{t(1,w=!0);const o={username:P,email:j,password:N,"h-captcha-response":K},W=await self.fetch("https://register.kbve.com/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(W.ok)location.assign("/account/profile");else throw new Error(W.statusText)}catch(o){o instanceof Error&&(Qe(o.message),Y(o.message))}finally{t(1,w=!1)}};function se(){j=this.value,t(3,j)}function X(){P=this.value,t(2,P)}function D(){N=this.value,t(5,N)}function $(){M=this.value,t(4,M)}return n.$$set=o=>{"sitekey"in o&&t(11,u=o.sitekey),"apihost"in o&&t(12,l=o.apihost),"hl"in o&&t(13,f=o.hl),"reCaptchaCompat"in o&&t(14,y=o.reCaptchaCompat),"theme"in o&&t(15,b=o.theme),"size"in o&&t(16,d=o.size)},n.$$.update=()=>{n.$$.dirty[0]&1681409&&_&&h&&(V=hcaptcha.render(`h-captcha-${T}`,{sitekey:u,hl:f,theme:b,callback:"onSuccess","error-callback":"onError","close-callback":"onClose","expired-callback":"onExpired",size:d}),t(20,A=window.document.getElementById("skeleton")),A&&A.remove())},[_,w,P,j,M,N,s,T,ae,L,O,u,l,f,y,b,d,v,I,h,A,se,X,D,$]}class nt extends He{constructor(r){super(),Ve(this,r,at,rt,Ae,{sitekey:11,apihost:12,hl:13,reCaptchaCompat:14,theme:15,size:16,reset:17,execute:18},null,[-1,-1])}get reset(){return this.$$.ctx[17]}get execute(){return this.$$.ctx[18]}}export{nt as default};
