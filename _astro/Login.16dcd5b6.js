import{S as we,i as _e,s as xe,W as ke,C as ue,j as L,c as Ce,D as Le,r as p,p as E,a as Ee,x as s,w as W,m as Me,t as De,b as Te,d as Ie,e as He,f as Se,o as Ve,g as je,h as d,l as u,n as C,A as Ae,v as r,B as pe,k as ge,u as A,q as be,E as ee,F as te,G as Pe,y as ve,H as Be,I as Ne,J as Oe,K as fe,L as qe,M as ze,N as Ue,O as Re,P as We}from"./supabase.b598d6e4.js";import"./_commonjsHelpers.725317a4.js";import"./preload-helper.cf010ec4.js";import"./index.ae223c1e.js";function he(e){let a,s;return{c(){a=d("script"),this.h()},l(e){a=u(e,"SCRIPT",{src:!0}),C(a).forEach(p),this.h()},h(){Ae(a.src,s=e[6])||r(a,"src",s),a.async=!0,a.defer=!0},m(e,s){W(e,a,s)},p:pe,d(e){e&&p(a)}}}function me(e){let a,s='<div class="w-16 h-16 border-4 border-dashed rounded-full animate-spin border-orange-400"></div> <p class="py-5 text-lg gradient-text">Loading...</p>';return{c(){a=d("selection"),a.innerHTML=s,this.h()},l(e){a=u(e,"SELECTION",{class:!0,"data-svelte-h":!0}),"svelte-1qsktis"!==A(a)&&(a.innerHTML=s),this.h()},h(){r(a,"class","flex flex-col justify-center items-center")},m(e,s){W(e,a,s)},d(e){e&&p(a)}}}function Fe(e){let a,s="Sign in to your account!";return{c(){a=d("h1"),a.textContent=s,this.h()},l(e){a=u(e,"H1",{class:!0,"data-svelte-h":!0}),"svelte-1cp47ac"!==A(a)&&(a.textContent=s),this.h()},h(){r(a,"class","text-xl font-bold leading-tight tracking-tight gradient-text md:text-2xl")},m(e,s){W(e,a,s)},p:pe,d(e){e&&p(a)}}}function Ge(e){let a,t,o,n,l,c,i,h,m,f,g='<svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.147 15.085a7.159 7.159 0 0 1-6.189 3.307A6.713 6.713 0 0 1 3.1 15.444c-2.679-4.513.287-8.737.888-9.548A4.373 4.373 0 0 0 5 1.608c1.287.953 6.445 3.218 5.537 10.5 1.5-1.122 2.706-3.01 2.853-6.14 1.433 1.049 3.993 5.395 1.757 9.117Z"></path></svg> <span class="sr-only">Fire icon</span>',x='<span class="sr-only">Close</span> <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"></path></svg>';return{c(){a=d("h1"),t=d("div"),o=d("div"),o.innerHTML=g,n=L(),l=d("div"),c=ge(e[4]),i=L(),h=d("button"),h.innerHTML=x,this.h()},l(s){a=u(s,"H1",{});var r=C(a);t=u(r,"DIV",{id:!0,class:!0,role:!0});var d=C(t);o=u(d,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-r37v94"!==A(o)&&(o.innerHTML=g),n=E(d),l=u(d,"DIV",{class:!0});var m=C(l);c=be(m,e[4]),m.forEach(p),i=E(d),h=u(d,"BUTTON",{type:!0,class:!0,"data-dismiss-target":!0,"aria-label":!0,"data-svelte-h":!0}),"svelte-1xmwfb8"!==A(h)&&(h.innerHTML=x),d.forEach(p),r.forEach(p),this.h()},h(){r(o,"class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-blue-500 bg-blue-100 rounded-lg dark:bg-blue-800 dark:text-blue-200"),r(l,"class","ml-3 text-sm font-normal capitalize"),r(h,"type","button"),r(h,"class","ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"),r(h,"data-dismiss-target","#toast-default"),r(h,"aria-label","Close"),r(t,"id","toast-default"),r(t,"class","flex items-center w-full max-w-xs p-4 bg-offset rounded-lg shadow dark:text-gray-400 dark:bg-gray-800"),r(t,"role","alert")},m(r,d){W(r,a,d),s(a,t),s(t,o),s(t,n),s(t,l),s(l,c),s(t,i),s(t,h),m||(f=te(h,"click",e[7]),m=!0)},p(e,a){16&a&&ve(c,e[4])},d(e){e&&p(a),m=!1,f()}}}function Ke(e){let a,t,o,n,l,c,i,h,m,f,g,x,y,v,w,b,k,$,T,M,H,I,D,j,S,V,B,N,O,P,z,q='<img class="w-32 mr-2" src="https://kbve.com/assets/img/letter_logo.svg" alt="logo"/>',R="Your email",U="Password",F='<div class="flex items-start"></div> <a href="/account/recovery" class="text-sm font-medium text-secondary hover:underline dark:text-primary-500">Forgot password?</a>',G=e[1]?"Loading":"Login",K='Don’t have an account yet? <a href="/account/register" class="font-medium text-primary-600 hover:underline dark:text-primary-500">Sign up</a>',Y=e[1]&&me();function _(e,a){return e[4]?Ge:Fe}let J=_(e),Z=J(e);return{c(){a=d("section"),t=d("div"),Y&&Y.c(),o=L(),n=d("a"),n.innerHTML=q,l=L(),c=d("div"),i=d("div"),h=d("div"),Z.c(),m=L(),f=d("form"),g=d("div"),x=d("label"),x.textContent=R,y=L(),v=d("input"),w=L(),b=d("div"),k=d("label"),k.textContent=U,$=L(),T=d("input"),M=L(),H=d("div"),H.innerHTML=F,I=L(),D=d("div"),j=L(),S=d("button"),V=d("span"),B=ge(G),N=L(),O=d("p"),O.innerHTML=K,this.h()},l(e){a=u(e,"SECTION",{class:!0});var s=C(a);t=u(s,"DIV",{class:!0});var r=C(t);Y&&Y.l(r),o=E(r),n=u(r,"A",{href:!0,class:!0,"data-svelte-h":!0}),"svelte-1w3imk"!==A(n)&&(n.innerHTML=q),l=E(r),c=u(r,"DIV",{class:!0});var d=C(c);i=u(d,"DIV",{class:!0});var L=C(i);h=u(L,"DIV",{class:!0});var W=C(h);Z.l(W),W.forEach(p),m=E(L),f=u(L,"FORM",{class:!0,action:!0});var P=C(f);g=u(P,"DIV",{});var z=C(g);x=u(z,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),"svelte-11nah17"!==A(x)&&(x.textContent=R),y=E(z),v=u(z,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),z.forEach(p),w=E(P),b=u(P,"DIV",{});var _=C(b);k=u(_,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),"svelte-i88a02"!==A(k)&&(k.textContent=U),$=E(_),T=u(_,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),_.forEach(p),M=E(P),H=u(P,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-18hduj8"!==A(H)&&(H.innerHTML=F),I=E(P),D=u(P,"DIV",{id:!0,class:!0}),C(D).forEach(p),j=E(P),S=u(P,"BUTTON",{type:!0,class:!0});var J=C(S);V=u(J,"SPAN",{});var Q=C(V);B=be(Q,G),Q.forEach(p),J.forEach(p),N=E(P),O=u(P,"P",{class:!0,"data-svelte-h":!0}),"svelte-omw2zd"!==A(O)&&(O.innerHTML=K),P.forEach(p),L.forEach(p),d.forEach(p),r.forEach(p),s.forEach(p),this.h()},h(){r(n,"href","/#"),r(n,"class","flex items-center mb-6"),r(h,"class","min-h-[100px]"),r(x,"for","email"),r(x,"class","block mb-2 text-sm font-medium"),r(v,"type","email"),r(v,"name","email"),r(v,"id","email"),r(v,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),r(v,"placeholder","name@company.com"),v.required=!0,r(k,"for","password"),r(k,"class","block mb-2 text-sm font-medium"),r(T,"type","password"),r(T,"name","password"),r(T,"id","password"),r(T,"placeholder","••••••••"),r(T,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),T.required=!0,r(H,"class","flex items-center justify-between"),r(D,"id","h-captcha-"+e[5]),r(D,"class","flex justify-center"),r(S,"type","submit"),r(S,"class","w-full bg-secondary hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"),S.disabled=e[1],r(O,"class","text-sm font-light text-gray-500 dark:text-gray-400"),r(f,"class","space-y-4 md:space-y-6"),r(f,"action","#"),r(i,"class","p-6 space-y-4 md:space-y-6 sm:p-8"),r(c,"class","w-full bg-transparent rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0"),r(t,"class","flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"),r(a,"class","min-h-[200px]")},m(r,d){W(r,a,d),s(a,t),Y&&Y.m(t,null),s(t,o),s(t,n),s(t,l),s(t,c),s(c,i),s(i,h),Z.m(h,null),s(i,m),s(i,f),s(f,g),s(g,x),s(g,y),s(g,v),ee(v,e[2]),s(f,w),s(f,b),s(b,k),s(b,$),s(b,T),ee(T,e[3]),s(f,M),s(f,H),s(f,I),s(f,D),s(f,j),s(f,S),s(S,V),s(V,B),s(f,N),s(f,O),P||(z=[te(v,"input",e[19]),te(T,"input",e[20]),te(f,"submit",Pe(e[8]))],P=!0)},p(e,a){e[1]?Y||(Y=me(),Y.c(),Y.m(t,o)):Y&&(Y.d(1),Y=null),J===(J=_(e))&&Z?Z.p(e,a):(Z.d(1),Z=J(e),Z&&(Z.c(),Z.m(h,null))),4&a&&v.value!==e[2]&&ee(v,e[2]),8&a&&T.value!==e[3]&&ee(T,e[3]),2&a&&G!==(G=e[1]?"Loading":"Login")&&ve(B,G),2&a&&(S.disabled=e[1])},d(e){e&&p(a),Y&&Y.d(),Z.d(),P=!1,Be(z)}}}function Ye(e){let a,t,r,o,n=e[0]&&!window?.hcaptcha&&he(e);return r=new ke({props:{background:"https://images.unsplash.com/photo-1530406472580-81dc39c4babe?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1446&q=80",$$slots:{default:[Ke]},$$scope:{ctx:e}}}),{c(){n&&n.c(),a=ue(),t=L(),Ce(r.$$.fragment)},l(e){const s=Le("svelte-1fvsnp3",document.head);n&&n.l(s),a=ue(),s.forEach(p),t=E(e),Ee(r.$$.fragment,e)},m(e,l){n&&n.m(document.head,null),s(document.head,a),W(e,t,l),Me(r,e,l),o=!0},p(e,[s]){e[0]&&!window?.hcaptcha?n?n.p(e,s):(n=he(e),n.c(),n.m(a.parentNode,a)):n&&(n.d(1),n=null);const t={};134217758&s&&(t.$$scope={dirty:s,ctx:e}),r.$set(t)},i(e){o||(De(r.$$.fragment,e),o=!0)},o(e){Te(r.$$.fragment,e),o=!1},d(e){e&&p(t),n&&n.d(e),p(a),Ie(r,e)}}}var ye=(e=>(e.DARK="dark",e.LIGHT="light",e))(ye||{});function Je(e,a,s){let t;He(e,Ue,(e=>s(4,t=e)));const r=Se();let{sitekey:o=Ne}=a,{apihost:n=Oe}=a,{hl:l=""}=a,{reCaptchaCompat:c=!1}=a,{theme:i=ye.DARK}=a,{size:d="compact"}=a;const u=()=>{f&&g&&p&&hcaptcha.reset(p)},h=Math.floor(100*Math.random());let p,m,f=!1,g=!1;const x=new URLSearchParams({recaptchacompat:c?"on":"off",onload:"hcaptchaOnLoad",render:"explicit"}),y=`${n}?${x.toString()}`;Ve((()=>{o||s(9,o=window.sitekey),window.hcaptchaOnLoad=()=>{r("load"),s(17,g=!0)},window.onSuccess=e=>{r("success",{token:e}),k=e},window.onError=()=>{r("error")},window.onClose=()=>{r("close")},window.onExpired=()=>{r("expired")},r("mount"),console.log("mounted"),s(0,f=!0)})),je((()=>{window.hcaptchaOnLoad=null,window.onSuccess=null,g&&(hcaptcha=null)}));let v=!1,w="",b="",k="";return e.$$set=e=>{"sitekey"in e&&s(9,o=e.sitekey),"apihost"in e&&s(10,n=e.apihost),"hl"in e&&s(11,l=e.hl),"reCaptchaCompat"in e&&s(12,c=e.reCaptchaCompat),"theme"in e&&s(13,i=e.theme),"size"in e&&s(14,d=e.size)},e.$$.update=()=>{420353&e.$$.dirty&&f&&g&&(p=hcaptcha.render(`h-captcha-${h}`,{sitekey:o,hl:l,theme:i,callback:"onSuccess","error-callback":"onError","close-callback":"onClose","expired-callback":"onExpired",size:d}),s(18,m=window.document.getElementById("skeleton")),m&&m.remove())},[f,v,w,b,t,h,y,async()=>{fe("")},async()=>{try{s(1,v=!0);const{data:e,error:a}=await qe.auth.signInWithPassword({email:w,password:b,options:{captchaToken:k}});if(a)throw a;(async()=>{await Re(),await We(!1),location.assign("/account/profile")})()}catch(e){e instanceof Error&&(ze(e.message),fe(e.message),u())}finally{s(1,v=!1)}},o,n,l,c,i,d,u,e=>{if(f&&g&&p)return hcaptcha.execute(p,e)},g,m,function(){w=this.value,s(2,w)},function(){b=this.value,s(3,b)}]}class et extends we{constructor(e){super(),_e(this,e,Je,Ye,xe,{sitekey:9,apihost:10,hl:11,reCaptchaCompat:12,theme:13,size:14,reset:15,execute:16})}get reset(){return this.$$.ctx[15]}get execute(){return this.$$.ctx[16]}}export{et as default};