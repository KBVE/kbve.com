import{R as N,r as a,j as o}from"./react.CvslfkeK.js";import{c as i}from"./clsx.B-dksMZM.js";import{u as z}from"./@nanostores.vmeSb_hF.js";import{u as E}from"./userstate.BkvMbuz-.js";import{V as M,U as x,Y as C,Z as b,A as P,m as A,c as L,_ as H,$ as R,a0 as U}from"./lucide-react.Cq0BVVq0.js";import"./@react-three.B-wTPXHf.js";import"./nanostores.Bo9-_MAV.js";import"./supabaseClient.DHLuOuBJ.js";import"./@supabase.BaC4PoEe.js";import"./Page.astro_astro_type_script_index_0_lang.CN1x5Qj8.js";import"./react-dom.DDrfKqI3.js";import"./svelte.BEh2_tzM.js";import"./esm-env.rsSWfq8L.js";const d=[{route:"/",name:"Home",Icon:M},{route:"/docs",name:"Docs",Icon:x},{route:"/arcade",name:"Arcade",Icon:C},{route:"/project",name:"Projects",Icon:b}],y=[{route:"/register",name:"Register",Icon:H},{route:"/login",name:"Login",Icon:R},{route:"/support",name:"Support",Icon:U}],v=[{route:"/igbc",name:"IGBC",Icon:P},{route:"/profile",name:"Profile",Icon:x},{route:"/messages",name:"Messages",Icon:A},{route:"/projects",name:"Projects",Icon:b},{route:"/settings",name:"Settings",Icon:L}],J=N.memo(()=>{const[c,p]=a.useState("/"),[I,g]=a.useState(!0),[m,w]=a.useState(!1),[l,f]=a.useState(!1),S=z(E),u=a.useCallback(()=>{const e=document.querySelector('[data-skeleton="aside"]'),n=document.getElementById("dynamic-nav"),t=document.getElementById("nav-container");if(e&&n&&t){const r=e.offsetHeight;n.style.minHeight=`${r}px`,e.style.transition="opacity 0.5s ease-out",e.style.opacity="0",e.style.pointerEvents="none",e.style.zIndex="-1",e.style.visibility="hidden"}setTimeout(()=>w(!0),100)},[]),h=a.useMemo(()=>[...d,...l?v:y].reduce((n,{route:t})=>(t==="/"?n[t]=c==="/"||c==="/home":n[t]=c.startsWith(t),n),{}),[c,l]);return a.useEffect(()=>{(async()=>{try{p(window.location.pathname);const t=localStorage.getItem("isMember");f(t==="true"),await new Promise(r=>setTimeout(r,600)),g(!1),u()}catch(t){console.error("Error initializing sidebar:",t),g(!1),u()}})();const n=()=>{p(window.location.pathname)};return window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}},[u]),a.useEffect(()=>{if(typeof window<"u"){const e=localStorage.getItem("isMember");f(e==="true")}},[S]),I?null:o.jsxs("nav",{className:i("space-y-2 transition-opacity duration-500 ease-out motion-reduce:transition-none",m?"opacity-100":"opacity-0"),role:"navigation","aria-label":"Main navigation",children:[d.map(({route:e,name:n,Icon:t},r)=>{const s=h[e];return o.jsxs("a",{href:e,className:i("flex items-center space-x-3 px-3 py-2 rounded-lg transition-all duration-300 group will-change-transform motion-reduce:transition-none","focus:outline-none focus:ring-2 focus:ring-cyan-400/50 focus:ring-offset-2 focus:ring-offset-zinc-800",s?"bg-cyan-400/10 text-cyan-400 border border-cyan-400/20 hover:bg-cyan-400/20 hover:border-cyan-400/30":"text-zinc-300 hover:bg-zinc-700 hover:text-white hover:scale-[1.02]"),"aria-current":s?"page":void 0,style:{animationDelay:`${.3+r*.1}s`,...m&&{animation:"fadeInUp 0.6s ease-out forwards"}},children:[o.jsx(t,{className:i("w-5 h-5 transition-colors duration-300 motion-reduce:transition-none",s?"text-cyan-400 group-hover:text-cyan-300":"text-zinc-400 group-hover:text-white"),"aria-hidden":"true"}),o.jsx("span",{className:"transition-colors duration-300 motion-reduce:transition-none",children:n})]},e)}),o.jsx("div",{className:"py-2",children:o.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-zinc-600 to-transparent"})}),(l?v:y).map(({route:e,name:n,Icon:t},r)=>{const s=h[e],j=d.length;return o.jsxs("a",{href:e,className:i("flex items-center space-x-3 px-3 py-2 rounded-lg transition-all duration-300 group will-change-transform motion-reduce:transition-none","focus:outline-none focus:ring-2 focus:ring-cyan-400/50 focus:ring-offset-2 focus:ring-offset-zinc-800",s?"bg-cyan-400/10 text-cyan-400 border border-cyan-400/20 hover:bg-cyan-400/20 hover:border-cyan-400/30":"text-zinc-300 hover:bg-zinc-700 hover:text-white hover:scale-[1.02]"),"aria-current":s?"page":void 0,style:{animationDelay:`${.3+(j+r+1)*.1}s`,...m&&{animation:"fadeInUp 0.6s ease-out forwards"}},children:[o.jsx(t,{className:i("w-5 h-5 transition-colors duration-300 motion-reduce:transition-none",s?"text-cyan-400 group-hover:text-cyan-300":"text-zinc-400 group-hover:text-white"),"aria-hidden":"true"}),o.jsx("span",{className:"transition-colors duration-300 motion-reduce:transition-none",children:n})]},e)})]})});export{J as default};
