import{S as He,i as Ve,s as je,W as Ae,C as Ce,j as C,c as Be,D as Se,r as m,p as E,a as Pe,w as a,v as re,m as qe,t as Ne,b as Re,d as Oe,e as Ue,f as ze,o as Fe,g as Ge,h as i,l as c,n as k,A as We,u as e,B as Le,k as Ie,y as N,q as Te,E as z,F as J,G as Ke,x as De,H as Ye,I as Je,J as Ze,K as Y,L as Xe,M as Qe}from"./storage.0ea1c05f.js";import"./appwrite.ce6b3581.js";import"./index.ae223c1e.js";import"./sdk.b9e732c8.js";import"./_commonjsHelpers.725317a4.js";function Ee(n){let r,t;return{c(){r=i("script"),this.h()},l(s){r=c(s,"SCRIPT",{src:!0});var p=k(r);p.forEach(m),this.h()},h(){We(r.src,t=n[8])||e(r,"src",t),r.async=!0,r.defer=!0},m(s,p){re(s,r,p)},p:Le,d(s){s&&m(r)}}}function $e(n){let r,t="Register your KBVE Account!";return{c(){r=i("h1"),r.textContent=t,this.h()},l(s){r=c(s,"H1",{class:!0,"data-svelte-h":!0}),N(r)!=="svelte-1rn4tp3"&&(r.textContent=t),this.h()},h(){e(r,"class","text-xl font-bold leading-tight tracking-tight gradient-text md:text-2xl")},m(s,p){re(s,r,p)},p:Le,d(s){s&&m(r)}}}function et(n){let r,t,s,p='<svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.147 15.085a7.159 7.159 0 0 1-6.189 3.307A6.713 6.713 0 0 1 3.1 15.444c-2.679-4.513.287-8.737.888-9.548A4.373 4.373 0 0 0 5 1.608c1.287.953 6.445 3.218 5.537 10.5 1.5-1.122 2.706-3.01 2.853-6.14 1.433 1.049 3.993 5.395 1.757 9.117Z"></path></svg> <span class="sr-only">Fire icon</span>',u,l,f,v,b,d='<span class="sr-only">Close</span> <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"></path></svg>',y,T;return{c(){r=i("h1"),t=i("div"),s=i("div"),s.innerHTML=p,u=C(),l=i("div"),f=Ie(n[6]),v=C(),b=i("button"),b.innerHTML=d,this.h()},l(D){r=c(D,"H1",{});var _=k(r);t=c(_,"DIV",{id:!0,class:!0,role:!0});var h=k(t);s=c(h,"DIV",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-5am7pi"&&(s.innerHTML=p),u=E(h),l=c(h,"DIV",{class:!0});var V=k(l);f=Te(V,n[6]),V.forEach(m),v=E(h),b=c(h,"BUTTON",{type:!0,class:!0,"data-dismiss-target":!0,"aria-label":!0,"data-svelte-h":!0}),N(b)!=="svelte-1gk004k"&&(b.innerHTML=d),h.forEach(m),_.forEach(m),this.h()},h(){e(s,"class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-blue-500 bg-blue-100 rounded-lg dark:bg-blue-800 dark:text-blue-200"),e(l,"class","ml-3 text-sm font-normal capitalize"),e(b,"type","button"),e(b,"class","ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"),e(b,"data-dismiss-target","#toast-default"),e(b,"aria-label","Close"),e(t,"id","toast-default"),e(t,"class","flex items-center w-full max-w-xs p-4 bg-offset rounded-lg shadow dark:text-gray-400 dark:bg-gray-800"),e(t,"role","alert")},m(D,_){re(D,r,_),a(r,t),a(t,s),a(t,u),a(t,l),a(l,f),a(t,v),a(t,b),y||(T=J(b,"click",n[9]),y=!0)},p(D,_){_[0]&64&&De(f,D[6])},d(D){D&&m(r),y=!1,T()}}}function tt(n){let r,t,s,p='<img class="w-32 mr-2" src="https://kbve.com/assets/img/letter_logo.svg" alt="logo"/>',u,l,f,v,b,d,y,T,D="Your email",_,h,V,j,S,ae="Your Username",Z,w,P,A,M,R="Password",W,L,X,O,q,se="Confirm Password",Q,I,$,o,K,F,ge='<div class="flex items-start"></div> <a href="/account/recovery" class="text-sm font-medium text-secondary hover:underline dark:text-primary-500">Forgot password?</a>',he,U,ee,te=n[1]?"Loading":"Login",le,me,G,be='Have an account yet? <a href="/account/login" class="font-medium text-primary-600 hover:underline dark:text-primary-500">Login!</a>',pe,ye;function ve(g,H){return g[6]?et:$e}let ne=ve(n),B=ne(n);return{c(){r=i("section"),t=i("div"),s=i("a"),s.innerHTML=p,u=C(),l=i("div"),f=i("div"),v=i("div"),B.c(),b=C(),d=i("form"),y=i("div"),T=i("label"),T.textContent=D,_=C(),h=i("input"),V=C(),j=i("div"),S=i("label"),S.textContent=ae,Z=C(),w=i("input"),P=C(),A=i("div"),M=i("label"),M.textContent=R,W=C(),L=i("input"),X=C(),O=i("div"),q=i("label"),q.textContent=se,Q=C(),I=i("input"),$=C(),o=i("div"),K=C(),F=i("div"),F.innerHTML=ge,he=C(),U=i("button"),ee=i("span"),le=Ie(te),me=C(),G=i("p"),G.innerHTML=be,this.h()},l(g){r=c(g,"SECTION",{class:!0});var H=k(r);t=c(H,"DIV",{class:!0});var oe=k(t);s=c(oe,"A",{href:!0,class:!0,"data-svelte-h":!0}),N(s)!=="svelte-j5g76x"&&(s.innerHTML=p),u=E(oe),l=c(oe,"DIV",{class:!0});var we=k(l);f=c(we,"DIV",{class:!0});var ie=k(f);v=c(ie,"DIV",{class:!0});var ke=k(v);B.l(ke),ke.forEach(m),b=E(ie),d=c(ie,"FORM",{class:!0,action:!0});var x=k(d);y=c(x,"DIV",{});var ce=k(y);T=c(ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(T)!=="svelte-1avffmu"&&(T.textContent=D),_=E(ce),h=c(ce,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),ce.forEach(m),V=E(x),j=c(x,"DIV",{});var ue=k(j);S=c(ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(S)!=="svelte-15wap3a"&&(S.textContent=ae),Z=E(ue),w=c(ue,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),ue.forEach(m),P=E(x),A=c(x,"DIV",{});var de=k(A);M=c(de,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(M)!=="svelte-1jjewb5"&&(M.textContent=R),W=E(de),L=c(de,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),de.forEach(m),X=E(x),O=c(x,"DIV",{});var fe=k(O);q=c(fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(q)!=="svelte-1hztx1h"&&(q.textContent=se),Q=E(fe),I=c(fe,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),fe.forEach(m),$=E(x),o=c(x,"DIV",{id:!0,class:!0}),k(o).forEach(m),K=E(x),F=c(x,"DIV",{class:!0,"data-svelte-h":!0}),N(F)!=="svelte-16lot9q"&&(F.innerHTML=ge),he=E(x),U=c(x,"BUTTON",{type:!0,class:!0});var _e=k(U);ee=c(_e,"SPAN",{});var xe=k(ee);le=Te(xe,te),xe.forEach(m),_e.forEach(m),me=E(x),G=c(x,"P",{class:!0,"data-svelte-h":!0}),N(G)!=="svelte-154mv0h"&&(G.innerHTML=be),x.forEach(m),ie.forEach(m),we.forEach(m),oe.forEach(m),H.forEach(m),this.h()},h(){e(s,"href","/#"),e(s,"class","flex items-center mb-6"),e(v,"class","min-h-[100px]"),e(T,"for","email"),e(T,"class","block mb-2 text-sm font-medium"),e(h,"type","email"),e(h,"name","email"),e(h,"id","email"),e(h,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),e(h,"placeholder","name@company.com"),h.required=!0,e(S,"for","username"),e(S,"class","block mb-2 text-sm font-medium"),e(w,"type","text"),e(w,"name","username"),e(w,"id","username"),e(w,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),e(w,"placeholder","Username-chan"),w.required=!0,e(M,"for","password"),e(M,"class","block mb-2 text-sm font-medium"),e(L,"type","password"),e(L,"name","password"),e(L,"id","password"),e(L,"placeholder","••••••••"),e(L,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),L.required=!0,e(q,"for","password"),e(q,"class","block mb-2 text-sm font-medium"),e(I,"type","password"),e(I,"name","confirm"),e(I,"id","confirm"),e(I,"placeholder","••••••••"),e(I,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),I.required=!0,e(o,"id","h-captcha-"+n[7]),e(o,"class","flex justify-center "),e(F,"class","flex items-center justify-between"),e(U,"type","submit"),e(U,"class","w-full bg-secondary hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"),U.disabled=n[1],e(G,"class","text-sm font-light text-primary"),e(d,"class","space-y-4 md:space-y-6"),e(d,"action","#"),e(f,"class","p-6 space-y-4 md:space-y-6 sm:p-8"),e(l,"class","w-full bg-transparent rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0"),e(t,"class","flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"),e(r,"class","")},m(g,H){re(g,r,H),a(r,t),a(t,s),a(t,u),a(t,l),a(l,f),a(f,v),B.m(v,null),a(f,b),a(f,d),a(d,y),a(y,T),a(y,_),a(y,h),z(h,n[3]),a(d,V),a(d,j),a(j,S),a(j,Z),a(j,w),z(w,n[2]),a(d,P),a(d,A),a(A,M),a(A,W),a(A,L),z(L,n[5]),a(d,X),a(d,O),a(O,q),a(O,Q),a(O,I),z(I,n[4]),a(d,$),a(d,o),a(d,K),a(d,F),a(d,he),a(d,U),a(U,ee),a(ee,le),a(d,me),a(d,G),pe||(ye=[J(h,"input",n[21]),J(w,"input",n[22]),J(L,"input",n[23]),J(I,"input",n[24]),J(d,"submit",Ke(n[10]))],pe=!0)},p(g,H){ne===(ne=ve(g))&&B?B.p(g,H):(B.d(1),B=ne(g),B&&(B.c(),B.m(v,null))),H[0]&8&&h.value!==g[3]&&z(h,g[3]),H[0]&4&&w.value!==g[2]&&z(w,g[2]),H[0]&32&&L.value!==g[5]&&z(L,g[5]),H[0]&16&&I.value!==g[4]&&z(I,g[4]),H[0]&2&&te!==(te=g[1]?"Loading":"Login")&&De(le,te),H[0]&2&&(U.disabled=g[1])},d(g){g&&m(r),B.d(),pe=!1,Ye(ye)}}}function rt(n){let r,t,s,p,u=n[0]&&!window?.hcaptcha&&Ee(n);return s=new Ae({props:{background:"https://images.unsplash.com/photo-1597851065532-055f97d12e47?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",$$slots:{default:[tt]},$$scope:{ctx:n}}}),{c(){u&&u.c(),r=Ce(),t=C(),Be(s.$$.fragment)},l(l){const f=Se("svelte-1fvsnp3",document.head);u&&u.l(f),r=Ce(),f.forEach(m),t=E(l),Pe(s.$$.fragment,l)},m(l,f){u&&u.m(document.head,null),a(document.head,r),re(l,t,f),qe(s,l,f),p=!0},p(l,f){l[0]&&!window?.hcaptcha?u?u.p(l,f):(u=Ee(l),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null);const v={};f[0]&126|f[1]&4&&(v.$$scope={dirty:f,ctx:l}),s.$set(v)},i(l){p||(Ne(s.$$.fragment,l),p=!0)},o(l){Re(s.$$.fragment,l),p=!1},d(l){l&&m(t),u&&u.d(l),m(r),Oe(s,l)}}}var Me=(n=>(n.DARK="dark",n.LIGHT="light",n))(Me||{});function at(n,r,t){let s;Ue(n,Qe,o=>t(6,s=o));const p=ze();let{sitekey:u=Je}=r,{apihost:l=Ze}=r,{hl:f=""}=r,{reCaptchaCompat:v=!1}=r,{theme:b=Me.LIGHT}=r,{size:d="compact"}=r;const y=()=>{_&&h&&V&&hcaptcha.reset(V)},T=o=>{if(_&&h&&V)return hcaptcha.execute(V,o)},D=Math.floor(Math.random()*100);let _=!1,h=!1,V,j;const S=new URLSearchParams({recaptchacompat:v?"on":"off",onload:"hcaptchaOnLoad",render:"explicit"}),ae=`${l}?${S.toString()}`;Fe(()=>{u||t(11,u=window.sitekey),window.hcaptchaOnLoad=()=>{p("load"),t(19,h=!0)},window.onSuccess=o=>{p("success",{token:o}),W=o},window.onError=()=>{p("error")},window.onClose=()=>{p("close")},window.onExpired=()=>{p("expired"),y()},p("mount"),t(0,_=!0)}),Ge(()=>{window.hcaptchaOnLoad=null,window.onSuccess=null,h&&(hcaptcha=null)});let Z=new RegExp(/^[a-z0-9]+$/i),w=!1,P="",A="",M="",R="",W="";const L=async()=>{Y("")},X=()=>P.length<8?(Y("username has to be 8 or more characters"),y(),!1):Z.test(P)?M!=R?(Y("passwords do not match"),y(),!1):R.length<8?(Y("password has to be at least 8 characters or stronger "),y(),!1):!0:(Y("username has to be alpha-numeric a-Z and 0-9 only "),y(),!1),O=async()=>{X()&&q()},q=async()=>{try{t(1,w=!0);const o={username:P,email:A,password:R,"h-captcha-response":W},K=await self.fetch("https://register.kbve.com/",{method:"POST",headers:{"Content-Type":"application/json","X-Appwrite-Project":"kbve"},body:JSON.stringify(o)});if(K.ok)location.assign("/account/profile");else throw new Error(K.statusText)}catch(o){o instanceof Error&&(Xe(o.message),Y(o.message),y())}finally{t(1,w=!1)}};function se(){A=this.value,t(3,A)}function Q(){P=this.value,t(2,P)}function I(){R=this.value,t(5,R)}function $(){M=this.value,t(4,M)}return n.$$set=o=>{"sitekey"in o&&t(11,u=o.sitekey),"apihost"in o&&t(12,l=o.apihost),"hl"in o&&t(13,f=o.hl),"reCaptchaCompat"in o&&t(14,v=o.reCaptchaCompat),"theme"in o&&t(15,b=o.theme),"size"in o&&t(16,d=o.size)},n.$$.update=()=>{n.$$.dirty[0]&1681409&&_&&h&&(V=hcaptcha.render(`h-captcha-${D}`,{sitekey:u,hl:f,theme:b,callback:"onSuccess","error-callback":"onError","close-callback":"onClose","expired-callback":"onExpired",size:d}),t(20,j=window.document.getElementById("skeleton")),j&&j.remove())},[_,w,P,A,M,R,s,D,ae,L,O,u,l,f,v,b,d,y,T,h,j,se,Q,I,$]}class ct extends He{constructor(r){super(),Ve(this,r,at,rt,je,{sitekey:11,apihost:12,hl:13,reCaptchaCompat:14,theme:15,size:16,reset:17,execute:18},null,[-1,-1])}get reset(){return this.$$.ctx[17]}get execute(){return this.$$.ctx[18]}}export{ct as default};
