import{S as we,i as _e,s as xe,W as ke,E as ue,j as L,c as Ce,F as Le,r as p,p as E,a as Ee,w as s,v as R,m as Me,t as De,b as Te,d as Ie,e as He,f as Se,o as Ve,g as je,h as d,l as u,n as C,C as Ae,u as r,D as pe,k as ge,z as B,q as be,G as ee,H as te,I as Be,x as ve,J as Ne,K as Oe,L as Pe,M as fe,N as qe,O as ze}from"./storage.a3cc3a81.js";import{l as Ue,g as Re,f as Fe}from"./appwrite.bea8a91a.js";import"./index.ae223c1e.js";import"./sdk.99f24ef6.js";import"./_commonjsHelpers.725317a4.js";function he(l){let e,t;return{c(){e=d("script"),this.h()},l(a){e=u(a,"SCRIPT",{src:!0});var o=C(e);o.forEach(p),this.h()},h(){Ae(e.src,t=l[6])||r(e,"src",t),e.async=!0,e.defer=!0},m(a,o){R(a,e,o)},p:pe,d(a){a&&p(e)}}}function me(l){let e,t='<div class="w-16 h-16 border-4 border-dashed rounded-full animate-spin border-orange-400"></div> <p class="py-5 text-lg gradient-text">Loading...</p>';return{c(){e=d("selection"),e.innerHTML=t,this.h()},l(a){e=u(a,"SELECTION",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-1qsktis"&&(e.innerHTML=t),this.h()},h(){r(e,"class","flex flex-col justify-center items-center")},m(a,o){R(a,e,o)},d(a){a&&p(e)}}}function Ge(l){let e,t="Sign in to your account!";return{c(){e=d("h1"),e.textContent=t,this.h()},l(a){e=u(a,"H1",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-1cp47ac"&&(e.textContent=t),this.h()},h(){r(e,"class","text-xl font-bold leading-tight tracking-tight gradient-text md:text-2xl")},m(a,o){R(a,e,o)},p:pe,d(a){a&&p(e)}}}function We(l){let e,t,a,o='<svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.147 15.085a7.159 7.159 0 0 1-6.189 3.307A6.713 6.713 0 0 1 3.1 15.444c-2.679-4.513.287-8.737.888-9.548A4.373 4.373 0 0 0 5 1.608c1.287.953 6.445 3.218 5.537 10.5 1.5-1.122 2.706-3.01 2.853-6.14 1.433 1.049 3.993 5.395 1.757 9.117Z"></path></svg> <span class="sr-only">Fire icon</span>',i,n,f,b,m,S='<span class="sr-only">Close</span> <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"></path></svg>',h,M;return{c(){e=d("h1"),t=d("div"),a=d("div"),a.innerHTML=o,i=L(),n=d("div"),f=ge(l[4]),b=L(),m=d("button"),m.innerHTML=S,this.h()},l(v){e=u(v,"H1",{});var x=C(e);t=u(x,"DIV",{id:!0,class:!0,role:!0});var _=C(t);a=u(_,"DIV",{class:!0,"data-svelte-h":!0}),B(a)!=="svelte-r37v94"&&(a.innerHTML=o),i=E(_),n=u(_,"DIV",{class:!0});var g=C(n);f=be(g,l[4]),g.forEach(p),b=E(_),m=u(_,"BUTTON",{type:!0,class:!0,"data-dismiss-target":!0,"aria-label":!0,"data-svelte-h":!0}),B(m)!=="svelte-1xmwfb8"&&(m.innerHTML=S),_.forEach(p),x.forEach(p),this.h()},h(){r(a,"class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-blue-500 bg-blue-100 rounded-lg dark:bg-blue-800 dark:text-blue-200"),r(n,"class","ml-3 text-sm font-normal capitalize"),r(m,"type","button"),r(m,"class","ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"),r(m,"data-dismiss-target","#toast-default"),r(m,"aria-label","Close"),r(t,"id","toast-default"),r(t,"class","flex items-center w-full max-w-xs p-4 bg-offset rounded-lg shadow dark:text-gray-400 dark:bg-gray-800"),r(t,"role","alert")},m(v,x){R(v,e,x),s(e,t),s(t,a),s(t,i),s(t,n),s(n,f),s(t,b),s(t,m),h||(M=te(m,"click",l[7]),h=!0)},p(v,x){x&16&&ve(f,v[4])},d(v){v&&p(e),h=!1,M()}}}function Ke(l){let e,t,a,o,i='<img class="w-32 mr-2" src="https://kbve.com/assets/img/letter_logo.svg" alt="logo"/>',n,f,b,m,S,h,M,v,x="Your email",_,g,N,j,V,z="Password",O,y,F,A,Y='<div class="flex items-start"></div> <a href="/account/recovery" class="text-sm font-medium text-secondary hover:underline dark:text-primary-500">Forgot password?</a>',G,P,c,D,W,K=l[1]?"Loading":"Login",J,ae,q,se='Don’t have an account yet? <a href="/account/register" class="font-medium text-primary-600 hover:underline dark:text-primary-500">Sign up</a>',re,le,k=l[1]&&me();function ne(w,H){return w[4]?We:Ge}let Z=ne(l),I=Z(l);return{c(){e=d("section"),t=d("div"),k&&k.c(),a=L(),o=d("a"),o.innerHTML=i,n=L(),f=d("div"),b=d("div"),m=d("div"),I.c(),S=L(),h=d("form"),M=d("div"),v=d("label"),v.textContent=x,_=L(),g=d("input"),N=L(),j=d("div"),V=d("label"),V.textContent=z,O=L(),y=d("input"),F=L(),A=d("div"),A.innerHTML=Y,G=L(),P=d("div"),c=L(),D=d("button"),W=d("span"),J=ge(K),ae=L(),q=d("p"),q.innerHTML=se,this.h()},l(w){e=u(w,"SECTION",{class:!0});var H=C(e);t=u(H,"DIV",{class:!0});var U=C(t);k&&k.l(U),a=E(U),o=u(U,"A",{href:!0,class:!0,"data-svelte-h":!0}),B(o)!=="svelte-1w3imk"&&(o.innerHTML=i),n=E(U),f=u(U,"DIV",{class:!0});var oe=C(f);b=u(oe,"DIV",{class:!0});var Q=C(b);m=u(Q,"DIV",{class:!0});var ie=C(m);I.l(ie),ie.forEach(p),S=E(Q),h=u(Q,"FORM",{class:!0,action:!0});var T=C(h);M=u(T,"DIV",{});var X=C(M);v=u(X,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(v)!=="svelte-11nah17"&&(v.textContent=x),_=E(X),g=u(X,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),X.forEach(p),N=E(T),j=u(T,"DIV",{});var $=C(j);V=u($,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(V)!=="svelte-i88a02"&&(V.textContent=z),O=E($),y=u($,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),$.forEach(p),F=E(T),A=u(T,"DIV",{class:!0,"data-svelte-h":!0}),B(A)!=="svelte-18hduj8"&&(A.innerHTML=Y),G=E(T),P=u(T,"DIV",{id:!0,class:!0}),C(P).forEach(p),c=E(T),D=u(T,"BUTTON",{type:!0,class:!0});var ce=C(D);W=u(ce,"SPAN",{});var de=C(W);J=be(de,K),de.forEach(p),ce.forEach(p),ae=E(T),q=u(T,"P",{class:!0,"data-svelte-h":!0}),B(q)!=="svelte-omw2zd"&&(q.innerHTML=se),T.forEach(p),Q.forEach(p),oe.forEach(p),U.forEach(p),H.forEach(p),this.h()},h(){r(o,"href","/#"),r(o,"class","flex items-center mb-6"),r(m,"class","min-h-[100px]"),r(v,"for","email"),r(v,"class","block mb-2 text-sm font-medium"),r(g,"type","email"),r(g,"name","email"),r(g,"id","email"),r(g,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),r(g,"placeholder","name@company.com"),g.required=!0,r(V,"for","password"),r(V,"class","block mb-2 text-sm font-medium"),r(y,"type","password"),r(y,"name","password"),r(y,"id","password"),r(y,"placeholder","••••••••"),r(y,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),y.required=!0,r(A,"class","flex items-center justify-between"),r(P,"id","h-captcha-"+l[5]),r(P,"class","flex justify-center"),r(D,"type","submit"),r(D,"class","w-full bg-secondary hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"),D.disabled=l[1],r(q,"class","text-sm font-light text-gray-500 dark:text-gray-400"),r(h,"class","space-y-4 md:space-y-6"),r(h,"action","#"),r(b,"class","p-6 space-y-4 md:space-y-6 sm:p-8"),r(f,"class","w-full bg-transparent rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0"),r(t,"class","flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"),r(e,"class","min-h-[200px]")},m(w,H){R(w,e,H),s(e,t),k&&k.m(t,null),s(t,a),s(t,o),s(t,n),s(t,f),s(f,b),s(b,m),I.m(m,null),s(b,S),s(b,h),s(h,M),s(M,v),s(M,_),s(M,g),ee(g,l[2]),s(h,N),s(h,j),s(j,V),s(j,O),s(j,y),ee(y,l[3]),s(h,F),s(h,A),s(h,G),s(h,P),s(h,c),s(h,D),s(D,W),s(W,J),s(h,ae),s(h,q),re||(le=[te(g,"input",l[19]),te(y,"input",l[20]),te(h,"submit",Be(l[8]))],re=!0)},p(w,H){w[1]?k||(k=me(),k.c(),k.m(t,a)):k&&(k.d(1),k=null),Z===(Z=ne(w))&&I?I.p(w,H):(I.d(1),I=Z(w),I&&(I.c(),I.m(m,null))),H&4&&g.value!==w[2]&&ee(g,w[2]),H&8&&y.value!==w[3]&&ee(y,w[3]),H&2&&K!==(K=w[1]?"Loading":"Login")&&ve(J,K),H&2&&(D.disabled=w[1])},d(w){w&&p(e),k&&k.d(),I.d(),re=!1,Ne(le)}}}function Ye(l){let e,t,a,o,i=l[0]&&!window?.hcaptcha&&he(l);return a=new ke({props:{background:"https://images.unsplash.com/photo-1530406472580-81dc39c4babe?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1446&q=80",$$slots:{default:[Ke]},$$scope:{ctx:l}}}),{c(){i&&i.c(),e=ue(),t=L(),Ce(a.$$.fragment)},l(n){const f=Le("svelte-1fvsnp3",document.head);i&&i.l(f),e=ue(),f.forEach(p),t=E(n),Ee(a.$$.fragment,n)},m(n,f){i&&i.m(document.head,null),s(document.head,e),R(n,t,f),Me(a,n,f),o=!0},p(n,[f]){n[0]&&!window?.hcaptcha?i?i.p(n,f):(i=he(n),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null);const b={};f&134217758&&(b.$$scope={dirty:f,ctx:n}),a.$set(b)},i(n){o||(De(a.$$.fragment,n),o=!0)},o(n){Te(a.$$.fragment,n),o=!1},d(n){n&&p(t),i&&i.d(n),p(e),Ie(a,n)}}}var ye=(l=>(l.DARK="dark",l.LIGHT="light",l))(ye||{});function Je(l,e,t){let a;He(l,ze,c=>t(4,a=c));const o=Se();let{sitekey:i=Oe}=e,{apihost:n=Pe}=e,{hl:f=""}=e,{reCaptchaCompat:b=!1}=e,{theme:m=ye.DARK}=e,{size:S="compact"}=e;const h=()=>{x&&_&&g&&hcaptcha.reset(g)},M=c=>{if(x&&_&&g)return hcaptcha.execute(g,c)},v=Math.floor(Math.random()*100);let x=!1,_=!1,g,N;const j=new URLSearchParams({recaptchacompat:b?"on":"off",onload:"hcaptchaOnLoad",render:"explicit"}),V=`${n}?${j.toString()}`;Ve(()=>{i||t(9,i=window.sitekey),window.hcaptchaOnLoad=()=>{o("load"),t(17,_=!0)},window.onSuccess=c=>{o("success",{token:c})},window.onError=()=>{o("error")},window.onClose=()=>{o("close")},window.onExpired=()=>{o("expired")},o("mount"),console.log("mounted"),t(0,x=!0)}),je(()=>{window.hcaptchaOnLoad=null,window.onSuccess=null,_&&(hcaptcha=null)});let z=!1,O="",y="";const F=async()=>{fe("")},A=async()=>{let c=await Re(),D=!1;c&&(D=await Fe()),D&&location.assign("/account/profile")},Y=async()=>{try{t(1,z=!0),await Ue(O,y),await A()}catch(c){c instanceof Error&&(qe(c.message),fe(c.message),h())}finally{t(1,z=!1)}};function G(){O=this.value,t(2,O)}function P(){y=this.value,t(3,y)}return l.$$set=c=>{"sitekey"in c&&t(9,i=c.sitekey),"apihost"in c&&t(10,n=c.apihost),"hl"in c&&t(11,f=c.hl),"reCaptchaCompat"in c&&t(12,b=c.reCaptchaCompat),"theme"in c&&t(13,m=c.theme),"size"in c&&t(14,S=c.size)},l.$$.update=()=>{l.$$.dirty&420353&&x&&_&&(g=hcaptcha.render(`h-captcha-${v}`,{sitekey:i,hl:f,theme:m,callback:"onSuccess","error-callback":"onError","close-callback":"onClose","expired-callback":"onExpired",size:S}),t(18,N=window.document.getElementById("skeleton")),N&&N.remove())},[x,z,O,y,a,v,V,F,Y,i,n,f,b,m,S,h,M,_,N,G,P]}class tt extends we{constructor(e){super(),_e(this,e,Je,Ye,xe,{sitekey:9,apihost:10,hl:11,reCaptchaCompat:12,theme:13,size:14,reset:15,execute:16})}get reset(){return this.$$.ctx[15]}get execute(){return this.$$.ctx[16]}}export{tt as default};
