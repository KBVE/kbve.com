import{S as He,i as Ve,s as Ae,W as Be,C as Ce,j as C,c as je,D as Re,r as m,p as E,a as Se,x as a,w as re,m as qe,t as Ne,b as Pe,d as Ue,e as ze,f as Oe,o as Fe,g as Ge,h as i,l as c,n as k,A as Ke,v as e,B as Le,k as Ie,u as N,q as De,E as O,F as Z,G as We,y as Me,H as Ye,I as Ze,J as Je,K as Y,L as Qe,M as Xe,N as $e}from"./supabase.b598d6e4.js";import"./_commonjsHelpers.725317a4.js";import"./preload-helper.cf010ec4.js";import"./index.ae223c1e.js";function Ee(a){let t,r;return{c(){t=i("script"),this.h()},l(e){t=c(e,"SCRIPT",{src:!0}),k(t).forEach(m),this.h()},h(){Ke(t.src,r=a[8])||e(t,"src",r),t.async=!0,t.defer=!0},m(e,a){re(e,t,a)},p:Le,d(e){e&&m(t)}}}function et(a){let t,r="Register your KBVE Account!";return{c(){t=i("h1"),t.textContent=r,this.h()},l(e){t=c(e,"H1",{class:!0,"data-svelte-h":!0}),"svelte-1rn4tp3"!==N(t)&&(t.textContent=r),this.h()},h(){e(t,"class","text-xl font-bold leading-tight tracking-tight gradient-text md:text-2xl")},m(e,a){re(e,t,a)},p:Le,d(e){e&&m(t)}}}function tt(t){let r,s,o,n,l,d,h,u,p,f,g='<svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.147 15.085a7.159 7.159 0 0 1-6.189 3.307A6.713 6.713 0 0 1 3.1 15.444c-2.679-4.513.287-8.737.888-9.548A4.373 4.373 0 0 0 5 1.608c1.287.953 6.445 3.218 5.537 10.5 1.5-1.122 2.706-3.01 2.853-6.14 1.433 1.049 3.993 5.395 1.757 9.117Z"></path></svg> <span class="sr-only">Fire icon</span>',y='<span class="sr-only">Close</span> <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"></path></svg>';return{c(){r=i("h1"),s=i("div"),o=i("div"),o.innerHTML=g,n=C(),l=i("div"),d=Ie(t[6]),h=C(),u=i("button"),u.innerHTML=y,this.h()},l(e){r=c(e,"H1",{});var a=k(r);s=c(a,"DIV",{id:!0,class:!0,role:!0});var i=k(s);o=c(i,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-5am7pi"!==N(o)&&(o.innerHTML=g),n=E(i),l=c(i,"DIV",{class:!0});var p=k(l);d=De(p,t[6]),p.forEach(m),h=E(i),u=c(i,"BUTTON",{type:!0,class:!0,"data-dismiss-target":!0,"aria-label":!0,"data-svelte-h":!0}),"svelte-1gk004k"!==N(u)&&(u.innerHTML=y),i.forEach(m),a.forEach(m),this.h()},h(){e(o,"class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-blue-500 bg-blue-100 rounded-lg dark:bg-blue-800 dark:text-blue-200"),e(l,"class","ml-3 text-sm font-normal capitalize"),e(u,"type","button"),e(u,"class","ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"),e(u,"data-dismiss-target","#toast-default"),e(u,"aria-label","Close"),e(s,"id","toast-default"),e(s,"class","flex items-center w-full max-w-xs p-4 bg-offset rounded-lg shadow dark:text-gray-400 dark:bg-gray-800"),e(s,"role","alert")},m(e,c){re(e,r,c),a(r,s),a(s,o),a(s,n),a(s,l),a(l,d),a(s,h),a(s,u),p||(f=Z(u,"click",t[9]),p=!0)},p(e,a){64&a[0]&&Me(d,e[6])},d(e){e&&m(r),p=!1,f()}}}function rt(t){let r,s,o,n,l,d,h,u,p,f,g,y,b,x,v,w,L,$,I,T,D,M,H,j,V,A,B,P,U,Y,S,z,q,R,F,G,K,W,J,Q,X='<img class="w-32 mr-2" src="https://kbve.com/assets/img/letter_logo.svg" alt="logo"/>',_="Your email",ee="Your Username",ae="Password",te="Confirm Password",se='<div class="flex items-start"></div> <a href="/account/recovery" class="text-sm font-medium text-secondary hover:underline dark:text-primary-500">Forgot password?</a>',oe=t[1]?"Loading":"Login",ce='Have an account yet? <a href="/account/login" class="font-medium text-primary-600 hover:underline dark:text-primary-500">Login!</a>';function ne(e,a){return e[6]?tt:et}let le=ne(t),ie=le(t);return{c(){r=i("section"),s=i("div"),o=i("a"),o.innerHTML=X,n=C(),l=i("div"),d=i("div"),h=i("div"),ie.c(),u=C(),p=i("form"),f=i("div"),g=i("label"),g.textContent=_,y=C(),b=i("input"),x=C(),v=i("div"),w=i("label"),w.textContent=ee,L=C(),$=i("input"),I=C(),T=i("div"),D=i("label"),D.textContent=ae,M=C(),H=i("input"),j=C(),V=i("div"),A=i("label"),A.textContent=te,B=C(),P=i("input"),U=C(),Y=i("div"),S=C(),z=i("div"),z.innerHTML=se,q=C(),R=i("button"),F=i("span"),G=Ie(oe),K=C(),W=i("p"),W.innerHTML=ce,this.h()},l(e){r=c(e,"SECTION",{class:!0});var a=k(r);s=c(a,"DIV",{class:!0});var t=k(s);o=c(t,"A",{href:!0,class:!0,"data-svelte-h":!0}),"svelte-j5g76x"!==N(o)&&(o.innerHTML=X),n=E(t),l=c(t,"DIV",{class:!0});var i=k(l);d=c(i,"DIV",{class:!0});var C=k(d);h=c(C,"DIV",{class:!0});var O=k(h);ie.l(O),O.forEach(m),u=E(C),p=c(C,"FORM",{class:!0,action:!0});var Z=k(p);f=c(Z,"DIV",{});var J=k(f);g=c(J,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),"svelte-1avffmu"!==N(g)&&(g.textContent=_),y=E(J),b=c(J,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),J.forEach(m),x=E(Z),v=c(Z,"DIV",{});var Q=k(v);w=c(Q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),"svelte-15wap3a"!==N(w)&&(w.textContent=ee),L=E(Q),$=c(Q,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),Q.forEach(m),I=E(Z),T=c(Z,"DIV",{});var re=k(T);D=c(re,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),"svelte-1jjewb5"!==N(D)&&(D.textContent=ae),M=E(re),H=c(re,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),re.forEach(m),j=E(Z),V=c(Z,"DIV",{});var ne=k(V);A=c(ne,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),"svelte-1hztx1h"!==N(A)&&(A.textContent=te),B=E(ne),P=c(ne,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),ne.forEach(m),U=E(Z),Y=c(Z,"DIV",{id:!0,class:!0}),k(Y).forEach(m),S=E(Z),z=c(Z,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-16lot9q"!==N(z)&&(z.innerHTML=se),q=E(Z),R=c(Z,"BUTTON",{type:!0,class:!0});var le=k(R);F=c(le,"SPAN",{});var de=k(F);G=De(de,oe),de.forEach(m),le.forEach(m),K=E(Z),W=c(Z,"P",{class:!0,"data-svelte-h":!0}),"svelte-154mv0h"!==N(W)&&(W.innerHTML=ce),Z.forEach(m),C.forEach(m),i.forEach(m),t.forEach(m),a.forEach(m),this.h()},h(){e(o,"href","/#"),e(o,"class","flex items-center mb-6"),e(h,"class","min-h-[100px]"),e(g,"for","email"),e(g,"class","block mb-2 text-sm font-medium"),e(b,"type","email"),e(b,"name","email"),e(b,"id","email"),e(b,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),e(b,"placeholder","name@company.com"),b.required=!0,e(w,"for","username"),e(w,"class","block mb-2 text-sm font-medium"),e($,"type","text"),e($,"name","username"),e($,"id","username"),e($,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),e($,"placeholder","Username-chan"),$.required=!0,e(D,"for","password"),e(D,"class","block mb-2 text-sm font-medium"),e(H,"type","password"),e(H,"name","password"),e(H,"id","password"),e(H,"placeholder","••••••••"),e(H,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),H.required=!0,e(A,"for","password"),e(A,"class","block mb-2 text-sm font-medium"),e(P,"type","password"),e(P,"name","confirm"),e(P,"id","confirm"),e(P,"placeholder","••••••••"),e(P,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),P.required=!0,e(Y,"id","h-captcha-"+t[7]),e(Y,"class","flex justify-center"),e(z,"class","flex items-center justify-between"),e(R,"type","submit"),e(R,"class","w-full bg-secondary hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"),R.disabled=t[1],e(W,"class","text-sm font-light text-primary"),e(p,"class","space-y-4 md:space-y-6"),e(p,"action","#"),e(d,"class","p-6 space-y-4 md:space-y-6 sm:p-8"),e(l,"class","w-full bg-transparent rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0"),e(s,"class","flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"),e(r,"class","")},m(e,c){re(e,r,c),a(r,s),a(s,o),a(s,n),a(s,l),a(l,d),a(d,h),ie.m(h,null),a(d,u),a(d,p),a(p,f),a(f,g),a(f,y),a(f,b),O(b,t[3]),a(p,x),a(p,v),a(v,w),a(v,L),a(v,$),O($,t[2]),a(p,I),a(p,T),a(T,D),a(T,M),a(T,H),O(H,t[5]),a(p,j),a(p,V),a(V,A),a(V,B),a(V,P),O(P,t[4]),a(p,U),a(p,Y),a(p,S),a(p,z),a(p,q),a(p,R),a(R,F),a(F,G),a(p,K),a(p,W),J||(Q=[Z(b,"input",t[21]),Z($,"input",t[22]),Z(H,"input",t[23]),Z(P,"input",t[24]),Z(p,"submit",We(t[10]))],J=!0)},p(e,a){le===(le=ne(e))&&ie?ie.p(e,a):(ie.d(1),ie=le(e),ie&&(ie.c(),ie.m(h,null))),8&a[0]&&b.value!==e[3]&&O(b,e[3]),4&a[0]&&$.value!==e[2]&&O($,e[2]),32&a[0]&&H.value!==e[5]&&O(H,e[5]),16&a[0]&&P.value!==e[4]&&O(P,e[4]),2&a[0]&&oe!==(oe=e[1]?"Loading":"Login")&&Me(G,oe),2&a[0]&&(R.disabled=e[1])},d(e){e&&m(r),ie.d(),J=!1,Ye(Q)}}}function at(e){let t,r,s,o,c=e[0]&&!window?.hcaptcha&&Ee(e);return s=new Be({props:{background:"https://images.unsplash.com/photo-1597851065532-055f97d12e47?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",$$slots:{default:[rt]},$$scope:{ctx:e}}}),{c(){c&&c.c(),t=Ce(),r=C(),je(s.$$.fragment)},l(e){const a=Re("svelte-1fvsnp3",document.head);c&&c.l(a),t=Ce(),a.forEach(m),r=E(e),Se(s.$$.fragment,e)},m(e,n){c&&c.m(document.head,null),a(document.head,t),re(e,r,n),qe(s,e,n),o=!0},p(e,a){e[0]&&!window?.hcaptcha?c?c.p(e,a):(c=Ee(e),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null);const r={};126&a[0]|4&a[1]&&(r.$$scope={dirty:a,ctx:e}),s.$set(r)},i(e){o||(Ne(s.$$.fragment,e),o=!0)},o(e){Pe(s.$$.fragment,e),o=!1},d(e){e&&m(r),c&&c.d(e),m(t),Ue(s,e)}}}var Te=(e=>(e.DARK="dark",e.LIGHT="light",e))(Te||{});function st(e,a,t){let r;ze(e,$e,(e=>t(6,r=e)));const s=Oe();let{sitekey:o=Ze}=a,{apihost:c=Je}=a,{hl:n=""}=a,{reCaptchaCompat:l=!1}=a,{theme:i=Te.DARK}=a,{size:d="compact"}=a;const m=()=>{f&&g&&u&&hcaptcha.reset(u)},h=Math.floor(100*Math.random());let u,p,f=!1,g=!1;const y=new URLSearchParams({recaptchacompat:l?"on":"off",onload:"hcaptchaOnLoad",render:"explicit"}),b=`${c}?${y.toString()}`;Fe((()=>{o||t(11,o=window.sitekey),window.hcaptchaOnLoad=()=>{s("load"),t(19,g=!0)},window.onSuccess=e=>{s("success",{token:e}),L=e},window.onError=()=>{s("error")},window.onClose=()=>{s("close")},window.onExpired=()=>{s("expired"),m()},s("mount"),t(0,f=!0)})),Ge((()=>{window.hcaptchaOnLoad=null,window.onSuccess=null,g&&(hcaptcha=null)}));let x=new RegExp(/^[a-z0-9]+$/i),k=!1,v="",w="",E="",C="",L="";const $=async()=>{try{t(1,k=!0);const{data:e,error:a}=await Qe.auth.signUp({email:w,password:C,options:{captchaToken:L,data:{username:v}}});if(a)throw a;location.assign("/account/profile")}catch(e){e instanceof Error&&(Xe(e.message),Y(e.message))}finally{t(1,k=!1)}};return e.$$set=e=>{"sitekey"in e&&t(11,o=e.sitekey),"apihost"in e&&t(12,c=e.apihost),"hl"in e&&t(13,n=e.hl),"reCaptchaCompat"in e&&t(14,l=e.reCaptchaCompat),"theme"in e&&t(15,i=e.theme),"size"in e&&t(16,d=e.size)},e.$$.update=()=>{1681409&e.$$.dirty[0]&&f&&g&&(u=hcaptcha.render(`h-captcha-${h}`,{sitekey:o,hl:n,theme:i,callback:"onSuccess","error-callback":"onError","close-callback":"onClose","expired-callback":"onExpired",size:d}),t(20,p=window.document.getElementById("skeleton")),p&&p.remove())},[f,k,v,w,E,C,r,h,b,async()=>{Y("")},async()=>{(v.length<8?(Y("username has to be 8 or more characters"),m(),0):x.test(v)?E!=C?(Y("passwords do not match"),m(),0):!(C.length<8&&(Y("password has to be at least 8 characters or stronger "),m(),1)):(Y("username has to be alpha-numeric a-Z and 0-9 only "),m(),0))&&$()},o,c,n,l,i,d,m,e=>{if(f&&g&&u)return hcaptcha.execute(u,e)},g,p,function(){w=this.value,t(3,w)},function(){v=this.value,t(2,v)},function(){C=this.value,t(5,C)},function(){E=this.value,t(4,E)}]}class ct extends He{constructor(e){super(),Ve(this,e,st,at,Ae,{sitekey:11,apihost:12,hl:13,reCaptchaCompat:14,theme:15,size:16,reset:17,execute:18},null,[-1,-1])}get reset(){return this.$$.ctx[17]}get execute(){return this.$$.ctx[18]}}export{ct as default};