import{S as Be,i as Re,s as Se,W as je,E as Ee,j as C,c as Fe,F as Ne,r as h,p as E,a as Oe,w as a,v as se,m as Pe,t as qe,b as Ue,d as ze,e as Le,f as Ge,o as We,g as Ye,h as c,l as u,n as _,C as Ke,u as e,D as De,k as Me,z as N,q as He,G as U,H as J,I as Je,x as Ve,J as Ze,K as Qe,L as Xe,M as Y,y as Te,A as be,N as $e,O as et}from"./storage.a3cc3a81.js";import{b as tt}from"./appwrite.bea8a91a.js";import"./index.ae223c1e.js";import"./sdk.99f24ef6.js";import"./_commonjsHelpers.725317a4.js";function Ie(l){let r,t;return{c(){r=c("script"),this.h()},l(s){r=u(s,"SCRIPT",{src:!0});var y=_(r);y.forEach(h),this.h()},h(){Ke(r.src,t=l[8])||e(r,"src",t),r.async=!0,r.defer=!0},m(s,y){se(s,r,y)},p:De,d(s){s&&h(r)}}}function rt(l){let r,t="Register your KBVE Account!";return{c(){r=c("h1"),r.textContent=t,this.h()},l(s){r=u(s,"H1",{class:!0,"data-svelte-h":!0}),N(r)!=="svelte-1rn4tp3"&&(r.textContent=t),this.h()},h(){e(r,"class","text-xl font-bold leading-tight tracking-tight gradient-text md:text-2xl")},m(s,y){se(s,r,y)},p:De,d(s){s&&h(r)}}}function at(l){let r,t,s,y='<svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.147 15.085a7.159 7.159 0 0 1-6.189 3.307A6.713 6.713 0 0 1 3.1 15.444c-2.679-4.513.287-8.737.888-9.548A4.373 4.373 0 0 0 5 1.608c1.287.953 6.445 3.218 5.537 10.5 1.5-1.122 2.706-3.01 2.853-6.14 1.433 1.049 3.993 5.395 1.757 9.117Z"></path></svg> <span class="sr-only">Fire icon</span>',i,o,f,k,v,d='<span class="sr-only">Close</span> <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"></path></svg>',L,w;return{c(){r=c("h1"),t=c("div"),s=c("div"),s.innerHTML=y,i=C(),o=c("div"),f=Me(l[6]),k=C(),v=c("button"),v.innerHTML=d,this.h()},l(B){r=u(B,"H1",{});var g=_(r);t=u(g,"DIV",{id:!0,class:!0,role:!0});var m=_(t);s=u(m,"DIV",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-5am7pi"&&(s.innerHTML=y),i=E(m),o=u(m,"DIV",{class:!0});var V=_(o);f=He(V,l[6]),V.forEach(h),k=E(m),v=u(m,"BUTTON",{type:!0,class:!0,"data-dismiss-target":!0,"aria-label":!0,"data-svelte-h":!0}),N(v)!=="svelte-1gk004k"&&(v.innerHTML=d),m.forEach(h),g.forEach(h),this.h()},h(){e(s,"class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-blue-500 bg-blue-100 rounded-lg dark:bg-blue-800 dark:text-blue-200"),e(o,"class","ml-3 text-sm font-normal capitalize"),e(v,"type","button"),e(v,"class","ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"),e(v,"data-dismiss-target","#toast-default"),e(v,"aria-label","Close"),e(t,"id","toast-default"),e(t,"class","flex items-center w-full max-w-xs p-4 bg-offset rounded-lg shadow dark:text-gray-400 dark:bg-gray-800"),e(t,"role","alert")},m(B,g){se(B,r,g),a(r,t),a(t,s),a(t,i),a(t,o),a(o,f),a(t,k),a(t,v),L||(w=J(v,"click",l[9]),L=!0)},p(B,g){g[0]&64&&Ve(f,B[6])},d(B){B&&h(r),L=!1,w()}}}function st(l){let r,t,s,y='<img class="w-32 mr-2" src="https://kbve.com/assets/img/letter_logo.svg" alt="logo"/>',i,o,f,k,v,d,L,w,B="Your email",g,m,V,T,H,z="Your Username",Z,I,Q,S,D,G="Password",P,b,K,O,F,oe="Confirm Password",X,M,$,q,ee,n,le='<div class="flex items-start"></div> <a href="/account/recovery" class="text-sm font-medium text-secondary hover:underline dark:text-primary-500">Forgot password?</a>',te,R,re,ae=l[1]?"Loading":"Register",ne,pe,W,ye='Have an account yet? <a href="/account/login" class="font-medium text-primary-600 hover:underline dark:text-primary-500">Login!</a>',ge,ve;function we(p,A){return p[6]?at:rt}let ie=we(l),j=ie(l);return{c(){r=c("section"),t=c("div"),s=c("a"),s.innerHTML=y,i=C(),o=c("div"),f=c("div"),k=c("div"),j.c(),v=C(),d=c("form"),L=c("div"),w=c("label"),w.textContent=B,g=C(),m=c("input"),V=C(),T=c("div"),H=c("label"),H.textContent=z,Z=C(),I=c("input"),Q=C(),S=c("div"),D=c("label"),D.textContent=G,P=C(),b=c("input"),K=C(),O=c("div"),F=c("label"),F.textContent=oe,X=C(),M=c("input"),$=C(),q=c("div"),ee=C(),n=c("div"),n.innerHTML=le,te=C(),R=c("button"),re=c("span"),ne=Me(ae),pe=C(),W=c("p"),W.innerHTML=ye,this.h()},l(p){r=u(p,"SECTION",{class:!0});var A=_(r);t=u(A,"DIV",{class:!0});var ce=_(t);s=u(ce,"A",{href:!0,class:!0,"data-svelte-h":!0}),N(s)!=="svelte-j5g76x"&&(s.innerHTML=y),i=E(ce),o=u(ce,"DIV",{class:!0});var ke=_(o);f=u(ke,"DIV",{class:!0});var ue=_(f);k=u(ue,"DIV",{class:!0});var _e=_(k);j.l(_e),_e.forEach(h),v=E(ue),d=u(ue,"FORM",{class:!0,action:!0});var x=_(d);L=u(x,"DIV",{});var de=_(L);w=u(de,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(w)!=="svelte-1avffmu"&&(w.textContent=B),g=E(de),m=u(de,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),de.forEach(h),V=E(x),T=u(x,"DIV",{});var fe=_(T);H=u(fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(H)!=="svelte-15wap3a"&&(H.textContent=z),Z=E(fe),I=u(fe,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),fe.forEach(h),Q=E(x),S=u(x,"DIV",{});var he=_(S);D=u(he,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(D)!=="svelte-1jjewb5"&&(D.textContent=G),P=E(he),b=u(he,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),he.forEach(h),K=E(x),O=u(x,"DIV",{});var me=_(O);F=u(me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(F)!=="svelte-1hztx1h"&&(F.textContent=oe),X=E(me),M=u(me,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),me.forEach(h),$=E(x),q=u(x,"DIV",{id:!0,class:!0}),_(q).forEach(h),ee=E(x),n=u(x,"DIV",{class:!0,"data-svelte-h":!0}),N(n)!=="svelte-16lot9q"&&(n.innerHTML=le),te=E(x),R=u(x,"BUTTON",{type:!0,class:!0});var xe=_(R);re=u(xe,"SPAN",{});var Ce=_(re);ne=He(Ce,ae),Ce.forEach(h),xe.forEach(h),pe=E(x),W=u(x,"P",{class:!0,"data-svelte-h":!0}),N(W)!=="svelte-154mv0h"&&(W.innerHTML=ye),x.forEach(h),ue.forEach(h),ke.forEach(h),ce.forEach(h),A.forEach(h),this.h()},h(){e(s,"href","/#"),e(s,"class","flex items-center mb-6"),e(k,"class","min-h-[100px]"),e(w,"for","email"),e(w,"class","block mb-2 text-sm font-medium"),e(m,"type","email"),e(m,"name","email"),e(m,"id","email"),e(m,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),e(m,"placeholder","name@company.com"),m.required=!0,e(H,"for","username"),e(H,"class","block mb-2 text-sm font-medium"),e(I,"type","text"),e(I,"name","username"),e(I,"id","username"),e(I,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),e(I,"placeholder","Username-chan"),I.required=!0,e(D,"for","password"),e(D,"class","block mb-2 text-sm font-medium"),e(b,"type","password"),e(b,"name","password"),e(b,"id","password"),e(b,"placeholder","••••••••"),e(b,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),b.required=!0,e(F,"for","password"),e(F,"class","block mb-2 text-sm font-medium"),e(M,"type","password"),e(M,"name","confirm"),e(M,"id","confirm"),e(M,"placeholder","••••••••"),e(M,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),M.required=!0,e(q,"id","h-captcha-"+l[7]),e(q,"class","flex justify-center "),e(n,"class","flex items-center justify-between"),e(R,"type","submit"),e(R,"class","w-full bg-secondary hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"),R.disabled=l[1],e(W,"class","text-sm font-light text-primary"),e(d,"class","space-y-4 md:space-y-6"),e(d,"action","#"),e(f,"class","p-6 space-y-4 md:space-y-6 sm:p-8"),e(o,"class","w-full bg-transparent rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0"),e(t,"class","flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"),e(r,"class","")},m(p,A){se(p,r,A),a(r,t),a(t,s),a(t,i),a(t,o),a(o,f),a(f,k),j.m(k,null),a(f,v),a(f,d),a(d,L),a(L,w),a(L,g),a(L,m),U(m,l[3]),a(d,V),a(d,T),a(T,H),a(T,Z),a(T,I),U(I,l[2]),a(d,Q),a(d,S),a(S,D),a(S,P),a(S,b),U(b,l[5]),a(d,K),a(d,O),a(O,F),a(O,X),a(O,M),U(M,l[4]),a(d,$),a(d,q),a(d,ee),a(d,n),a(d,te),a(d,R),a(R,re),a(re,ne),a(d,pe),a(d,W),ge||(ve=[J(m,"input",l[22]),J(I,"input",l[23]),J(b,"input",l[24]),J(M,"input",l[25]),J(d,"submit",Je(l[10]))],ge=!0)},p(p,A){ie===(ie=we(p))&&j?j.p(p,A):(j.d(1),j=ie(p),j&&(j.c(),j.m(k,null))),A[0]&8&&m.value!==p[3]&&U(m,p[3]),A[0]&4&&I.value!==p[2]&&U(I,p[2]),A[0]&32&&b.value!==p[5]&&U(b,p[5]),A[0]&16&&M.value!==p[4]&&U(M,p[4]),A[0]&2&&ae!==(ae=p[1]?"Loading":"Register")&&Ve(ne,ae),A[0]&2&&(R.disabled=p[1])},d(p){p&&h(r),j.d(),ge=!1,Ze(ve)}}}function ot(l){let r,t,s,y,i=l[0]&&!window?.hcaptcha&&Ie(l);return s=new je({props:{background:"https://images.unsplash.com/photo-1597851065532-055f97d12e47?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",$$slots:{default:[st]},$$scope:{ctx:l}}}),{c(){i&&i.c(),r=Ee(),t=C(),Fe(s.$$.fragment)},l(o){const f=Ne("svelte-1fvsnp3",document.head);i&&i.l(f),r=Ee(),f.forEach(h),t=E(o),Oe(s.$$.fragment,o)},m(o,f){i&&i.m(document.head,null),a(document.head,r),se(o,t,f),Pe(s,o,f),y=!0},p(o,f){o[0]&&!window?.hcaptcha?i?i.p(o,f):(i=Ie(o),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null);const k={};f[0]&126|f[1]&16&&(k.$$scope={dirty:f,ctx:o}),s.$set(k)},i(o){y||(qe(s.$$.fragment,o),y=!0)},o(o){Ue(s.$$.fragment,o),y=!1},d(o){o&&h(t),i&&i.d(o),h(r),ze(s,o)}}}var Ae=(l=>(l.DARK="dark",l.LIGHT="light",l))(Ae||{});function lt(l,r,t){let s,y;Le(l,be,n=>t(28,s=n)),Le(l,et,n=>t(6,y=n));const i=Ge();let{sitekey:o=Qe}=r,{apihost:f=Xe}=r,{hl:k=""}=r,{reCaptchaCompat:v=!1}=r,{theme:d=Ae.LIGHT}=r,{size:L="compact"}=r;const w=()=>{V&&T&&H&&hcaptcha.reset(H)},B=n=>{if(V&&T&&H)return hcaptcha.execute(H,n)},g=()=>{V&&T&&new Toastify({text:s,duration:3e3,destination:"#",newWindow:!1,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(to right, #FF8A4C, #8DA2FB)"},onClick(){}}).showToast()},m=Math.floor(Math.random()*100);let V=!1,T=!1,H,z;const Z=new URLSearchParams({recaptchacompat:v?"on":"off",onload:"hcaptchaOnLoad",render:"explicit"}),I=`${f}?${Z.toString()}`;We(()=>{o||t(11,o=window.sitekey),window.hcaptchaOnLoad=()=>{i("load"),t(20,T=!0)},window.onSuccess=n=>{i("success",{token:n}),K=n},window.onError=()=>{i("error")},window.onClose=()=>{i("close")},window.onExpired=()=>{i("expired"),w()},i("mount"),t(0,V=!0)}),Ye(()=>{window.hcaptchaOnLoad=null,window.onSuccess=null,T&&(hcaptcha=null)});let Q=new RegExp(/^[a-z0-9]+$/i),S=!1,D="",G="",P="",b="",K="";const O=async()=>{Y("")},F=()=>D.length<8?(Y("username has to be 8 or more characters"),g(),w(),!1):Q.test(D)?P!=b?(Y("passwords do not match"),g(),w(),!1):b.length<8?(Y("password has to be at least 8 characters or stronger "),g(),w(),!1):!0:(Y("username has to be alpha-numeric a-Z and 0-9 only "),g(),w(),!1),oe=async()=>{F()&&X()},X=async()=>{try{t(1,S=!0);const n={username:D,email:G,password:b,"h-captcha-response":K},le=await tt.createExecution("register",JSON.stringify(n),!1,"/","POST"),{status:te,responseBody:R}=le;if(te==="completed")Y(`Yes! ${R}`),g(),Te(be,"Account Ready!").then(g),setTimeout(()=>{location.assign("/account/login/")},2e3);else throw new Error(R)}catch(n){n instanceof Error&&($e(n.message),Y(n.message),g(),w()),t(1,S=!1)}};function M(){G=this.value,t(3,G)}function $(){D=this.value,t(2,D)}function q(){b=this.value,t(5,b)}function ee(){P=this.value,t(4,P)}return l.$$set=n=>{"sitekey"in n&&t(11,o=n.sitekey),"apihost"in n&&t(12,f=n.apihost),"hl"in n&&t(13,k=n.hl),"reCaptchaCompat"in n&&t(14,v=n.reCaptchaCompat),"theme"in n&&t(15,d=n.theme),"size"in n&&t(16,L=n.size)},l.$$.update=()=>{l.$$.dirty[0]&3254273&&V&&T&&(H=hcaptcha.render(`h-captcha-${m}`,{sitekey:o,hl:k,theme:d,callback:"onSuccess","error-callback":"onError","close-callback":"onClose","expired-callback":"onExpired",size:L}),t(21,z=window.document.getElementById("skeleton")),z&&z.remove(),Te(be,"Register Your KBVE Global").then(g))},[V,S,D,G,P,b,y,m,I,O,oe,o,f,k,v,d,L,w,B,g,T,z,M,$,q,ee]}class ft extends Be{constructor(r){super(),Re(this,r,lt,ot,Se,{sitekey:11,apihost:12,hl:13,reCaptchaCompat:14,theme:15,size:16,reset:17,execute:18,toast:19},null,[-1,-1])}get reset(){return this.$$.ctx[17]}get execute(){return this.$$.ctx[18]}get toast(){return this.$$.ctx[19]}}export{ft as default};
